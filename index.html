<!DOCTYPE html>
<html  translate="no">
    <head>
       <meta name="google" content="notranslate">
       <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
       <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no, shrink-to-fit=no">
       <meta http-equiv="cache-control" content="max-age=3600, must-revalidate">
       <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
       <meta name="HandheldFriendly" content="true">
       <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
       <meta http-equiv="cache-control" content="no-cache, must-revalidate,no-store"/>
       <meta http-equiv="cache-control" content="post-check=0, pre-check=0', FALSE"/>
       <meta http-equiv="pragma" content="no-cache" />
       <meta http-equiv="expires" content="-1" /> 
	    <title>
		Arulmigu Sri Balagurunathan Swamy Temple, Dindigul - 624001 </title>
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">	 <script type="text/javascript">
		  language = 'TN';
	 </script>
<link rel="icon" href="../favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">

<!--========= jquery and bootstrap library ==========-->
    <!--<link rel="stylesheet" href="../resources/library/bootstrap/css/bootstrap.min.css"/>-->
    <link rel="stylesheet" type="text/css" href="../resources/library/bootstrap_4.0/css/bootstrap.min.css" />
    <link href="../resources/library/font-awesome/css/font-awesome.css" rel="stylesheet">
    
    <!-- <script src="../resources/library/js/jquery_1_10_2.js"></script>
    <script src="../resources/library/js/jquery_ui_1_10_4.js"></script>-->
    <script src="../resources/library/js/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <!-- <script src="../resources/library/js/jquery-ui-1.12.1.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script> -->
    <script src="../resources/library/js/jquery-ui.min_1.13.2.js"></script>
    <script src="../resources/library/bootstrap_4.0/js/popper.min.js"></script>
    <!--<script src="../resources/library/bootstrap/js/bootstrap.min.js"></script>-->
    <script src="../resources/library/bootstrap_4.0/js/bootstrap.min.js"></script>
    <!--========= jquery/bootstrap library end ==========-->  
    
    <!--========== checkbox/radio btn style ============-->
    <link rel="stylesheet" href="../resources/library/bootstrap/css/bootstrap-checkbox.min.css">
    <!--========== checkbox/radio btn style end ============-->  
    
    <!--========== Confirm Alert library =============-->
    <link rel="stylesheet" href="../resources/library/css/jquery-confirm.min.css">
    <script src="../resources/library/js/jquery-confirm.min.js"></script> 
    <!--========== Confirm Alert library end =============-->
    
    <!--========== Date picker ============-->
    <script type="text/javascript" src="../resources/library/bootstrap/js/bootstrap-datepicker.min.js"></script>
    <link rel="stylesheet" href="../resources/library/bootstrap/css/bootstrap-datepicker3.css"/>
    <!--========== Date picker ============-->
    
    <!--================== Data Table PDF ===============-->
    <!--<link rel="stylesheet" href="../resources/library/css/jquery.dataTables.css">-->
    <link rel="stylesheet" href="../resources/library/bootstrap_4.0/css/dataTables.bootstrap4.min.css">
    <link href="../resources/library/bootstrap_4.0/css/buttons.dataTables.min.css" rel="stylesheet">
    <!--<script type="text/javascript" src="../resources/library/js/jquery.dataTables.js"></script>-->
    <script type="text/javascript" src="../resources/library/bootstrap_4.0/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="../resources/library/bootstrap_4.0/js/dataTables.bootstrap4.min.js"></script>
    <script src="../resources/library/bootstrap_4.0/js/dataTables.buttons.min.js"></script>
    <!--<script src="../resources/library/bootstrap_4.0/js/buttons.flash.min.js"></script>-->
    <script src="../resources/library/bootstrap_4.0/js/jszip.min.js"></script>
    <!--<script src="../resources/library/bootstrap_4.0/js/pdfmake.min.js"></script>-->
    <!--<script src="../resources/library/bootstrap_4.0/js/vfs_fonts.js"></script>-->
    <script src="../resources/library/bootstrap_4.0/js/buttons.html5.min.js"></script>
    <script src="../resources/library/bootstrap_4.0/js/buttons.print.min.js"></script>
    <script src="../resources/library/bootstrap_4.0/js/buttons.colVis.min.js"></script>
    <!--============== END Data Table PDF =============-->
    
    <!--========== common style/script =============-->
    <link rel="stylesheet" href="../css/cumulative_v1.css" type="text/css" />
    <link rel="stylesheet" href="../css/menu_style.css"/>
    <link rel="stylesheet" href="../css/common_style.css"/>
    <link href="../css/style.php" rel="stylesheet">
    
    <script type="text/javascript" src="../resources/library/label.js"></script>
    <script src="../js/req_common.js"></script>
    <script type="text/javascript" src="../temples/js/login_script.js"></script>
    <!--========== common style/script end =============-->
    
    <!--========== Module script =============-->
    <script type="text/javascript" src="../eservices/js/ajax_epayment.js"></script>
    <!--========== Module script =============-->
   	<!--========== Module script =============-->
    <!-- <script src="../resources/qrcode/qrcode-js/google-qr.js"></script> -->
    <script src="../resources/qrcode/qrcode-js/jquery.qrcode.min.js"></script>
    <script src="../resources/qrcode/qrcode-js/qrcode.js"></script>
    <script src="../resources/texttospeech/text_to_speech.js"></script>
    <script type="text/javascript" src="../js/session_out.js"></script>
    <!--========== Module script =============-->
	<script type="text/javascript">
         $(document).ready(function(){
             if(localStorage.getItem("menu_head")!='' && localStorage.getItem("menu_head")!=null)
             {
             $('.menu_head').text(localStorage.getItem("menu_head"));
             localStorage.setItem('menu_head','');
             }
		  	language = 'TN';
  				// Reset Font Size
			  var originalFontSize = $('body').css('font-size');
			  //alert(originalFontSize);
			 $(".resetFont").click(function(){
				 window.location.reload(); 
			 // $('body,div,span,a,p,td').css('font-size', originalFontSize);
			  });
			  // Increase Font Size
			  $(".increaseFont").click(function(){
				  
				  var currentFontSize = $('body,div,span,a,p,td').css('font-size');
				 // alert(currentFontSize);
				  if(currentFontSize>'16px')
				  {
					  return false;
				  }
				 var currentFontSizeNum = parseFloat(currentFontSize, 10);
				var newFontSize = currentFontSizeNum+2;
				$('body,div,span,a,p,td').css('font-size', newFontSize);
				return false;
			  });
			  // Decrease Font Size
			  $(".decreaseFont").click(function(){
				  var originalFontSize123 = $('body,div,span,a,p,td').css('font-size');                               
				  var currentFontSize = $('body,div,span,a,p,td').css('font-size');
				   if(currentFontSize<'14px')
				  {
					  return false;
				  }
				 var currentFontSizeNum = parseFloat(currentFontSize, 10);
				var newFontSize = currentFontSizeNum-2;
				if(newFontSize >= 5.0){
				$('body,div,span,a,p,td').css('font-size', newFontSize);
				}
				return false;
			  });
			});
		 $(document).ready(function(){
			var table = $('#myTable,#myTable1,#myTable2,#subTable,#myTable3,#myTable4,#myTable5').DataTable({
			 retrieve: true,
			 stateSave: false,
			 language: {
			  searchPlaceholder: "Search...",
			  search:""
			 }
			});
		$('a.toggle-vis').on( 'click', function (e) {
				e.preventDefault();
				var column = table.column( $(this).attr('data-column') );
				column.visible( ! column.visible() );
			 });
         });
	 </script>
<style type="text/css">
.no-js #loader {
	display: none;
}
.js #loader {
	display: block;
	position: absolute;
	top: 0;
}
.se-pre-con {
	position: fixed;
	left: 0px;
	top: 0px;
	width: 100%;
	height: 100%;
	z-index: 999;
	background:url(../resources/library/images/loader2.gif) center no-repeat #FFF;
}
.well.well-lg
{
	border:1px solid #337AB7;
}

.col-xs-contact-img 
{
    margin-top: 15px;
}
.demotext {
color: #202c2d;
background: #FFFFFF;
text-shadow: 26 10px #808d93;
color: #202c2d;
background: #FFFFFF;
}

</style>

<script type="text/javascript" language="javascript">
	$(window).on('load', function(){
		$(".se-pre-con").fadeOut("slow");
	});
</script>
<style>
	.close 
	{
		color: #fff;
		float: right;
		font-size: 25px;
		font-weight: 700;
		line-height: 1;
		opacity: 0.5;
		text-shadow: 0 1px 0 #000;
	}
	/*** tracking process ****/
</style>
<div id="view-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog"> 
        <div class="modal-content">  
            <div class="modal-header primary_bgcolor"> 
               <span id="modelview_header" class="modal-title" style="font-size:15px; color:#fff; text-align:center;width:100%">Details</span> 
               <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button> 
            </div> 
            <div class="modal-body"  style="height:75%; overflow:auto;line-height: 25px;">                            
               <div id="modal-loader" style="display: none;">
			    <center><img src="../resources/library/images/load.gif" class="myImageForm"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>
               </div>
               <div id="dynamic-content" style="text-align:justify"></div> 
            </div> 

            <div class="modal-footer" id="common_footer">
            	<div class="col-lg-4"></div>
               
				<div class="col-lg-2"><button type="button" class="btn btn-primary btn-block save_btnmodel" style="display:none"></button> </div>
                 <div class="col-lg-2"><button type="button" class="btn btn-primary btn-block primary_btn" id="modelviewconfirm_save" data-dismiss="modal"  style="background:#006600; border:#006600 1px solid; display:none">Save</button></div>
                <div class="col-lg-2"><button type="button" class="btn btn-primary btn-block modelview_close primary_btn" data-dismiss="modal">மறைக்க</button> </div>
            </div>
			<div class="modal-footer" style="display:none;" id="tnilam_footer">
            	<div class="col-lg-8"></div>
                <div class="col-lg-2"><button type="button" class="btn btn-primary btn-block primary_btn" onclick="setlandregister_data($('#webservice_data').val(),'Y')">ஒப்புதல்</button> </div>
                <div class="col-lg-2"><button type="button" class="btn btn-primary btn-block modelview_close primary_btn" data-dismiss="modal">மறைக்க</button> </div>
            </div>
            <div class="modal-footer" style="display:none;" id="track_footer">
            	<div class="form-group col-lg-12" style="padding:0px; margin-top:8px;">
                <div class="row" align="left">
                    <div class="col-lg-12">
                    <label id="lbl_action">Action</label>                    
                    <select class="form-control notclear" id="slt_mdl_track_action">
                    </select>
                    </div>
                </div>
                   <!-- <div class="col-lg-12" id="data_publish">
                    <label id="lbl_action">Publish :</label> 
                    <label class="radio-inline"><input type="radio" name="publish" value="Y">Yes</label>
                    <label class="radio-inline"><input type="radio" name="publish" value="N" checked>No</label>
                    </div>-->
                </div>
            
                <div class="form-group col-lg-12" style="padding:0px; margin-top:8px;" id="viewer_remakrs_block">
                <div class="row" align="left">
                    <div class="col-lg-12">
                    <label id="lbl_reason">Reason</label>
                    <textarea class="form-control sm14" id="viewer_remarks_msg" disabled></textarea>
                    </div>
                </div>
                </div>
                
                <div class="form-group col-lg-12" style="padding:0px; margin-top:8px;">
                <div class="row" align="left">                                 
                    <div class="col-lg-6">
                    <button type="button" class="btn btn-primary btn-block primary_btn" id="viewer_remarks_save" data-dismiss="modal" disabled style="background:#006600; border:#006600 1px solid;">Save</button>
                    </div>

                    <div class="col-lg-6">
                    <button type="button" class="btn btn-primary btn-block modelview_close" id="viewer_remarks_close primary_btn" data-dismiss="modal">மறைக்க</button>
                    </div>
                </div>
                </div>
                
            </div>
                            
        </div> 
    </div>
</div>

<!--- onepage model view  --->    
<div id="view-onepage-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog" style="width:100%;"> 
        <div class="modal-content" style="width: 90%;max-width: 100%;">  
         <!--   <div class="modal-header" style="background-color:#337AB7"> 
               <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button> 
               <span class="modal-title" style="font-size:15px; color:#fff; text-align:center" >
               <i class=""></i><b><p id="modelview_header">Details</p></b>               
               </span> 
            </div> -->
            <div class="modal-body"  style="height:83%;padding:0px">                            
               <!--<div id="modal-loader" style="display: none; text-align: center;">
               <img src="../resources/library/images/load.gif" />
               </div>-->
               <div id="dynamic-onepage-content"></div> 
            </div> 

            <div class="modal-footer" id="common_footer">
            <div class="row col-lg-12">
            	<div class="col-lg-10"></div>
                <div class="col-lg-2"><button type="button" class="btn btn-primary btn-block modelview_close1 primary_btn" data-dismiss="modal">மறைக்க</button> </div>
            </div>
			</div>
          
            </div>
                            
        </div> 
    </div>
    <!--- onepage model view end --->  

   <!--- model view 2 start --->  
<div id="view-modal_sub" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog"> 
        <div class="modal-content">  
            <div class="modal-header primary_bgcolor"> 
               <span id="modelview_header_sub" class="modal-title" style="font-size:15px; color:#fff; text-align:center;width:100%;font-weight: 700;">Details</span> 
               <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>
            </div> 
            <div class="modal-body"  style="height:75%; overflow:auto;line-height: 25px;">                            
               <div id="modal-loader" style="display: none;">
              <center><img src="../resources/library/images/load.gif" class="myImageForm"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>
               </div>
               <div id="dynamic-content_sub" style="text-align:justify"></div> 
            </div> 

            <div class="modal-footer" id="common_footer">
            	<div class="row col-lg-12">
            	<div class="col-lg-10"></div>
                <div class="col-lg-2"><button type="button" class="btn btn-primary btn-block modelview_close primary_btn" data-dismiss="modal">மறைக்க</button> </div>
            </div>
            </div>

            <div class="modal-footer" style="display:none;" id="track_footer">
                    <button type="button" class="btn btn-primary btn-block modelview_close" id="viewer_remarks_close primary_btn" data-dismiss="modal">மறைக்க</button>
                    </div>
                
            </div>
            
                            
        </div> 
    </div>
</div>

<!--- Registration Details model view  --->  
<div id="view-reg-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog"> 
        <div class="modal-content">  
            <div class="modal-header primary_bgcolor"> 
               <span id="modelview_header" class="modal-title" style="font-size:15px; color:#fff; text-align:center;width:100%">Details</span> 
               <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button> 
            </div> 
            <div class="modal-body"  style="height:75%; overflow:auto;">                            
               <div id="modal-loader" style="display: none;">
                <center><img src="../resources/library/images/load.gif" class="myImageForm"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>
               </div>
               <div id="dynamic-content"></div> 
            </div> 

            <div class="modal-footer" id="common_footer">    
                <div class="col-lg-2"> <input type="button" style="background-color: rgb(132, 90, 15);color: white;display: none;" disabled value="சமர்ப்பிக்க" class="btn btn-block button mmscholarsform_btn mmscholarsform_btn1" onclick="mmscholarsform_save()" /> </div>          
                <div class="col-lg-2"><button type="button" class="btn btn-primary btn-block modelview_close primary_btn" data-dismiss="modal">மறைக்க</button> </div>
            </div>                              
        </div> 
    </div>
</div>
<!---  Registration Details model view end --->  
    
<script type="text/javascript">
	 	$(document).ready(function(){
		/*================================ colorblindness_page click =================================*/ 
			$(".colorblindness_page").click(function(){
				$("span[data-id]").css('border','none');
				var color = $(this).data('id');
				$.ajax({
					type: "POST",
					url: "../includes/color_blindness_page.php",
					data: {
						blindness_color:color,
						tid:'31962',
					},
					success:function(result){
					color_settting(result,'31962');
					},
					error:function (xhr, ajaxOptions, thrownError){
						alert(thrownError);
					}
				});
			});
			
/*================================ colorblindness_page end =================================*/ 
	/*================================ Onload =================================*/ 

	color_settting('','31962');
/*================================ Onload end =================================*/ 
/*================================ Pagenation Button Click =================================*/ 
			 $(document).on('click','.paginate_button,th',function(){
				color_settting('','31962');
             });
			  $(document).on('keyup','#plh_search',function(){
				color_settting('','31962');
             });

/*================================ Pagenation Button Click End =================================*/ 

});

		
		function color_settting(color,temple_id){
			var sessioncolor =color;
			var templeid =temple_id;
			 if(sessioncolor!='')
			 {
				 var param = String(sessioncolor).split(",");
			 }
			 else 
			 {
				 var sessioncolor='#0E526E,#C3D7E0,#0074D0';
				 var param = String(sessioncolor).split(",");
			 }
			 $('.tooltip-inner').hover(function(){
				$('.primary_btn + .tooltip > .tooltip-inner').css({'background-color':param[1]});
				$('.primary_btn + .tooltip > .tooltip-inner').css({'color':'#000'});
			});
			$("span[data-id]").css('border','none');
			$("span[data-id='"+sessioncolor+"']").css('border','1px solid #fff');
			/**** color****/
			$('.primary_color').css({'color':param[0]});
			/****color end****/
			/****background color****/
			$('.primary_bgcolor').css({'background-color':param[0]});
			$('.secondary_bgcolor').css({'background-color':param[1]});
			$('.prev,.next,.dow,.datepicker-switch').css({'background-color':param[0]});
			$('.primary_bordercolor').css('border-bottom-color',param[0]);

			
			/****background color end****/
			/****border color****/
			$('.primary_bordercolor').css({"border-color":param[0]});
			
			/****border color end****/
			/****btn color****/
			$('.primary_btn').css({"background-color":param[0],"border-color":param[1]});
			/****btn color end****/
			/****table color****/
			$('.primary_table_color  tbody td .fa-file-pdf-o').css({"color":param[0]});
			$('.primary_table_color thead tr:first-child').css({"background-color":param[0]});
			$('.primary_table_color tbody td button,.primary_table_color tbody td .btn').css({"background-color":param[0],"border-color":param[1]});
			$(".primary_table_color tbody tr.odd,.primary_table_color tbody tr:nth-child(2n+1)").css("background-color",param[1]);
			$(".primary_table_color tbody tr.even").css("background-color","#fff");
			$(".table-background-none tbody tr.even").css("background-color","transparent");
			/****table color end****/
			
			
			/****active menu****/
            	$('.templemenu .nav > li.active > a, .hpmenu .nav > li.active > a,.navbar-right button').css({'background-color':param[2]});
            	$('.templemenu .nav > li > a,.hpmenu .nav > li > a').hover(function(){
            		$(this).css({'background-color':param[2]});
            	});
            	$('.templemenu .nav > li > a,.hpmenu .nav > li > a').mouseleave(function(){
					$(this).not('.templemenu .nav > li.active > a, .hpmenu .nav > li.active > a').css({'background-color':''});	
				});
            		
            /****active menu end****/ 
			
			
			/***** hover color *****/
			$('.primary_hover_color').hover(function(){
			$(this).css({"background-color":param[0],"color":"#fff"});
			});
			$('.primary_hover_color').mouseleave(function(){
			$(this).css({"background-color":'transparent',"color":"#000"});
			});
			$('.primary_btn,.primary_table_color tbody td button,.primary_table_color tbody td .btn').hover(function(){
			$('this').css({"background-color":param[0],"border-color":param[1]});
			});
			/***** hover color end *****/
			
			/****tab color****/
			$('.primary_tab a').click(function(){
			$('.primary_tab a').css({"color":"#000","background-color":"#fff"});
			$(this).css({"color":"#fff","background-color":param[0],"border-color":param[0]});
			$('.primary_tab a::after').css({"border-left":"10px solid #f20000"});
			});
			/****tab color end****/
			/****logo image color****/
							$('.emblem-resize').attr('src','../images/thome_logo_'+param[0].replace('#','')+'.png');
							/****logo image color end ****/
	}
		
	 </script><body>
<!-- <div class="se-pre-con"></div> -->
<div class="header-con" style="width:100%;">
  <div class="primary_bgcolor" style="position: inherit;top:0;width:100%;z-index: 999;height: auto;padding-right: 10px;padding-left: 10px;" id="fontstyle">
			<div class="col-lg-2">
				<a class="sessionout_time" href="javascript:void(0)" style="float:left;">Session timeout in : <span id="logout_time" style="color: #FF3;">1200</span> sec</a>
			</div>
            <label id="lbl_visitsite" style="display:none"></label>
            <label id="lbl_ataglance" style="display:none"></label>
            <label id="lbl_select" style="display:none"></label>
            <label id="lbl_view" style="display:none"></label>
            <label id="lbl_search" style="display:none"></label>
            <label id="lbl_profile" style="display:none"></label>
            <label id="lbl_website" style="display:none"></label>
            <label id="lbl_dilapphotos" style="display:none"></label>
            <label id="lbl_image" style="display:none"></label>
            <label id="lbl_donate" style="display:none"></label>
            <label id="lbl_bookticket" style="display:none"></label>
			<label id="lbl_currentstatus" style="display:none"></label>
			 <label id="lbl_history" style="display:none"></label>
			 <label id="lbl_gisview" style="display:none"></label>
			 <label id="lbl_propview" style="display:none"></label>
			 <label id="lbl_quickdonation" style="display:none"></label>
             <span><i class="fa fa-volume-up" aria-hidden="true"></i><a href="../hrcehome/screen_reader.php" style="padding-left:5px; color:#FFF;">Screen Reader Access</a></span>
             &emsp;
             <!-- <span class="colorblindness_page active blindnessskyblue" data-id='#337AB7,#d6eaf8,#0E526E'>&emsp;</span>-->
   <span class="colorblindness_page active blindnessskyblue" data-id='#0074D0,#d6eaf8,#0E526E'>&emsp;</span> <span class="colorblindness_page blindnessbrown" data-id='#910101,#f2d7d5,#e10000'>&emsp;</span> <span class="colorblindness_page blindnessblue" data-id='#0E526E,#C3D7E0,#0074D0'>&emsp;</span> <span class="colorblindness_page blindnessmerron" data-id='#2F1112,#BFBCBC,#3d5462'>&emsp;</span> <span class="colorblindness_page blindnessgreen" data-id='#05430A,#96C49A,#04912e'>&emsp;</span>
    &nbsp;
         <!--<span class="pull-right" style="padding-left:10px; padding-right:20px; height:-1%">-->
         <!--<a href="" style="color:#fff" title="Home"><span class="fa fa-home"></span>
    <label id="lbl_home"> Home</label>
    </a>-->
    &nbsp; <span class="decreaseFont" style="cursor:pointer; text-decoration:underline">A</span><sup>-</sup>&emsp; <span class="resetFont" style="cursor:pointer;text-decoration:underline">A</span>&emsp; <span class="increaseFont" style="cursor:pointer;text-decoration:underline">A</span><sup>+</sup>&emsp; 
    <u><label onClick="changelanguage()" data-lang="TN" id="lbl_language" style="color:#fff; cursor:pointer; text-decoration:underline;" title="Change Language">English</label>
    </u> </span> </div>
 	<div class="logo-header-section" style="background-color: #ffffff;">
    <div class="" id="fontdiv">   
        		
      	<div class="col-lg-2 col-md-2 col-sm-2 col-2 logo-sec">
			<div id="logo" style="text-align: right; display:flex">
		        <a style="" href="../hrcehome/index_temple.php?tid=31962" title="Temple Home"> <img src="https://hrce.tn.gov.in/resources/docs/templeinfo/general/emblem/31962/image_1.jpg" class="temple_logo img-responsive" style="vertical-align: middle; width:100% !important;"/></a> 
		        <a href="https://hrce.tn.gov.in/hrcehome/index.php" title="Department Home">
				<img src="../images/thrce_logo_0E526E.png"  class="emblem-resize text_logo img-responsive" style="padding-top:0px; display: inline-block;vertical-align: middle;"/>
		        </a>
				
	         </div>
        </div>

        <div class="title-sec col-lg-10 col-md-10 col-sm-10 col-10" style="padding-right:0px">
        <div class="hrce-temple" style="color:#85476d;text-shadow: 2px 2px 4px #CCC; font-weight:bold; padding-top:0px;
                     text-transform:capitalize"><span id="spn_temple" class="">அருள்மிகு ஸ்ரீ பாலகுருநாதன் சுவாமி திருக்கோயில், திண்டுக்கல் - 624001 <label id="lbl_tdistrict">District</label>. </span></div>
        <div class="slogan-name" style="color:#337AB7;text-shadow: 2px 2px 4px #CCC; font-weight:bold;
                     text-transform:capitalize"><span id="spn_temple" class="spn_templename">Arulmigu Sri Balagurunathan Swamy Temple, Dindigul - 625001, Dindigul District</span></div>
         </div>
        	    </div>
  </div>
</div>
</div>
<div id="myModalImage" class="myImageModal">
  <span class="myImageClose">&times;</span>
  <img class="modal-content" id="myImageView">
  <div id="myImageCaption"></div>
  <div id="gall_next"><i class="fa fa-chevron-circle-right"></i></div>
  <div id="gall_prev"><i class="fa fa-chevron-circle-left"></i></div>
</div>
 <input type="hidden" class="single"/> 
 <script type="text/javascript">
 	$(document).ready(function(){	
 		var mobile_color='';
 		if(mobile_color=='910101')
 		{
			$.ajax({
				type: "POST",
				url: "../includes/color_blindness_page.php",
				data: {
					blindness_color:'#910101',
					tid:'31962',
				},
				success:function(result){
				color_settting(result,'31962');
				},
				error:function (xhr, ajaxOptions, thrownError){
					alert(thrownError);
				}
			});
 		}
 	});
 </script>

<script type="text/javascript">

	 
		$(document).ready(function() {				
		$(".templeform_grid_view").click(function(){
			var formname = $(this).parents("form").attr("id");
			var tid='';
			var token = '';
			form_data = new FormData();
			//===========grid filter===========//
					var documents = $('form#'+formname).find('.gridview_filter');
					documents.each(function()
					{  
						$('.grid_view').html(''); 
						var tag_id=$(this).attr('id');
						var label_name=$('#'+tag_id).attr('class').match(/\blbl_[^\s]+\b/);
						var label_text=$('#'+label_name).text().replace('*','');
						//alert($('#'+tag_id).val());
						var tag_value=String($('#'+tag_id).val());
						if(tag_value=='')
						{
							//alert(tag_id);
							myalert('Please select '+label_text);
							$('#'+tag_id).focus();
							flag='false';
							return false;
						}
						else
						{
							if(formname=='bankdetails_verifyform')
							{
								flag='true';
							}
							form_data.append(tag_id,tag_value);
						}
					});
					if((typeof flag !=='undefined') && flag=='false')
					{
						return false;
					}
				//===========grid filter End===========//
			    form_data.append('pg',formname.trim());
				form_data.append('tokenp',token.trim());
				$(".grid_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>'             );
					$.ajax({
					type: "POST",
					url: "../temples/ajax/templeinfo_view_new.php",
					cache: false,
					contentType: false,
					processData: false,
					data:form_data,
				//	dataType:'JSON',
					success:function(result)
					{ 
						$(".grid_view").html('');
						$(".grid_view").html(result);	
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			
	});
});
		function changelanguage()
		{
			var lang = 'TN';
			var url_parm_lang = '';
			$.ajax({
				type: "POST",
				url: "../includes/set_session.php",
				data: {
					val:lang
				},
				success:function(result){
					//alert(result);
				// window.location.href = "templeinfo.php";	
					//
					if(url_parm_lang != '') {
				        window.location.href =  window.location.href.split("?")[0];
					} else {
						location.reload();
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
					 
					myalert(thrownError);
				}
			});
		}
		function setcookie(temple_id)
		{
			var token = '';
			  $.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					tokenp:token,
					temple_slno:temple_id,
					pg:'setcookie',
				},
				success:function(result){
					myalert(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					 
					myalert(thrownError);
				}
			});
		}
		function getParameterByName(name, url)
	   {
	      name = name.replace(/[\[\]]/g, "\\$&");
	      var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
	          results = regex.exec(url);
	      if (!results) return null;
	      if (!results[2]) return '';
	      return decodeURIComponent(results[2].replace(/\+/g, " "));
	   }
		function bodyeventallocation(page)
		 {
			$(".form_overlay,#formloading_img").show();
				$(".content-wrapper").html('');
				$('#pwd_auth').val('');
				var category = getParameterByName('code',page);
				var scategory = getParameterByName('scode',page);
				var mappingid = getParameterByName('uid',page);
				var rpt_id = getParameterByName('rpt_url',page);
				var acategory = getParameterByName('acode',page);
				var rcode = getParameterByName('rcode',page);
				var pwd_auth = getParameterByName('pwd_auth',page);
				var activity_sid = getParameterByName('activity_sid',page);
				var flowtype_sid = getParameterByName('flowtype_sid',page);
				var form_type = getParameterByName('form_type',page);
				//var activity_flow_type = getParameterByName('activity_flow_type',page);
				//var activity_form_type = getParameterByName('activity_form_type',page);
				var activity_desc = getParameterByName('activity_desc',page);
				var admin_flag = getParameterByName('admin_flag',page);
				$('li[class*=formlist_]').css('background-color','#b3cde0');
				$('.formlist_'+activity_sid).css('background-color','#FFF');
				$('li[class*=formlist_]').css('border','none');
				$('.formlist_'+activity_sid).css('border','1px solid #FF8749');
				if(pwd_auth=='Y')
				{
					$(".form_overlay,#formloading_img").hide();
					localStorage.setItem("page_name", page);
					$('#pwd_authentication_event').click();
				}else if(pwd_auth=='O'){
					
					$(".form_overlay,#formloading_img").hide();
					localStorage.setItem("page_name", page);
					$('#otp_model_title').text('Authentication to '+activity_desc);
					$('#otp_authentication_event').click();
				}
				else
				{
					loader('Y');
					localStorage.setItem("page_name", page);
					$.ajax({
						url: page,
						data: {
							  pageid:page,
							  mappingid:mappingid,
							  catcode:category,
							  scatcode:scategory,
							  acatcode:acategory,
							  rcode:rcode,
							  activity_sid:activity_sid,
							  activity_desc:activity_desc,
							  admin_flag:admin_flag,
							  flowtype_sid:flowtype_sid,
							  form_type:form_type,
							  //activity_flow_type:activity_flow_type,
							  //activity_form_type:activity_form_type,
							  rpt_url:rpt_id
							  },
						cache: true,
						success: function(html){
							$(".content-wrapper").html('');
							$(".content-wrapper").append(html);
							$(".form_overlay,#formloading_img").hide();
							$("#formloading_img").css('display','none');
							loader('N');
						},
						error:function (xhr, ajaxOptions, thrownError){
							$(".form_overlay,#formloading_img").hide();
							loader('N');
						}
					});
				}
		 }
		
		function authenticated_templeview(temple_id,flag,module_id) 
		{
			var token = '';
			var role_code = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				//data:dataString,
				data: {
					tid:temple_id,
					flag:flag,
					pg:'authenticated_templeview',
					tokenp:token,
					module_id:module_id
				},
				success:function(result){
					if(flag=='others' && temple_id=='7')
					self.location="../temples/templeview.php";
				    else if (module_id==10)
					self.location="../temples/ajax/module_redir.php?module_id="+module_id;
					else if (module_id==28)
					self.location="../temples/ajax/module_redir.php?module_id="+module_id;
				    // self.location="http://10.163.19.165:8080/includes/officialhome.php";
					else if(flag=='others' && temple_id!='7')
					self.location="../includes/officialhome.php";
					else // EO and Temple User
					self.location="../includes/officialhome.php";
					/*if(flag=='eo')
					{
					 self.location="../temples/templeview.php";
					}
					else if(flag=='templeeo' || flag=='admin' )
					{
						//alert(result);
					 self.location="../includes/officialhome.php";
					}
					else if(flag=='othereo')
					{
					 self.location="../includes/officialhome_others.php";
					}*/
					/*if(flag=='7')
					{
					 self.location="../temples/templeview.php";
					}
					else  //'templeeo'
					{
					 self.location="../includes/officialhome.php";
					}*/
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
		function other_linkredirect()
		{			
			var token = '';
			var role_code = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'other_linkredirect',
					tokenp:token
				},
				success:function(result){
					if(result!='')
					{
						$('#temple_moduleviewotherlink').html(result).show('');
						$("html, body").animate({ scrollTop: $(document).height() }, 1000);						
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}

		function authenticated_templemoduleview(temple_id,flag,mapping_status)
		{			
			temple_id=base64_decode(base64_decode(temple_id));
			var eoflag = '';
			if(mapping_status!='')
			{
				mapping_status_json=$.parseJSON(base64_decode(mapping_status));
			}
			
			if(flag=='others')
			{
				var param=String(temple_id).split('~');
				var token = '';
				var role_code = '';
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						tid:temple_id,
						flag:flag,
						temple_name:'',
						pg:'authenticated_templemoduleview',
						tokenp:token
					},
					success:function(result){
						//alert(result);
						$('#temple_moduleview').html(result).show('');
						$("html, body").animate({ scrollTop: $(document).height() }, 1000);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
			/*else if(eoflag=='Y' && mapping_status_json['designation'].trim()=='N' || mapping_status_json['facility'].trim()=='N' || mapping_status_json['festival'].trim()=='N' || mapping_status_json['homepage_menus'].trim()=='N' || mapping_status_json['pooja'].trim()=='N' || mapping_status_json['activity_mapping'].trim()=='N' || mapping_status_json['special_functions'].trim()=='N')
			{
				alert('xcxc');
					//authenticated_templeview(temple_id,flag,1);
			}*/
			else
			{
				var param=String(temple_id).split('~');
				var token = '';
				var role_code = '';
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						tid:temple_id,
						flag:flag,
						temple_name:param[4],
						pg:'authenticated_templemoduleview',
						tokenp:token
					},
					success:function(result){
						//alert(result);
						$('#temple_moduleview').html(result).show('');
						$("html, body").animate({ scrollTop: $(document).height() }, 1000);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
		}
       function capitalize(string)
	    {
			return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
		}
	   function mapping_master(mapid)
	    {
			var url =window.location.href;
			if(url.indexOf('menuasign') == -1)
			  {
				  //window.location.href = '../temples/menuasign.php?uid='+mapid+'#mapping_master';
			  }
			$("#spn_portalmenu").text(capitalize(mapid.replace('_',' '))+' Mapping');
			var mapping_type=mapid.trim();
			$("#menu_screen").val('');
			$("#type_menudiv").css('display','none');
			$("#horiz_menudiv").css('display','none');
			$("#verti_menudiv").css('display','none');
			$("#service_typediv").css('display','none');
			$("#service_catdiv").css('display','none');
			$("#service_subcatdiv").css('display','none');
			
			var form_data = new FormData();
			form_data.append('pg','mapping_screen');
			form_data.append('menutype',mapping_type);
			form_data.append('tokenp',token);
			if(mapping_type=='courtcase_type')
			{
				var court_type = $('#court_type').val();
				form_data.append('court_type',court_type);
				if(court_type=='')
				{
					myalert('Please Select Court Type');
					return false;
				}
			}
			else if(mapping_type=='proof')
			{
				if($('#fees_servicecode').val()=='' || $('#fees_sservicecode').val()=='' || $('#fees_stype').val()=='')
				{
					
					myalert('please select all the fields properly');
					$('#target_type').val('');
					return false;
				}
				else
				{
					form_data.append('service_code', $('#fees_servicecode').val());
					form_data.append('service_subcode',$('#fees_sservicecode').val());
					form_data.append('service_type', $('#fees_stype').val());
					form_data.append('target_type', $('#target_type').val());
					form_data.append('noproof_flag', $('#target_type [value='+$('#target_type').val()+']').data('id'));
				}
			}
			if(mapping_type != '')
			{
				var tid='';
				//var tid = '""';
				var token = '';
				//myalert(token);
				if(tid=='')
				{
					myalert('invalid temple');
					return false;
				}else if(mapping_type=='homepage_menus')
				{
					$("#menu_screen").html('');
					$("#type_menudiv").css('display','block');
					var functionName = 'templemenu_portal()';
					$("form#demoform").css('display','block');
					$("#menu_screen").css('display','block');
					$("#mapping_submit").removeAttr('onclick');
					$("#mapping_submit").attr("onclick",functionName);
					$("#horiz_menudiv").css('display','none');
					$("#menu_screen").css('display','none');
					return false;
				}
				else
				{
					jQuery.ajax({
							type: "POST",
							url: "../temples/ajax/mapping_screen.php",
							processData: false,
                            contentType: false,
							data: form_data,
							//dataType: "JSON",
							success:function(result)
							{
								   $("form#demoform").css('display','block');
								   $("#menu_screen").css('display','block');
								   $("#mapping_submit").removeAttr('onclick');
									   if(mapping_type=='homepage_menus')
										{
											$("#type_menudiv").css('display','block');
											var functionName = 'templemenu_portal()';
										}else
										{
											$("#menu_screen").html(result);
											
											if(mapping_type=='service')
											{
												$("#service_typediv").css('display','block');
												$('#service_type').val('M');
											}
												
											var functionName = 'templecommon_mapping(14,"'+mapping_type+'")';
										}
									
									$("#mapping_submit").attr("onclick",functionName);
							},
							error:function (xhr, ajaxOptions, thrownError)
							{
								myalert(thrownError);
							}
						});
				}
			}else
			{
				myalert("Please Select Mapping Type");
			}
       }
	   function user_designation(user_code)
		{
			var token = '';
				if(user_code!='')
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						dataType: "JSON",
						data: {
							user_code: user_code,
							pg:'activity_designition_users',
							tokenp:token
						},
						success:function(result){
							//myalert(result);
							var param = String(result).split('~');
							$("#activity_user_designation").css('display','block');
							$("#user_designation").val(param[0]);	
							$("#current_role").val(param[1]);	
							$("#activity_forms").css('display','block');
							//$('select[name=role_code]').val('15')				
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
		function userrolemapping_roles(ucode,additional_charge)
		{
			if(ucode!='0')
			{
			$('#roleassign_event').click();
			}
		    if(ucode=='')
			{
			  return false;
			}
			$('#remarks').removeClass('required');
			$('#lbl_remarks').html($('#lbl_remarks').html().replace('*',''));
			var token = '';
			var rcode =  '';
			var lcode =  $('#level_code').val();
			if(additional_charge=='N' && lcode==''){
				myalert('Please Select Level');
				return false;
			}
			if(rcode!='' || lcode!='')
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							role_code: rcode,
							level_code: lcode,
							user_code:ucode,
							additional_charge:additional_charge,
							pg:'userrolemapping_roles',
							tokenp:token
						},
						success:function(result){
							//myalert(result);
							 $("#roles_assign").html(result);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
		function level_roles(){
			var token = '';
			$("#role_code_image").attr('disabled', true);
			var rcode =  '';
			var lcode =  $('#usr_level').val();	
			var user_type_role = $("#user_type").find(':selected').data('userrolecode');
			user_type_role =  (typeof user_type_role !== 'undefined') ? user_type_role : '';
			if(rcode!='' || lcode!='')
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							role_code: rcode,
							level_code: lcode,
							usertype_role: user_type_role,
							pg:'level_roles',
							tokenp:token
						},
						success:function(result){
							 $("#role_code_image").attr('disabled', false);
							 $("#roles_assign").html(result);
							 var roleval = $("#user_type").attr('data-roleval');
							 roleval =  (typeof roleval !== 'undefined' && roleval !='') ? roleval : '';
							 if(roleval != '')$("#role_code_image").val(roleval).trigger('change');
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
		function usermapping_designation(ucode)
		{
			var token = '';
			var rcode =  $('#role_code').val();
			var lcode =  $('#level_code').val();
			if( rcode==''){
				myalert('Please Select Role');
				return false;
			}
			
			if(rcode!='' || lcode!='')
				{
					$('.master_form_grid_view').click();
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							rcode:rcode,
							level_code: lcode,
							pg:'userdesignationmapping',
							tokenp:token
						},
						success:function(result){
						//	myalert(result);
							 $("#designation_assign").html(result);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
		function usermapping_level(ucode)
		{
			//alert('df'); return false;
			if(ucode!='0')
			{
			$('#level_assign').click();
			}
			
		    if(ucode=='')
			{
              $("#allowlevel_code").multiselect("clearSelection");
			  return false;
			}
			
			var token = '';
			var lcode =  $('#level_code').val();
			
			if(lcode!='')
				{
					$('.master_form_grid_view').click();
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							level_code: lcode,
							pg:'userlevelmapping',
							tokenp:token
						},
						success:function(result){
						//	myalert(result);
							 $("#level_assign").html(result);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
		function usermapping_role(ucode)
		{
			
			var token = '';
			var rcode =  $('#role_code').val();
			var lcode =  $('#level_code').val();
			if( rcode=='' || lcode==''){
				myalert('Please Select Level');
				return false;
			}
			
			if(rcode!='' || lcode!='')
				{
					$('.master_form_grid_view').click();
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							rcode:rcode,
							level_code: lcode,
							pg:'userrolemapping',
							tokenp:token
						},
						success:function(result){
						//	myalert(result);
							 $("#allowrole_assign").html(result);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
		
		function userrolemapping_users(additional_charge)
		{
			
			$("#role_userid").html('');
			//$('#user_designation').val('');
			var token = '';
			var rcode =  '';
			if(additional_charge=='N')
			{
				var lcode =  $('#level_code').val().trim();
				var desig_code =  '';
			}
			else
			{
				var lcode =  ''; 
				var desig_code =  $('#user_designation').val().trim();
			}
				if(lcode=='')
				{
					$("#role_userid").html('<option>Select Employee Name</option>');
				}
				else
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							role_code: rcode,
							level_code: lcode,
							pg:'userrolemapping_users',
							tokenp:token,
							additional_charge:additional_charge,
							desig_code:desig_code,
						},
						success:function(result){
							$('.select2-chosen').text($('#lbl_username').text().replace('*',''));
							 $("#role_userid").html(result);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
				
		}
		function userrolemapping_desig(level_code)
		{
			$("#user_designation").html('');
			 var token = '';
				if(level_code!='')
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							lcode: level_code,
							pg:'userrolemapping_desig',
							tokenp:token
						},
						success:function(result){
							
							 $("#user_designation").html(result);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}else
					myalert('Please select level');
		}
		
		function templeAssign_userwiseusername(user_code,desig_code,current_code)
		{
			//alert('dsd');
			    $("#templeassign_event").click();
			    $('#assignedtemple_view').css('display','block');
				$('#email_id').val($('#user_code option:selected').data('id'));				 
			       var token = '';
					//if(user_code!='')
					//{
							$.ajax({
							type: "POST",
							url: "../temples/ajax/app_master.php",
							data: {
								 pg:'assignedtemple_view',
								 ucode:user_code,
								 current_code:current_code,
								 tokenp:token
							},
							success:function(result){
								 $("#primary_temple").val(result);
							},
							error:function (xhr, ajaxOptions, thrownError){
								myalert(thrownError);
							}
						   });
					/*}else if(desig_code!='' && user_code!='')
					{
						jQuery.ajax({
							type: "POST",
							url: "../temples/ajax/app_master.php",
							//data:dataString,
							data: {
								ucode: user_code,
								dcode: desig_code,
								current_code:current_code,
								pg:'user_postassign',
								tokenp:token
							},
							success:function(result){
								//alert(result);
								 $("#email_id").val(result);
							},
							error:function (xhr, ajaxOptions, thrownError){
								myalert(thrownError);
							}
						});
					}*/
	    }
		function templeAssign_desigwiseusers(level_code,desig_code,role,firstoption='Y')
		{
			if(desig_code != '')
			{
				templeAssign_desigwisedistrict(desig_code,level_code,role);
				
				var temple_id='';
				var token = '';
				jQuery.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						temple_id:temple_id,
						lcode:level_code,
						role:role,
						dcode:desig_code,
						pg:'templeAssign_desigwiseusers',
						firstoption:firstoption,
						tokenp:token
					},
					success:function(result){
						//myalert(result);
						$('#user_code').html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}else{
				myalert('Please select Designation');
			}
			
		}
		function templeAssign_desigwisedistrict(desig_code,level_code,role)
		{
			if(desig_code != '')
			{
				var token = '';
				jQuery.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						dcode:desig_code,
						lcode:level_code,
						role:role,
						pg:'templeassign_desigwisedistrict',
						tokenp:token
					},
					success:function(result){
						//myalert(result);
						$('#district_code').html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}else
				myalert('Please select Designation');
		}
		
		
		function templeAssign_desigwisetaluk(level_code,desig_code,dist_code,role,select_val)
		{
			if(level_code!='' && desig_code!='' && dist_code!=''){
				var token = '';
				jQuery.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						dcode:desig_code,
						distcode:dist_code,
						level_code:level_code,
						role:role,
						select_val:select_val,
						pg:'templeassign_desigwisetaluk',
						tokenp:token
					},
					success:function(result){
						//myalert(result);
						$('#taluk_code').html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
		}
		function templeAssign_templedetails(temple_code)
		{
			//myalert(temple_code);
			 var token = '';
				if(temple_code!='')
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							tcode: temple_code,
							pg:'templeassign_templedetails',
							tokenp:token
						},
						success:function(result){
							//myalert(result);
							var param=String(result).split('~');
							 $("#district_name").val(param[0]);
							 $("#taluk_name").val(param[1]);
							 $("#village_name").val(param[2]);
							 $("#user_designation1").val(param[3]);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
		function templeAssign_desigwisetemple(level_code,desig_code,district_code,taluk_code,role,current_code)  // Temple assign Insert
		{
			 var token = '';
			// var district_code = $('#district_code').val();
			// var taluk_code = $('#taluk_code').val();
				if(desig_code!='')
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							district_code:district_code,
							taluk_code:taluk_code,
							lcode:level_code,
							dcode: desig_code,
							tcode: taluk_code,
							role:role,
							current_code:current_code,
							pg:'templeassign_desigwisetemple',
							tokenp:token
						},
						success:function(result){
							$("#temple_name").html(result);
							if(current_code!='' && $("#temple_name").val()=='')
							{
								var templeid_status=jurisdetails_templeid(current_code);
								//myalert(templeid_status);
								$('#dataTableReset').click();
							}
							else
							{
								 if(current_code!='')
								 {
									$('.select2-chosen').text($('#temple_name option:selected').text());
									templeAssign_templedetails('16')
								 }
								 else
								 {
									$('#dataTableReset').click();
								 }
							}
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
		function jurisdetails_templeid(temple_id)
		{
			var token = '';
			$.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							temple_id:temple_id,
							pg:'jurisdetails_templeid',
							tokenp:token
						},
						success:function(result){
							// return result
							myalert(result);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
		}
		function set_templeassign(level_code,desig_code,current_code){
			var token = '';
				if(level_code!='' && desig_code!='' && current_code!='')
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							lcode:level_code,
							dcode: desig_code,
							current_code:current_code,
							pg:'set_templeassign',
							tokenp:token
						},
						success:function(result){
							  $("#temple_name").html(result);
							 if($('#temple_name option:selected').val()!=''){
								  $('.select2-chosen').text($('#temple_name option:selected').text());
							 }else{
								$('#dataTableReset').click();
								myalert('Invalid Temple ID');
							 }
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}else if(current_code!=''){
					myalert('Please select level and designation');
				}else{
					$('#dataTableReset').click();$('#village_name').val('');
				}
		}
		function templeAssign_desigwisetemplename(level_code,desig_code,district_code,taluk_code,role,select_val) // Temple assign Edit
		{
			
			 var token = '';
			// var district_code = $('#district_code').val();
			// var taluk_code = $('#taluk_code').val();
				if(desig_code!='')
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							district_code:district_code,
							taluk_code:taluk_code,
							lcode:level_code,
							dcode: desig_code,
							tcode: taluk_code,
							role:role,
							select_val:select_val,
							pg:'templeassign_desigwisetemplename',
							tokenp:token
						},
						success:function(result){
							//alert(result);
							 $("#temple_name").html(result);
							 $('.select2-chosen').text($('#temple_name option:selected').text());
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
		function templeAssign_levelwisedesig(level_code,role)
		{
			$("#user_designation").html('<option value="">Select Designation </option>');
			 var token = '';
				if(level_code.trim()!='')
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							lcode: level_code,
							role:role,
							pg:'templeassign_levelwisedesig',
							tokenp:token
						},
						success:function(result){
							
							 $("#user_designation").html(result);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}else{
					myalert('Please select level');
				}
		}
		
		
		function assignedtemple_view()
		{ 
			 $('#dynamic-content').html('');
			 var user_code = $('#user_code').val(); // get id of clicked row
			 var token = '';
			 $('#dynamic-content').html(''); // leave this div blank
			 $('#modal-loader').show();      // load ajax loader on button click
			 $.ajax({
				 url: '../temples/ajax/app_master.php',
				  type: 'POST',
				  data: {
						 pg:'assignedtemple_view',
						 ucode:user_code,
						 tokenp:token
								},
				  dataType: 'html'
			 })
			 .done(function(data){
				  $('#dynamic-content').html(data); // load here
				  $('#modelview_header').html('Assigned Temples');
				  $('#modal-loader').hide(); // hide loader  
			 })
			 .fail(function(){
				  $('#dynamic-content').html('<i class="fa fa-info-sign"></i> Something went wrong, Please try again...');
				  $('#modal-loader').hide();
			 });
		}
		function roles_user_mapping(user_code,rcode,moduleid='') 
		{
				if(user_code=='0' || user_code=='')
				{
					myalert('please select Users!');
					return false;
				}
				var module_id = $.trim($('#module_id').val());
				if ($('input[id=activity_roles'+rcode+ '').is(':checked'))
				//if($('input[type=checkbox class=activities_subservices_mapping value='+service_code+'').prop('checked')==false)
				{
				   var token = '';
					if(user_code!='')
					{
						jQuery.ajax({
							type: "POST",
							url: "../temples/ajax/app_master.php",
							//data:dataString,
							data: {
								user_code: user_code,
								rcode: rcode,
								module_id:module_id,
								pg:'rolewise_useractivities',
								tokenp:token
							},
							success:function(result){
								 $("#user_permission"+rcode).html(result);
							},
							error:function (xhr, ajaxOptions, thrownError){
								myalert(thrownError);
							}
						});
					}
				}
				else
				{
						$("#user_permission"+rcode).html('');	
				}
				
		}
		
		
		function activityflow_mapping(activity) 
		  {
			  
			  var param=String(activity).split('~');
				if ($('input[id=activityflow_mapping'+param[0]+ '').is(':checked'))
				{
				  $("#activity_flow"+param[0]).append(' <div class="row" style="display:flex"><div class="col-lg-12" style="padding:4px; "><input type="text" id="activity'+param[0]+'" name="activity[]" value="'+param[1]+'" class="form-control" /></div><img src="../resources/library/images/multiply.png" width="20" style="margin-top:8px;margin-bottom:13px;" class="remove_this "></div>');
				}
				else
				{
			    alert('please select the activity');
				$("#activity_flow"+param[0]).html('');	
				}				
		 }
		 function service_activities(user_id,level_code='',module_id='',assign_type='') //type-temple,others
		 {
			    var token = '';
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						user_id:user_id,
						level_code:level_code,
						module_id:module_id,
						assign_type:assign_type,
						pg:'service_activities',
						tokenp:token,
					},
					//dataType: "JSON",
					success:function(result){
						   $("#service_activities").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
		}
		 function activities_userlist(level_code) //type-temple,others
		 {
			 $('#user_id').html('');
			 $('#service_activities').html('');
			 
			    var token = '';
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						level_code:level_code,
						pg:'activities_userlist',
						tokenp:token,
					},
					//dataType: "JSON",
					success:function(result){
						//alert(result);

						  
						   $("#user_id").html(result);
						    //$('.select2-chosen').text($('#lbl_username').text().replace('*',''));
						   //$("#user_id").select2({ placeholder: "பயனர் பெயர்", maximumSelectionSize: 10 });
						   $("#user_id").select2({ placeholder: "பயனர் பெயர்", maximumSelectionSize: 10 });
						   // $("#slt_mod_id").select2({ placeholder: "Module Name", maximumSelectionSize: 10 });
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
		}
		function activities_subservices_mapping(service_code,service_sid,type,level_code='',assign_type='') //type-temple,others
		 {
			var user_id=typeof $('#user_id').val()=== "undefined" ?0:$('#user_id').val();
			if ($('input[id=activities_subservices_mapping'+service_code+ '').is(':checked'))
			{
			   var token = '';
				jQuery.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						service_code:service_code,
						level_code:level_code,
						module_id:$('#module_id').val(),
						pg:'activities_subservices_mapping',
						tokenp:token,
						assign_type:assign_type,
						type:type,
						user_id:user_id,
					},
					//dataType: "JSON",
					success:function(result){
						   $("#activities_subservices"+service_code).html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
			else
			{
			$("#activities_subservices"+service_code).html('');	
			$("div[id^=activities"+service_sid+service_code+"]").html('');	
			$("#activities_services"+service_code).height(20);
			}
		}
		function activities_mapping(service_sid,service_code,service_subcode,workflow_status,workflow_sid,type,level_code='',assign_type='') //type-temple,others
		 {
			// alert(type);
			var user_id=typeof $('#user_id').val()=== "undefined" ?0:$('#user_id').val();
			var checked=$('.activities_mapping'+service_code+service_subcode).prop('checked');
			if(checked==false)
			{
			$("#activities"+service_sid+service_code+service_subcode).html('');	
			}
			else
			{
			   var token = '';
				jQuery.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						service_code:service_code,
						service_subcode:service_subcode,
						workflow_status:workflow_status,
						level_code:level_code,
						pg:'activities_mapping',
						assign_type:assign_type,
						tokenp:token,
						type:type,
						module_id:$('#module_id').val(),
						user_id:user_id
					},
					//dataType: "JSON",
					success:function(result){
						//alert(result);
						   $("#activities"+service_sid+service_code+service_subcode).html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
		 }
		//  function geteouser(eoid){
		// 	 alert(eoid);
		// 	 var token = '';
		// 	$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
		// 			jQuery.ajax({
		// 				type: "POST",
		// 				url: "../temples/ajax/app_master.php",
		// 				data: {
		// 					userserialno: eoid,
		// 					pg:'eowisetemplewise',
		// 					tokenp:token
		// 				},
		// 				success:function(result)
		// 				{
		// 					alert(result);
		// 				},
		// 				error:function (xhr, ajaxOptions, thrownError){
		// 					myalert(thrownError);
		// 				}
		// 			});
				

		//  }
		 function art_maintype_chnge(getCode,id)
		{
				$("#"+id).val('');
				var artmain_val = $.trim(getCode);
				var token = '';
				if(artmain_val!='')
				{
					$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							artmaincode: artmain_val,
							pg:'art_main_info',
							tokenp:token
						},
						success:function(result)
						{
							$("#errmsg").html('');
							if(result.trim!='')
							{   
								$("#"+id).html(result);				
							}
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
		function temple_subcategory_code_chnge(subcatid,control_id,state_code,district_code,taluk_code,village_code,temple_id,select_val,office_code='') // temple_id=0 -Direct search,temple_id!=0 means based on templelist
		{
			$('#templelist_district_name,#templelist_taluk_name,#templelist_village_name').val('');
			$('#main_temple_id .select2-chosen,#main_temple_id').html('');
			if(subcatid=='3' || control_id!='')
			{
				var token = '';
				$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					//data:dataString,
					data: {
						scode: state_code,
						dcode: district_code,
						tcode: taluk_code,
						vcode: village_code,
						temple_id:temple_id,
						pg:'main_temple_id',
						select_val:select_val,
						subcatcode:subcatid,
						control_id:control_id,
						tokenp:token,
						office_code:office_code
					},
					success:function(resp_temple_id){
						//alert(resp_temple_id);
						$("#errmsg").html('');
						if(resp_temple_id.trim!='')
						{    
							$("#main_temple_id").html(resp_temple_id);
							$('.maintemple .select2-chosen').text($("#lbl_maintemple").text().replace('*',''));
							if(select_val!=''){
							$('.maintemple .select2-chosen').text($('#main_temple_id option:selected').text());
							}else if(resp_temple_id==''){
								$('#dataTableReset').click();
							}
						}
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
		}
		
		function main_temple_id_chnge(subcatid,control_id,main_temple_id,select_val,office_code='')
		{
			
			    $("#group_temple_id").val('');
				if(main_temple_id!='' && subcatid=='2' && control_id=='G' )
				{
					
					var token = '';
					$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
					$.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							subcatcode:subcatid,
							control_id:control_id,
							main_temple_id:main_temple_id,
							select_val:select_val,
							pg:'group_temple_id',
							tokenp:token,
							office_code:office_code
						},
						success:function(resp_temple_id){
						//	alert(resp_temple_id);
							$("#errmsg").html('');
						if(resp_temple_id.trim()!='')
						{  
							$("#group_temple_id").html(resp_temple_id);
							$('.grouptempleid .select2-chosen').text($("#lbl_grouptemple").text().replace('*',''));
							if(select_val!=''){
							$('.grouptempleid .select2-chosen').text($('#group_temple_id option:selected').text());
							}else if(resp_temple_id==''){
								$('#dataTableReset').click();
							}
						}
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
		
		function gt_ManagementSubtype(management_val,subtype)
		{
			var subtype = subtype; 
			$("#management_subtype").val('');
			var token = '';
			$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			if(management_val!='')
			{
				jQuery.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						managementcode: management_val,
						submanagementcode: subtype,
						pg:'mst_detailed_info',
						tokenp:token
					},
					success:function(result){
					$("#errmsg").html('');
					if(result.trim!='')
					{   
						$("#management_subtype").html(result);
						 return true;						
					}
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
		}
		
		function getMoolavarSubType(moolavar_val,subtype)
		{
			
			var subtype = subtype; 
			$("#moolavar_subtype").val('');
			
				var token = '';
				$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
				if(moolavar_val!='')
				{
					jQuery.ajax
					({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							moolavarcode: moolavar_val,
							submoolavarcode: subtype,
							pg:'mst_detailed_info',
							tokenp:token,
						},
						success:function(result){
							$("#errmsg").html('');
					 	if(result.trim!='')
					    {   
							$("#moolavar_subtype").html(result);						
					    }
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
			   }
		}
		function getAagamamSubType(aagamamtype,subtype)
		{
			
			var subtype = subtype; 
			$("#aagamam").val('');
			
				var token = '';
				$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
				if(aagamamtype!='')
				{
					jQuery.ajax
					({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							aagamamtype: aagamamtype,
							aagamamsubtype: subtype,
							pg:'mst_aagamamtype_info',
							tokenp:token
						},
						success:function(result){
							$("#errmsg").html('');
					 	if(result.trim!='')
					    {   
							$("#aagamam").html(result);						
					    }
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
			   }
		}
		
		function getCountByQuery(formname)
		{
			var formname = formname;
			var token = '';
			jQuery.ajax
					({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							formname: formname,
							pg:'get_countbyformname',
							tokenp:token
						},
						success:function(result)
						{
							if(formname == 'generalinfoform' || formname == 'general')
							{
								if(result > 0)
								{
									$("button[name = 'templebasicinfo_submit']").prop('disabled',true);
									$("button[name = 'templebasicinfo_submit']").text('Save');
									
								}
							}else if(formname == 'historyform' || formname == 'history')
							{
								if(result == 0)
								{
									$("button[name = 'history_submit']").prop('disabled',true);
									$("button[name = 'history_submit']").text('Save');
								}
							}
						},
						error:function (xhr, ajaxOptions, thrownError)
						{
							myalert(thrownError);
						}
					});
		}
		function form_status(status,json_data,scode,subcode,acode)
		{
			//alert(json_data);
			if(scode!='' && scode!='undefined' && json_data.trim()!='undefined')
			{
			var token = '';
			json_data=base64_uriencode(json_data);
			$.ajax
			({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					status: status,
					pg:'form_status',
					service_code : scode,
					subservice_code : subcode,
					activity_code : acode,
					json_data:json_data,
					tokenp:token,
				},
				success:function(result){
					if(result!='')
					{
						var data=$.parseJSON(result);
						$(".form_status").html(data['topformstatus']);
						$("#activity_modelview_block").parent('form').append(data['bottomformstatus']);
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		   }
		}

		function getDistrict_edonation(statecode)
		{
			var token = '';
			$.ajax({
				url:'../temples/ajax/app_master.php',
				type:'POST',
				data:{
					pg:'edonationget_district',
					tokenp:token,
					scode:statecode
				},
				success:function(result)
				{ 
					if(result=='')
					{
						$("#slt_district").val('').prop('disabled',true);
						$("#district_code").val('').prop('disabled',true);
					}
					else
					{
						$("#slt_district").html(result).removeAttr('disabled');
						$("#district_code").html(result).removeAttr('disabled');
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
				}
			});
		}
		
		function getDistrict(statecode,id)
		{
			if(statecode!='')
			{
				var token = '';
				$.ajax({
					url:'../temples/ajax/app_master.php',
					type:'POST',
					data:{
						pg:'get_district',
						tokenp:token,
						scode:statecode
					},
					success:function(result)
					{
						$("#"+id).html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
					}
				});
			}
				
		}
		function getDistrict_temple(statecode,id,temple_id='')
		{
			if(statecode!='')
			{
				var token = '';
				$.ajax({
					url:'../temples/ajax/app_master.php',
					type:'POST',
					data:{
						pg:'get_districttemple',
						tokenp:token,
						scode:statecode,
						temple_id:temple_id
					},
					success:function(result)
					{
						$("#"+id).html(result).prop('disabled',true);
					},
					error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
					}
				});
			}
		}
		function getCollection(param,temple_id='',sub_service='N')
		{
			var token = '';
			var language = $('#lbl_language').data('lang');
			state_code=$('#old_state_code').val();district_code=$('#old_district_code').val();
			from_date=$('#old_from_date').val();to_date=$('#old_to_date').val();
			state_text=$('#state_code option:selected').text();district_text=$('#slt_district option:selected').text();
			form_data = new FormData();
			form_data.append('pg','collection');
			form_data.append('form_data',encodeURI('{"loginid":"5","actionmode":"collection","temple_id":"'+temple_id+'", "langtype":"'+language+'","state_code":"'+state_code+'","district_code":"'+district_code+'","from_date":"'+from_date+'","to_date":"'+to_date+'","state_text":"'+state_text+'","district_text":"'+district_text+'","data_parameter":[{"service_code":"'+param+'","sub_service":"'+sub_service+'"}]}'));
			form_data.append('tokenp',token.trim());
			$("#eservice").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			$.ajax({
				url:'../temples/ajax/templeinfo_view_new.php',
				type:'POST',
				cache: false,
				contentType: false,
				processData: false,
				data:form_data,
				success:function(result)
				{
					$("#eservice").html(result);
					$('#myNewTable_length select option[value=10]').click();
				},
				error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
				}
			});
				
		}
		function getStates(current_code)
		{
			var token = '';
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
					pg:'getstate_names',
					current_code:current_code,
					tokenp:token
					},
					//dataType: "JSON",
					success:function(result){
					$("#state_code,#statecode").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
					}
				});
		}
		function managementboard(type_code)
		{
			var token = '';
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
					pg:'managementboard',
					type_code:type_code,
					tokenp:token
					},
					//dataType: "JSON",
					success:function(result){
					$("#management_board").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
					}
				});
		}
		function getStates_new(current_code)
		{
			var token = '';
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
					pg:'getstatenew_names',
					current_code:current_code,
					tokenp:token
					},
					//dataType: "JSON",
					success:function(result){
						//alert(result);
					$("#statecode").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
					}
				});
		}
		function getDistricts(state_code,current_code)
		{
				var token = '';
				if(state_code!='')
				{
					$.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							scode: state_code,
							pg:'select_district_names',
							current_code:current_code,
							tokenp:token
						},
						//dataType: "JSON",
						success:function(result){
						$("#district_code,#district_name,#reg_district_name").html(result);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}		
		}
		function getDistricts_filter(state_code,current_code)
		{
				var token = '';
				if(state_code!='')
				{
					$.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							scode: state_code,
							pg:'select_district_namesfilter',
							current_code:current_code,
							tokenp:token
						},
						//dataType: "JSON",
						success:function(result){
						$("#district_code").html(result);
						
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}		
		}
		
		
		function getTaluks(state_code,district_code,current_code,select_id='')
		{

			if(district_code=='' || state_code=='')
			{
				// if(select_id!='')
				// $("#"+select_id).val('');
				myalert('please select District Properly');
			}
			else
			{
				var token = '';
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					//data:dataString,
					data: {
						scode: state_code,
						dcode: district_code,
						current_code:current_code,
						pg:'select_taluk_names',
						tokenp:token
					},
					success:function(result){
						if(select_id!='')
						{
							$("#"+select_id).html(result);
						}
						else
						{
							$("#taluk_code,#taluk_name,#mst_taluk_name").html(result);
						}				
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
		}
		
		function getTaluks_tamilnilam(state_code,district_code,current_code,location_type)
		{
			//alert(state_code);
			//alert(district_code);
			if(district_code=='' || state_code=='')
			{
				myalert('please select District Properly');
			}
			else
			{
				var token = '';
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					//data:dataString,
					data: {
						scode: state_code,
						dcode: district_code,
						current_code:current_code,
						location_type:location_type,
						pg:'select_taluk_names_tamilnilam',
						tokenp:token
					},
					success:function(result){
						$("#taluk_code,#taluk_name").html(result);
						if($('#actionmode').val()=='new')	
							$('#taluk_code').prop('disabled',false);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
		}
		
		function getVillages(state_code,district_code,taluk_code,current_code,select_id='')
		{
			if(state_code=='' || district_code=='' || taluk_code=='')
			{
				myalert('please select District and Taluk Properly');
			}
			else
			{
				var token = '';
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					//data:dataString,
					data: {
						scode: state_code,
						dcode: district_code,
						tcode: taluk_code,
						current_code:current_code,
						pg:'select_village_names',
						tokenp:token
					},
					success:function(result){
						if(select_id!='')
						{
							$("#"+select_id).html(result);
						}
						else
						{
							$("#village_code,#village_name").html(result);
						}
						
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}				
		}
		function getVillages_tamilnilam(state_code,district_code,taluk_code,current_code)
		{
			if(state_code=='' || district_code=='' || taluk_code=='')
			{
				myalert('please select District and Taluk Properly');
			}
			else
			{
				var token = '';
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					//data:dataString,
					data: {
						scode: state_code,
						dcode: district_code,
						tcode: taluk_code,
						current_code:current_code,
						pg:'select_village_names_tamilnilam',
						tokenp:token
					},
					success:function(result){
						//alert(result);
						$("#village_code,#village_name").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}				
		}
		
		
		function getTemples(state_val,dist_val,taluk_val,village_val,current_code){
			var token = '';
			if(dist_val=='' || taluk_val=='' || village_val=='')
			{
				myalert('please select District,Taluk and Village Properly');
			}
			else
			{
				jQuery.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						scode: state_val,
						dcode: dist_val,
						tcode: taluk_val,
						vcode: village_val,
						current_code:current_code,
						pg:'district_taluk_village_wise_temples',
						tokenp:token
					},
					success:function(result){
						$("#errmsg").html('');
						if(result.trim()!='')
						{
							$("#temple_name").html(result);
							
							if(current_code!=''){
							$('.select2-chosen').text($('#temple_name option:selected').text());
							}else if(result==''){
								$('#dataTableReset').click();
							}
							
						}
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
		}
		function getTemples_idols(state_val,dist_val,taluk_val,village_val,current_code){
			var token = '';
			if(dist_val=='' && taluk_val=='' && village_val=='' && current_code=='')
			{
				myalert('please select District,Taluk and Village Properly');
			}
			else
			{
				jQuery.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						scode: state_val,
						dcode: dist_val,
						tcode: taluk_val,
						vcode: village_val,
						current_code:current_code,
						pg:'gettemples_idols',
						tokenp:token
					},
					success:function(result){
						$("#errmsg").html('');
						if(result.trim()!='')
						{
							$("#temple_name").html(result);
							
							if(current_code!=''){
							$('.select2-chosen').text($('#temple_name option:selected').text());
							$('#temple_id').val($("#temple_name").val());
							}else if(result==''){
								$('#dataTableReset').click();
							}
							
						}
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
		}
		
						
		function getTownList(state_code,district_code,taluk_code,current_code)
		{
			
			var token = '';
			if(state_code!='')
			 {
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					//data:dataString,
					data: {
						scode: state_code,
						dcode: district_code,
						tcode: taluk_code,
						current_code:current_code,
						pg:'town_list',
						tokenp:token
					},
					success:function(result){
						$("#town_code,#mst_town_name").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}				
		}
		function getTownList_tamilnilam(state_code,district_code,taluk_code,current_code)
		{
			
			var token = '';
			if(state_code!='')
			 {
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					//data:dataString,
					data: {
						scode: state_code,
						dcode: district_code,
						tcode: taluk_code,
						current_code:current_code,
						pg:'town_list_tamilnilam',
						tokenp:token
					},
					success:function(result){
						$("#town_code").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}				
		}
		function getWardList(state_code,district_code,taluk_code,town_code,current_code)
		{
			
			var token = '';
			if(state_code!='')
			 {
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					//data:dataString,
					data: {
						scode: state_code,
						dcode: district_code,
						tcode: taluk_code,
						town_code: town_code,
						current_code:current_code,
						pg:'ward_list',
						tokenp:token
					},
					success:function(result){
						$("#ward_code,#mst_ward_name").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}				
		}
		function getWardList_tamilnilam(state_code,district_code,taluk_code,town_code,current_code)
		{
			var token = '';
			if(state_code!='')
			 {
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					//data:dataString,
					data: {
						scode: state_code,
						dcode: district_code,
						tcode: taluk_code,
						town_code:town_code,
						current_code:current_code,
						pg:'ward_list_tamilnilam',
						tokenp:token
					},
					success:function(result){
						$("#ward_code").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}				
		}
		function getBlockList_tamilnilam(state_code,district_code,taluk_code,town_code,ward_code,current_code)
		{
			var token = '';
			if(state_code!='')
			 {
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					//data:dataString,
					data: {
						scode: state_code,
						dcode: district_code,
						tcode: taluk_code,
						town_code:town_code,
						ward_code:ward_code,
						current_code:current_code,
						pg:'block_list_tamilnilam',
						tokenp:token
					},
					success:function(result){
						//alert(result);
						$("#block_code").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}				
		}	
		
		function selectTalukList(state_code,district_code,taluk_code,location_type,current_code){
			var token = '';
			//alert(location_type);
			if(location_type=='1')
			getTownList(state_code,district_code,taluk_code,current_code);
			else if(location_type=='2')
				getVillages(state_code,district_code,taluk_code,current_code);
		}
		function selectTalukList_tamilnilam(state_code,district_code,taluk_code,location_type,current_code){
			var token = '';
			//alert(location_type);
			if(location_type=='1')
			getTownList_tamilnilam(state_code,district_code,taluk_code,current_code);
			else if(location_type=='2')
				getVillages_tamilnilam(state_code,district_code,taluk_code,current_code);
		}
	  function condition_list(type_code,current_code)
		{
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					type_code:type_code,
					pg:'condition_list',
					current_code:current_code,
					tokenp:token
				},
				success:function(result){
				 $('#condition_code').html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
				
				});
			
		}
		
		function dashboard_service_count(state_code,dist_code,index,temple_id)
		{
			
			$('#eservice_total,#edonation_total,#ehundi_total,#thirupani_total').text('');
				var token = '';
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					dataType: "JSON",
					data: {
						state_code: state_code,
						dist_code: dist_code,
						index:index,
						templeid:temple_id,
						pg:'dashboard_service_count',
						tokenp:token
					},
					success:function(result){
						//alert(result);
						var param=String(result).split('~');
						$('#eservices_amount').html('<i class="fa fa-inr"></i> '+amtFormat(param[0]));
						$('#donation_amount').html('<i class="fa fa-inr"></i> '+amtFormat(param[1]));
						$('#annadhanam_amount').html('<i class="fa fa-inr"></i> '+amtFormat(param[2]));
						$('#darshan_amount').html('<i class="fa fa-inr"></i> '+amtFormat(param[3]));
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
		}
		function land_abstract_edit(id){
	    $.ajax({
			type: "POST",
					url: "../temples/ajax/app_master.php",
					dataType:'JSON',
					data: {
						tid:id,
						tokenp:'',
						pg:'landabstractentryform',
					},
					success:function(result){
						data=$.parseJSON(result);
						if(data[0]['attachmentvalue']!='' && data[0]['attachmentvalue']!=null){
							$("#landabstract_submit").prop('disabled',true);
							$('#landabstractentry_view th:last-child,#landabstractentry_view td:last-child').hide();
							$('#file_avail').html('<p style="text-align:center;color:f20000">File Already Uploaded</p>');
							$('#landabstractentry_view td:first-child').show();
						}else{
							$('#file_avail').html('');
							$("#landabstract_submit").prop('disabled',false);
							$('#landabstractentry_view th:last-child,#landabstractentry_view td:last-child').show();
						}
						if(data[0]['prop_available']==''){
							 propertyavail('N');
							 $('#temple_name').val(data[0]['temple_name']);$("#actionmode").val('new');$("#landabstract_submit").text('Save');
							 return false;
						}else{
							 propertyavail(data[0]['prop_available']);
						}
		var fields=['templeid','areg_sid','prop_available','remarks','temple_name'];			
		for (i = 0; i <fields.length; i++) 
		{
			$("#"+fields[i]).val(data[0][fields[i]].trim());
		} 
		field_id=['cumulative','wet_land','dry_land','land_manavari','land_thoppu','com_building','res_building','com_site','res_site','templearea','poramboke','others'];
		for(i=0;i<field_id.length;i++)
		{
			json_val=$.parseJSON(data[0][field_id[i]]);
			$('#extent_'+field_id[i]).val(json_val['extent_'+field_id[i]]);
			$('#tot_prop_'+field_id[i]).val(json_val['tot_prop_'+field_id[i]]);
			prop_units_append('extend_'+field_id[i],field_id[i]+'_values',json_val,field_id[i]);
		}
		
		$("#actionmode").val('edit');
		$("#landabstract_submit").text('Update');
		
					},
			});
   }
	function officerwisefilteration()
	{
		var tid='';
		var token = '';
		var office_code=$('#office_code').val();
		var formid=$('form').attr('id');
		var location_type = '';
		if(formid!='templebasicform'){
			location_type=$('input[name=location_type]:checked').val();
			if($('input[name=location_type]:checked').length<=0)
			{
				myalert('please select location type');
				$('#office_code').val('');
				return false;
			}else{
				$.ajax({
					type: "POST",
					url: "../property/ajax/property_app_master.php",
					data: {
						pg:'officerswise_district',
						tokenp:token,
						tid:tid,
						office_code:office_code,
						location_type:location_type,
						  },
					success:function(result){
						$('#dataTableReset').click();
						$("#district_code").html(result);						
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
				$('#district_code').html('<optgroup style="max-height:150px"><option value=>-- மாவட்டம் --</option>');
				$('#taluk_code').html('<optgroup style="max-height:150px"><option value=>-- வட்டம் --</option>');
				$('#village_code').html('<optgroup style="max-height:150px"><option value=>-- வருவாய் கிராமம் --</option>');
				$("#town_code").html('<optgroup style="max-height:150px"><option value=>-- நகரம் பெயர் --</option>');
				$('#ward_code').html('<optgroup style="max-height:150px"><option value=>-- வார்டு பெயர் --</option>');
				$('#block_code').html('<optgroup style="max-height:150px"><option value=>-- தொகுதி பெயர் --</option>');
			}
			templesearch(office_code);

		}
	}
function geteouserdetails(eoid,temple_id,rpt_name){
	
	$(".pdf_btn").hide();
	$('#temple_name').val(atob(rpt_name));
	// $('#temple_id').val(temple_id);
	$('#actionmode').val('templeuserlist_details');
	$('#eocode').val(eoid);
	$('#templeid').val(temple_id);
	var form_data =required_validatereportform_json('templeuserlist');
	var temple_id = '';
	//form_data = new FormData();

	form_data.append('pg','templeuserlist_details');
	form_data.append('tokenp',token);
	
	
	//$('#myTable1').dataTable();
		$(".grid_view1").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>'             );
	$.ajax({
		type: "POST",
		url: "../temples/ajax/templeinfo_view_new.php",
		contentType: false,
		processData: false,
		data: form_data,
		success:function(result){
		
			$('.grid_view1').html('');
			$(".grid_view1").html(result);
			$(".pdf_btn,#temple_rpt_pdf").show();
		},
		error:function (xhr, ajaxOptions, thrownError){
			myalert(thrownError);
		}
	});
}

	function log_summary()
	{
		$('.grid_view1,.grid_view2').html('');
		$('.report_btn').hide();
		var pg = 'logsummaryform';
		form_data =required_validatereportform_json(pg);
		form_data.append('pg',pg);
		var token = '';
		$(".grid_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>'             );
		$.ajax({
			type: "POST",
			url: "../temples/ajax/templeinfo_view_new.php",
			cache: false,
			contentType: false,
			processData: false,
			data:form_data,
			success:function(result)
			{ 
				$(".grid_view").html('');
				$(".grid_view").html(result);
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function activitymapping_modulebased(module_id)
	{
		var token = '';
		$("#error").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
		$.ajax({
			type: "POST",
			url: "../temples/ajax/templeinfo_view_new.php",
			data: {
				pg:'activitymapping_modulebased',
				tokenp:token,
				module_id:module_id,
				workflow:$('#module_id option:selected').data('id'),
			},
			success:function(result){
			$("#error").html('');
			$("#activitymapping_modulebased").html(result);	
			$(".activities_subservices_mapping:checked").each(function() {
			var service_code=$(this).val();
			var param=String(service_code).split(',');
			activities_subservices_mapping(param[0],param[1],'temple');
			});					
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function log_summary_level(level_code)
	{
		$('.grid_view2').html('');
		$('.report_btn').hide();
		param=String(level_code).split('~');
		$('#level_desc').val(param[1]);
		var token = '';
		$(".grid_view1").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>'             );
		$.ajax({
			type: "POST",
			url: "../temples/ajax/templeinfo_view_new.php",
			data: {
				pg:'logsummaryform_level',
				tokenp:token,
				level_code:param[0],
				level_desc:param[1],
				from_date:$('#from_date').val(),
				to_date:$('#to_date').val(),
			},
			success:function(result){
				$('.grid_view1').html('');
				$(".grid_view1").html(result);						
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function log_summary_level_user(param_str)
	{

		var param=String(param_str).split('~');
		var level_code=param[0];
		var userid=param[1];
		var user_name=param[2];
		$('#userid').val(userid);
		$('#username').val(user_name);
		$('#level_code').val(level_code);
		$('.report_btn').show();
		$(".pdf_btn").hide();
		var pg = 'logsummaryform';
		form_data =required_validatereportform_json(pg);
		form_data.append('pg','logsummaryform_level_user');
		$(".grid_view2").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>'             );
		$.ajax({
			type: "POST",
			url: "../temples/ajax/templeinfo_view_new.php",
			cache: false,
			contentType: false,
			processData: false,
			data:form_data,
			success:function(result)
			{ 
				//tabledata_filter('myTable','');
				$(".grid_view2").html(result);
				$(".pdf_btn").show();
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
		
		/*var token = ;
		$(".grid_view2").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>'             );
		$.ajax({
			type: "POST",
			url: "../temples/ajax/templeinfo_view_new.php",
			data: {
				pg:'logsummaryform_level_user',
				tokenp:token,
				level_code:level_code,
				userid:userid,
				user_name:user_name,
				from_date:$('#from_date').val(),
				to_date:$('#to_date').val(),
				  },
			success:function(result){
				$('.grid_view2').html('');
				$(".grid_view2").html(result);						
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});*/
	}
	function data_pendingcase(flow_code,flow_desc,flow_view,temple_id)
	{
		$('.pdf_btn').hide();$("#pending_details").html('');	
		var token = '';
		$("#errmsg,.grid_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				pg:'data_pendingcase',
				tokenp:token,
				flow_code:flow_code,
				flow_desc:flow_desc,
				flow_view:flow_view,
				temple_id:temple_id,
			},
			success:function(result){
				$('#errmsg').html('');
				$("#pending_details").html(result);
				$('.grid_view').html(result);
				$(window).scrollTop($('.grid_view').offset().top+500);
				$('#pendency_key').val(flow_code+'~'+flow_desc+'~'+flow_view+'~'+temple_id);
				$(".pdf_btn").show();
				if($('#templependencyform .pdf').val()=='N')
				{
					$('.pdf_icon').hide();
				}
				if($('#templependencyform .excel').val()=='N')
				{
					$('.excel_icon').hide();
				}				
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function get_eowisetemple(eo_code,flag='')
	{
		// eo_code may be eo_code or temple_id
		$("#pendency_temple,#pendency_data,.grid_view").html('');$('.pdf_btn').hide();	
		var token = '';
		$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>'             );
		$.ajax({
			type: "POST",
			url: "../temples/ajax/templeinfo_view_new.php",
			data: {
				pg:'pendency_temple',
				tokenp:token,
				eo_code:eo_code,
				flag:flag,
				
			},
			success:function(result){
				$('#errmsg').html('');
				$("#pendency_temple").html(result);						
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	
	
	    /*function userrolesmapping(user_code)
		 {
			     var token = ;
				// var user_code = $.trim($(this).val());
				 user_designation(user_code);
				 userrolemapping_roles(user_code);
		 }*/
	   $(document).ready(function(){
		   
		   	$(".temple_form_grid_view").click(function(){
			$('#temple_form_subgrid_view').html('');
			var formname = $(this).parents("form").attr("id");
			var tid='';
			var token = '';
			
			var service_code="";
			var service_subcode="";
			var activity_code="";
			var activity_sid="";
			var form_type='""';
			var form_entry_status='{"scode":"'+service_code+'","subcode":"'+service_subcode+'","acode":"'+activity_code+'","sid":"'+activity_sid+'","form_type":"'+form_type+'","temple_id":"'+tid+'","active_status":"1","qrycase":"entryview"}';
			var landabstract_templeid = $('#landabstractentryform #templeid').val() || '0';
			if(formname=='landabstractentryform'){
			  if(landabstract_templeid == '0'){
				  myalert('Please enter temple id');
				  return false;
			  }
			}
			if(tid=='')
			{
				myalert('Invalid temple');
				return false;
			}
			else
			{
				form_data = new FormData();
				form_data.append('pg',formname.trim());
				form_data.append('tokenp',token.trim());
				form_data.append('landabstract_templeid',landabstract_templeid.trim());
				form_data.append('form_entry_status',form_entry_status.trim());
				
				if(formname=='hardwareentryform' || formname=='netconnectionform')
				{
			  	form_data.append('entry_type',$('#entry_type').val());
				}
			  
			    if(formname=='festivaldetailform')
				{
	                 form_data.append('festivals_id',$('#festivals_id').val().trim());
				}
				else if(formname=='trusteedetailsform')
				{
	                 form_data.append('trustee_sid',$('#trustee_sid').val().trim());
				}
				else if(formname=='facilityform')
				{
	                 form_data.append('filter_code',$('#filter_code').val().trim());
				}
				else if(formname=='templeplaceform')
				{
	                 form_data.append('standee_flag',$('#standee_flag').val());
				}
				if(formname=='bankdetails_uploadform')
				{
	                 form_data.append('payment_gateway',String($('#payment_gateway').val()));
				}
				if(formname=='mstsectionjurismap')
				{
	                form_data.append('maptype_sid',String($('#maptype_sid').val()));
	                form_data.append('section_sid',String($('#section_sid').val()));
				}
				if(formname=='mst_sectionuser_jurismap')
				{
	                form_data.append('maptype_sid',String($('#maptype_sid').val()));
	                form_data.append('section_sid',String($('#section_sid').val()));
				}
				if(formname=='mst_sectionuser_map')
				{
					form_data.append('maptype_sid',String($('#maptype_sid').val()));
	                form_data.append('designation_code',String($('#designation_code').val()));
				}
				if(formname=='templeimagesuploadform')
				{
					if($('#imagecase_sid').val()=='')
					{
						myalert('Photo Description is empty');
						return false;
					}
	                 form_data.append('imagecase_sid',String($('#imagecase_sid').val()));
				}
				if(formname=='ebconnection')
				{
					if(String($('#temple_id').val()!=''))
					{
		                form_data.append('temple_id',String($('#temple_id').val()));
		                form_data.append('level_code',String($('#level_code').val()));
		                form_data.append('role_code',String($('#role_code').val()));
	             	}
	             	else
	             	{
	             		myalert('invalid temple id');
	             		return false;
	             	}
				}
				$(".grid_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
					$.ajax({
					type: "POST",
					url: "../temples/ajax/templeinfo_view_new.php",
					cache: false,
					contentType: false,
					processData: false,
					data:form_data,
				//	dataType:'JSON',
					success:function(result)
					{ 
					   $(".grid_view").html('');
						$(".grid_view").html(result);
					   /* if(formname=='generalinfoform'){
							if($('#mark_71').hasClass('fasquare'))
							{
								$('#templebasicinfo_submit').text('Add');
							}
							else
							{
								$('#templebasicinfo_submit').text('Edit');								
							}
						   $('#edit_form_event').click();
						}*/
						if(formname=='cctvform' || formname=='hardwareentryform' || formname =='alarmformsecurity' || formname =='strongroomsecurity'){
							 innergrid('');
						}
						
						 
						
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
			
		});
		$(".temple_report_click").click(function() {
			    $('.grid_view,.grid_view1,.grid_view2,.grid_view3').html(''); 
				$(".pdf_btn").hide();
			    var pg = $(this).closest('form').attr('id');
			    form_data = new FormData();
				form_data =required_validatereportform_json(pg);
				form_data.append('pg',pg);
				if(pg=='usersearchlist')
				{
					if($('#temple_id_slno').val()=='' && $('#userserialno').val()=='' && $('#designation').val()=='' && $('#mob').val()=='' && $('#email').val()=='')
					{
						myalert('Please select any one field!');
						return false;
					}
				}
				$(".grid_view").html('<center style="clear:both"><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');

				$.ajax({
					type: "POST",
					url: "../temples/ajax/templeinfo_view_new.php",
					cache: false,
					contentType: false,
					processData: false,
					//async:false,
					data:form_data,
					success:function(result)
					{ 
						if(pg=='templedataentry_report')
						{
							$(".grid_view").html('');
							$(".dataentry_abstract").html(result);
							$("#pendency_data").html('');
						}
						else
						{
							$(".grid_view").html(result);
						}
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
				
			});
		   
		$(".temple_report_select").change(function() {
			//alert('sdd');
			$(".pdf_btn").hide();
			   var pg = $(this).closest('form').attr('id');
				form_data =required_validatereportform_json(pg);
				form_data.append('pg',pg);
				$(".grid_view").html('<center style="clear:both"><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
				$.ajax({
					type: "POST",
					url: "../temples/ajax/templeinfo_view_new.php",
					cache: false,
					contentType: false,
					processData: false,
					data:form_data,
					success:function(result)
					{ 
						$(".grid_view").html('');
						$(".grid_view").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
				
			});
			
	/*	 $("#slt_jcac_report").change(function() {
			var report_code = $.trim($(this).val());
			if(report_code=='')
			{
				myalert('please select office name');
				return false;
			}
			var tid='';
			var token = '';
				form_data = new FormData();
				form_data.append('pg','jcac_info');
				form_data.append('tokenp',token.trim());
				form_data.append('report_code',report_code.trim());
				$("#jc_ac_vw").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
				$.ajax({
					type: "POST",
					url: "../temples/ajax/templeinfo_view_new.php",
					cache: false,
					contentType: false,
					processData: false,
					data:form_data,
					success:function(result)
					{ 
						$("#jc_ac_vw").html('');
						$("#jc_ac_vw").html(result);
						
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
				$(".pdf_btn").show();
			});
			
			$("#vw_eo_report").click(function() {
				var tid='';
				var token = '';
				form_data = new FormData();
				form_data.append('pg','eo_info');
				form_data.append('tokenp',token.trim());
				$("#eo_vw").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>'             );
				$.ajax({
					type: "POST",
					url: "../temples/ajax/templeinfo_view_new.php",
					cache: false,
					contentType: false,
					processData: false,
					data:form_data,
					success:function(result)
					{ 
						$("#eo_vw").html('');
						$("#eo_vw").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
				$(".pdf_btn").show();
			});
			$(".temple_list_report").change(function() {
				var tid='';
				var token = '';
				var tmpl_lst_rpt =  ($(this).val()!='' && typeof($(this).val())!='undefined')? $.trim($(this).val()):'';
				if(tmpl_lst_rpt=='')
				{
					myalert('please select Jurisdiction Officers');
					return false;
				}
				form_data = new FormData();
				form_data.append('pg','templelistform');
				form_data.append('office_code',tmpl_lst_rpt);
				form_data.append('tokenp',token.trim());
				$(".grid_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>'             );
				$.ajax({
					type: "POST",
					url: "../temples/ajax/templeinfo_view_new.php",
					cache: false,
					contentType: false,
					processData: false,
					data:form_data,
					success:function(result)
					{ 
						$(".grid_view").html('');
						$(".grid_view").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
				$(".pdf_btn").show();
			});
			*/
		   
		   $('#condition_code').click(function(){
			   if($('[name=conditiontype]:checked').val()==undefined){
			myalert('Please select condition type');
		    } 
	     });
			/*$("#state_code").change(function() {
				$("#district_code").val('');
				var state_val = $.trim($(this).val());
				var token = '';
				if(state_val!='')
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							scode: state_val,
							pg:'state_dst_code',
							tokenp:token
						},
						dataType: "JSON",
						success:function(resp_st_code){
							var a=	resp_st_code.dst_cd;
							if(a.trim!='')
							{
								$("#district_code").val(resp_st_code.dst_cd);
							}
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}				
			});*/
			//hptemplesearch()
			$( "#district_name12").change(function() {
				//myalert("hi");
				$("#taluk_name").val('');
				var state_val = '33';//"33";
				var dist_val = $.trim($(this).val());
			
				//myalert( state_val );
				var token = '';
				$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
				if(state_val!='')
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							scode: state_val,
							dcode: dist_val,
							pg:'state_tlk_code',
							tokenp:token
						},
						success:function(resp_st_code){
						$("#errmsg").html('');
							//myalert(resp_st_code);
					 	if(resp_st_code.trim!='')
					    {    
							$("#taluk_name,#townform #taluk_code,#villageform #taluk_code,#wardform #taluk_code").html(resp_st_code);
					    }
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}				
			});
			
			$( "#taluk_name12").change(function() {
				$("#village_name").val('');
				var state_val = '33';//"33";
				var dist_val=$("#district_name").val();
				var taluk_val = $("#taluk_name").val();
				juris_office(state_val,dist_val,taluk_val);  //Registration Office
				var token = '';
				$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
				if(state_val!='')
				{
					jQuery.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							scode: state_val,
							dcode: dist_val,
							tcode: taluk_val,
							pg:'village_name',
							tokenp:token
						},
						success:function(result){
							$("#errmsg").html('');
					 	if(result.trim!='')
					    {    
							$("#village_name").html(result);
					    }
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}				
			});
			
			
			/*** basic detaile in temple****/
				$(".temple_name_filter").change(function(){
					var temple_id = $('#temple_name').val().trim();
					var token = '';
				     $.ajax({
						 type:'POST',
						 url:'../temples/ajax/app_master.php',
						 dataType:'JSON',
						 data:{
							 tid:temple_id,
							 pg:'templebasicform',
							 tokenp:token
							 },
						 success:function(result){
						data=$.parseJSON(result);
						
								var fields=['templeidslno','temple_category_code','institute_category','section_code','temple_location','temple_tlocation','administrated_by','temple_subcategory_code'];
								for (i = 0; i <fields.length; i++) 
								{
								$("#"+fields[i]).val(data[0][fields[i]].trim());
								}	
								 temple_subcategory_code_chnge(data[0]['temple_subcategory_code'],'0',data[0]['main_temple_id'],data[0]['district_code'],data[0]['taluk_code']);
								 
								 if(data[0]['main_temple_id'] !== 0 || data[0]['main_temple_id'] !=''){
									main_temple_id_chnge(data[0]['main_temple_id'],data[0]['group_temple_id'],data[0]['district_code'],data[0]['taluk_code']);
								 }
								        institution_category(data[0]['institute_category'],data[0]['section_code']);
								     	getDistricts(data[0]['state_code'],data[0]['district_code']);
										getTaluks(data[0]['state_code'],data[0]['district_code'],data[0]['taluk_code']);
										getVillages(data[0]['state_code'],data[0]['district_code'],data[0]['taluk_code'],data[0]['village_name']);						
										maintemplechange_event(data[0]['temple_subcategory_code']);
									    check_undercontrol_event(data[0]['radio_subtemplecontrol']);
						  
						},
					});
	  			 });
				
			/**** basic end ****/
			

			
			$( "#menu_type").change(function() 
			{
				$("#menu_screen").val('');
				$("#horiz_menudiv").css('display','none');
				$("#verti_menudiv").css('display','none');
				$("form#demoform").css('display','none');
				var menutype=$("#menu_type").val();
				var tid='';
				var token = '';
				if(tid=='')
				{
					myalert('invalid temple');
					return false;
				}
				else
				{
					if(menutype == "")
					{
						myalert("Please select anyone..");
						return false;
						
					}
					if(menutype=='H')
					{
						jQuery.ajax({
								type: "POST",
								url: "../temples/ajax/mapping_screen.php",
								data: {
									menutype:menutype,
									pg:'mapping_screen',
									tokenp:token
								},
								//dataType: "JSON",
								success:function(result){
									//myalert(result);
										$("form#demoform").css('display','block');
									   $("#menu_screen").css('display','block');
										$("#menu_screen").html(result);
								},
								error:function (xhr, ajaxOptions, thrownError){
									myalert(thrownError);
								}
							});
							
					}
					else if(menutype=='V')
					{
							$("#horiz_menudiv").css('display','block');
							$("#menu_screen").css('display','none');
							jQuery.ajax({
									type: "POST",
									url: "../temples/ajax/app_master.php",
									data: {
										menutype:menutype,
										//apptype:$('input[name=application_type]:checked').val(),
										pg:'mapping_screen_horizmenu',
										tokenp:token
									},
									//dataType: "JSON",
									success:function(result){
										//myalert(result);
											$("#horiz_menu_code").html(result);
									},
									error:function (xhr, ajaxOptions, thrownError){
										myalert(thrownError);
									}
								});
					}
					else if(menutype=='S')
					{
							$("#horiz_menudiv").css('display','none');
							$("#verti_menudiv").css('display','block');
							$("#menu_screen").css('display','none');
							jQuery.ajax({
									type: "POST",
									url: "../temples/ajax/app_master.php",
									data: {
										menutype:menutype,
										pg:'mapping_screen_horizmenu',
										tokenp:token
									},
									//dataType: "JSON",
									success:function(result){
										//myalert(result);
											$("#verti_menu_code").html(result);
									},
									error:function (xhr, ajaxOptions, thrownError){
										myalert(thrownError);
									}
								});
					}
				}
			});
			$( "#horiz_menu_code").change(function() {
				$("#menu_screen").val('');
				$("#errmsg").html('');
				$("form#demoform").css('display','none');
				var menutype=$("#menu_type").val();
				var hmenu_code=$("#horiz_menu_code").val().trim();
				var tid='';
				var token = '';
				if(tid=='')
				{
					myalert('invalid temple');
					return false;
				}
				else
				{
					if(hmenu_code == "")
					{
						myalert("Please select anyone..");
						return false;
						
					}
							jQuery.ajax({
								type: "POST",
								url: "../temples/ajax/mapping_screen.php",
								data: {
									menutype:menutype,
									pg:'mapping_screen',
									tokenp:token,
									hmenu_code:hmenu_code
								},
								//dataType: "JSON",
								success:function(result){
									//myalert(result);
									  $("form#demoform").css('display','block');
									   $("#menu_screen").css('display','block');
										$("#menu_screen").html(result);
								},
								error:function (xhr, ajaxOptions, thrownError){
									myalert(thrownError);
								}
							});
				}
				
			});
			$( "#verti_menu_code").change(function() 
			{
				$("#menu_screen").val('');
				var menutype=$("#menu_type").val();
				var vmenu_code=$("#verti_menu_code").val().trim();
				var tid='';
				var token = '';
				if(tid=='')
				{
					myalert('invalid temple');
					return false;
				}
				else
				{	
					if(vmenu_code == "")
					{
						myalert("Please select anyone..");
						return false;
						
					}
					var token = '';
							jQuery.ajax({
								type: "POST",
								url: "../temples/ajax/mapping_screen.php",
								data: {
									menutype:menutype,
									pg:'mapping_screen',
									tokenp:token,
									vmenu_code:vmenu_code
								},
								//dataType: "JSON",
								success:function(result){
									//myalert(result);
									$("form#demoform").css('display','block');
									   $("#menu_screen").css('display','block');
										$("#menu_screen").html(result);
								},
								error:function (xhr, ajaxOptions, thrownError){
									myalert(thrownError);
								}
							});
					
				}
				
			});
			
			
			
			$( "#category_service_code").change(function() {
				$("#menu_screen").val('');
				var menutype='service';
				var tid='';
				var token = '';
				if(tid=='')
				{
					myalert('invalid temple');
					return false;
				}
				else
				{
					var service_code=$("#service_type").val().trim();
					var category_service_code=$("#category_service_code").val().trim();
					$("form#demoform").css('display','none');
					if(category_service_code == "")
					{
						myalert("Please select anyone..");
						return false;
						
					}
					if(service_code == "")
					{
						myalert("Please select anyone..");
						return false;
						
					}
					var token = '';
							jQuery.ajax({
								type: "POST",
								url: "ajax/mapping_screen.php",
								data: {
									menutype:menutype,
									service_code:service_code,
									pg:'mapping_screen',
									tokenp:token,
									category_service_code:category_service_code
								},
								//dataType: "JSON",
								success:function(result){
									   $("form#demoform").css('display','block');
									   $("#menu_screen").css('display','block');
									   $("#menu_screen").html(result);
								},
								error:function (xhr, ajaxOptions, thrownError){
									myalert(thrownError);
								}
							});
				}
			});
			$( "#scategory_service_code").change(function() {
				/*myalert('lllllll');*/
				$("#menu_screen").val('');
				var menutype='service';
				var tid='';
				var token = '';
				if(tid=='')
				{
					myalert('invalid temple');
					return false;
				}
				else
				{
					var service_code=$("#service_type").val().trim();
					var scategory_service_code=$("#scategory_service_code").val().trim();
					$("form#demoform").css('display','none');
					if(scategory_service_code == "")
					{
						myalert("Please select anyone..");
						return false;
						
					}
					if(service_code == "")
					{
						myalert("Please select anyone..");
						return false;
						
					}
					var token = '';
							jQuery.ajax({
								type: "POST",
								url: "ajax/mapping_screen.php",
								data: {
									menutype:menutype,
									service_code:service_code,
									pg:'mapping_screen',
									tokenp:token,
									scategory_service_code:scategory_service_code
								},
								//dataType: "JSON",
								success:function(result){
									/*myalert(result);
									console.log(result);*/
									   $("form#demoform").css('display','block');
									   $("#menu_screen").css('display','block');
									   $("#menu_screen").html(result);
								},
								error:function (xhr, ajaxOptions, thrownError){
									myalert(thrownError);
								}
							});
					
				}
				
			});
			
			$( "#activity_mapping_users,#module_id").change(function() {
				var user_code = $.trim($('#activity_mapping_users').val());
				var module_id = $.trim($('#module_id').val()); 
				if(module_id !=''){
					 var spn_head = $.trim($('#spn_head').html());	 
					 if(user_code =='' && spn_head=='User Activity Assignment'){
					 	 myalert('please select Users!'); 
					 	 $('#flow_values_display').hide(); 
					 }else{
					 	 $('#flow_values_display').show(); 
						 var token = '';
						 user_designation(user_code);
					 } 
				}   
					$(".activity_roles:checked").each(function() {
						var param=$(this).attr("id");
			          document.getElementById(param).checked = false;
					});
					$("div[id^=user_permission]").html('');
				if(user_code=='0' || user_code=='')
				{
					$("#activity_user_designation").css('display','none'); 
					return false;
				}
				 $.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						tokenp:token,
						pg:'userwise_roleactivity',
						user_code:user_code,
						module_id:module_id,
					},
					success:function(result){
						$("#userRole").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
	     });
		
		 $( "#parliment").change(function() {
				$("#assembly").val('');
				var pcode=$.trim($(this).val());
					var token = '';
					$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
					if(pcode!='')
					{
						jQuery.ajax({
							type: "POST",
							url: "../temples/ajax/app_master.php",
							//data:dataString,
							data: {
								pcode: pcode,
								pg:'parliment_code',
								tokenp:token
							},
							success:function(result){
								$("#errmsg").html('');
							if(result.trim!='')
							{    
								$("#assembly").html(result);
							}
							},
							error:function (xhr, ajaxOptions, thrownError){
								myalert(thrownError);
							}
						});
					}	
			});
			$("#templebasic_click").click(function()
		 {
			var temple_name = $('#temple_name').val();
			if(temple_name=='')
			{
				myalert('please select temple name');
				return false;
			}else{
				var formname = $(this).parents("form").attr("id");
				var token = '';
				form_data = new FormData();
				form_data.append('pg',formname.trim());
				form_data.append('tokenp',token.trim());
				form_data.append('temple_name',temple_name);
				$("#templebasic_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
					$.ajax({
					type: "POST",
					url: "../temples/ajax/templeinfo_view_new.php",
					cache: false,
					contentType: false,
					processData: false,
					data:form_data,
				//	dataType:'JSON',
					success:function(result)
					{ 
						$("#templebasic_view").html('');
						$("#templebasic_view").html(result);	
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
		}); 
		/*$("#signup_event").click(function(){
				var lcode=$('#usr_level').val();
				var rcode=''; 
				var tid='';
				var token = '';
				if(lcode == '')
				{
					myalert('Invalid level');
					return false;
				}
				if(rcode == '')
				{
					myalert('Invalid Role');
					return false;
				}
				    form_data = new FormData();
					form_data.append('pg','formsignup');
					form_data.append('tokenp',token.trim());
					form_data.append('level_code',lcode.trim());
					form_data.append('role_code',rcode.trim());
			
					$("#signupinfo_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
						$.ajax({
						type: "POST",
						url: "../temples/ajax/templeinfo_view_new.php",
						cache: false,
						contentType: false,
						processData: false,
						data:form_data,
					//	dataType:'JSON',
						success:function(result)
						{ 
							$("#signupinfo_view").html('');
							$("#signupinfo_view").html(result);	
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
			});*/
			$("#signup_event").click(function(){
					var lcode=$('#usr_level').val();
					var designation=$('#usr_designation').val();
					var rcode=''; 
					var tid='';
					var token = '';
					if(lcode == '')
					{
						myalert('Invalid level');
						return false;
					}
					if(rcode == '')
					{
						myalert('Invalid Role');
						return false;
					}
					    form_data = new FormData();
						form_data.append('pg','formsignup');
						form_data.append('tokenp',token.trim());
						form_data.append('level_code',lcode.trim());
						form_data.append('role_code',rcode.trim());
						form_data.append('usr_designation',designation.trim());
				
						$("#signupinfo_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
							$.ajax({
							type: "POST",
							url: "../temples/ajax/templeinfo_view_new.php",
							cache: false,
							contentType: false,
							processData: false,
							data:form_data,
						//	dataType:'JSON',
							success:function(result)
							{ 
								$("#signupinfo_view").html('');
								$("#signupinfo_view").html(result);	
							},
							error:function (xhr, ajaxOptions, thrownError){
								myalert(thrownError);
							}
						});
				});
$("#leavemaster_event,#transfermaster_event").click(function(){
				
				var formname = $(this).parents("form").attr("id");
			    form_data =required_validatereportform_json(formname);
			    if(form_data)
			    {
				form_data.append('pg',formname.trim());
				$(".grid_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
				$.ajax({
					type: "POST",
					url: "../temples/ajax/templeinfo_view_new.php",
					cache: false,
					contentType: false,
					processData: false,
					data:form_data,
					success:function(result)
					{
						$(".grid_view").html('');
					    $(".grid_view").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			  }	
			});
			
			$("#roleassign_event").click(function(){
				//var lcode=$('#level_code').val();
				var usercode=$('#role_userid').val();
				var additional_charge=$('#additional_charge').val();
				var tid='';
				var token = '';
				
				if(usercode == '')
				{
					myalert('please select the level and then user');
					return false;
				}
				form_data = new FormData();
				form_data.append('pg','userroleform');
				form_data.append('tokenp',token.trim());
				//form_data.append('level_code',lcode.trim());
				form_data.append('user_code',usercode.trim());
				form_data.append('additional_charge',additional_charge.trim());
				$(".grid_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
					$.ajax({
					type: "POST",
					url: "../temples/ajax/templeinfo_view_new.php",
					cache: false,
					contentType: false,
					processData: false,
					data:form_data,
				//	dataType:'JSON',
					success:function(result)
					{ 
						$(".grid_view").html('');
						$(".grid_view").html(result);	
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
		});
		$("#templeassign_event").click(function(){
			var level_code=$('#level_code').val();
			var desig_code=$('#user_designation').val();
			var param=String($('#user_code').val()).split('~');
			var user_code=param[0];
			var active_role_code=$('#active_role_code').val();
			//alert(active_role_code);
			if(level_code=='' || desig_code=='' || user_code=='')
			{
				myalert('please select the level,designation,employee name');
				return false;
			}
			var tid='';
			var token = '';
			form_data = new FormData();
			form_data.append('pg','postassignform');
			form_data.append('tokenp',token.trim());
			form_data.append('desig_code',desig_code.trim());
			form_data.append('user_code',user_code.trim());
			form_data.append('active_role_code',active_role_code.trim());
			$("#templeassign_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
				$.ajax({
				type: "POST",
				url: "../temples/ajax/templeinfo_view_new.php",
				cache: false,
				contentType: false,
				processData: false,
				data:form_data,
			//	dataType:'JSON',
				success:function(result)
				{ 
					$("#templeassign_view").html('');
					$("#templeassign_view").html(result);	
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		});$("#roleassign_event").click(function(){
				//var lcode=$('#level_code').val();
				var usercode=$('#role_userid').val();
				var additional_charge=$('#additional_charge').val();
				var tid='';
				var token = '';
				
				if(usercode == '')
				{
					myalert('please select the level and then user');
					return false;
				}
				form_data = new FormData();
				form_data.append('pg','userroleform');
				form_data.append('tokenp',token.trim());
				//form_data.append('level_code',lcode.trim());
				form_data.append('user_code',usercode.trim());
				form_data.append('additional_charge',additional_charge.trim());
				$(".grid_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
					$.ajax({
					type: "POST",
					url: "../temples/ajax/templeinfo_view_new.php",
					cache: false,
					contentType: false,
					processData: false,
					data:form_data,
				//	dataType:'JSON',
					success:function(result)
					{ 
						$(".grid_view").html('');
						$(".grid_view").html(result);	
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
		});	
		

});
 function  getMaxtalukcode()
	      {
				$("#taluk_code").val('');
				var state_val = '33';//"33";
				var dist_code = $('#district_name').val();
				var token = '';
				/*$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');*/
				if(state_val!='')
				{
					$.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						dataType: "JSON",
						data: {
							scode: state_val,
							dcode: dist_code,
							pg:'state_tlk_mcode',
							tokenp:token
						},
						success:function(resp_st_code)
						{
							$("#errmsg").html('');
							var a=	resp_st_code.tlk_cd;
							if(a.trim!='')
							{
								$("#taluk_code").val(a);
								$('.master_form_grid_view').click();
							}
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}				
	 	}
		function juris_office(state_code,dist_code,taluk_code)
		{
			$("#juris_office_code").html('');
			//$("#juris_office_code").attr('disabled','disabled');
			var formname = 'juris_office_code';
			var tid='';
			var token = '';
			form_data = new FormData();
			form_data.append('pg',formname.trim());
			form_data.append('tokenp',token.trim());
			form_data.append('state_code',state_code);
			form_data.append('dist_code',dist_code);
			form_data.append('taluk_code',taluk_code);
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				cache: false,
				contentType: false,
				processData: false,
				data:form_data,
			//	dataType:'JSON',
				success:function(result)
				{ 
					$("#juris_office_code").html(result);	
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
		function levelbased_juris_office(level_code,userserialno)
		{
			$("#office_code").html('');
			var formname = 'levelbased_juris_office_code';
			var tid='';
			var token = '';
			form_data = new FormData();
			form_data.append('pg',formname.trim());
			form_data.append('tokenp',token.trim());
			form_data.append('level_code',level_code);
			form_data.append('userserialno',userserialno);
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				cache: false,
				contentType: false,
				processData: false,
				data:form_data,
			//	dataType:'JSON',
				success:function(result)
				{ 
					$("#office_code").html(result);	
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
		function levelbased_jurisdiction(level_code,current_val='')
		{
			$("#office_code").html('');
			var formname = 'levelbased_jurisdiction';
			var token = '';
			form_data = new FormData();
			form_data.append('pg',formname.trim());
			form_data.append('tokenp',token.trim());
			form_data.append('level_code',level_code);
			form_data.append('current_val',current_val);
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				cache: false,
				contentType: false,
				processData: false,
				data:form_data,
			//	dataType:'JSON',
				success:function(result)
				{ 
					$("#office_code").html(result);	
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
	
		function track_festivaldetails(id,active_status,track_edit)
			{
					var param = String(id).split("~");
					var formname = 'festivaldetailform';
					var tid='';
					var token = '';
					form_data = new FormData();
					form_data.append('pg',formname.trim());
					form_data.append('tokenp',token.trim());
					form_data.append('festivals_id',param[1].trim());
					form_data.append('grid_option','Y');
					form_data.append('active_status',active_status.trim());
					$("#temple_form_subgrid_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
						$.ajax({
						type: "POST",
						url: "../temples/ajax/templeinfo_view_new.php",
						cache: false,
						contentType: false,
						processData: false,
						data:form_data,
						success:function(result)
						{ 
							$("#temple_form_subgrid_view").html('');
							$("#temple_form_subgrid_view").html(result);	
							if(track_edit!=''){
								$('#activity_modelview_block').attr('id','');
								$('#subtable th:last-child, #subtable td:last-child').remove();
								$('#edit_form_event').click();
 
							}
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
		    }
	function pond_security_edit(temple_id,pond_code)
	{
		var token = '';
		if(temple_id!='' || pond_code!='')
			{
				jQuery.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					//data:dataString,
					data: {
						temple_id: temple_id,
						pond_code: pond_code,
						pg:'pond_security_edit',
						tokenp:token
					},
					success:function(result){
						//myalert(result);
						 $("#security_edit").html(result);
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
	}
	/* Model View */
	$(document).ready(function(){
		$(document).on('click', '#modelView', function(e)
		{
			 e.preventDefault();
			 var desc = $(this).data('id'); // get id of clicked row
			 var img = $(this).data('img'); 
			 var pagedesc = $(this).data('class'); // get id of clicked row
			 var token = '';
			 $('#dynamic-content').html(''); // leave this div blank	 
			 //$('#modal-loader').show();      // load ajax loader on button click
			 if(pagedesc!='')
			 {
				 $('#modelview_header').text(pagedesc);
			 }
			 if(img.length>0)
				{
			 $('#dynamic-content').append('<div class="table-responsive"><img style="float:right;width:200px;height:200px; margin-left:15px; border:2px solid #CCC" class="img-rounded myImage" data-id="'+img+'" src="'+img+'" />\
<div style="text-align: justify;text-justify: inter-word;line-height:23px">'+desc+'</div></div>'); // load here
				}
			else{
				$('#dynamic-content').append('<div class="table-responsive"><div style="text-align: justify;text-justify: inter-word;line-height:23px">'+desc+'</div></div>'); // load here
			}
		});
   });
   

   function schemesModelView(desc,data)
   {
	  $('#dynamic-content').html(''); // leave this div blank
	  $('#dynamic-content').html(data); // load here
	  $('#modelview_header').html(desc);
	  $('#modal-loader').hide(); // hide loader  
   }
 function splfunctions_day(func_type_code,select_val) //pooja days event
 {
		var tid='';
		var token = '';
		form_data = new FormData();
		form_data.append('pg','splfunc_day');
		form_data.append('tokenp',token.trim());
		form_data.append('func_type_code',func_type_code.trim());
		form_data.append('select_val',select_val.trim());
			$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			cache: false,
			contentType: false,
			processData: false,
			data:form_data,
		//	dataType:'JSON',
			success:function(result)
			{ 
				$('#splday_code').html(result);
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
 }
 
   
 function splfunctions_event(splfunccode,select_val)//pooja dates event
 {
	    var tid='';
		var token = '';
		alert(select_val.trim());
		form_data = new FormData();
		form_data.append('pg','splfunc_date');
		form_data.append('tokenp',token.trim());
		form_data.append('splfunccode',splfunccode.trim());
		form_data.append('select_val',select_val.trim());
			$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			cache: false,
			contentType: false,
			processData: false,
			data:form_data,
		//	dataType:'JSON',
			success:function(result)
			{ 
				$('#splfunc_date').html(result);
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		}); 
 }
 
 
 
 
 
 function splfestival_event(splfestcode,select_val) //pooja festival dates event
 {
	    var tid='';
		var token = '';
		form_data = new FormData();
		form_data.append('pg','splfunc_festival');
		form_data.append('tokenp',token.trim());
		form_data.append('splfestcode',splfestcode.trim());
		form_data.append('select_val',select_val.trim());
			$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			cache: false,
			contentType: false,
			processData: false,
			data:form_data,
		//	dataType:'JSON',
			success:function(result)
			{ 
				$('#splfestival_date').html(result);
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		}); 
 }
 
 
	function latilong_locationsearch()
	{
		var token = '';
		 $.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					tokenp:token,
					pg:'latitude_longitude',
					street:$('#street_name').val(),
					location:$('#location').val(),
					pincode:$('#pincode').val(),
				},
				success:function(result){
					$('#latitude_longitude').val(result.trim());
					var res = result.trim().split('/');
					$('#latitude').val(res[0].trim());
					$('#longitude').val(res[1].trim());
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
	}	
		function registrationEOlist(office_code,level_code,select_val)
		{
			var token='';
			$.ajax({
				type:"POST",
				url: "../temples/ajax/app_master.php",
				data: {
						office_code: office_code,
						level_code: level_code,
						pg:'get_registrationEOlist',
						tokenp:token,
						select_val:select_val,
					  },
				success:function(result)
				{
					$("#administrated_by").html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
				
			});
		}
		function get_historytype(historycode)
		{
				var historycode = historycode || '0';
			  	$("select[id='history_code']").html('');
				var token = '';
				var tid='';
				$.ajax({
					type:"POST",
					url: "../temples/ajax/app_master.php",
					data: {
							historycode: historycode,
							tid: tid,
							pg:'get_historytype',
							tokenp:token,
						 },
					success:function(resp)
					{
						$("select[id='history_code']").html(resp);
						return true;
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
		  }
		  function get_servicetype(servicecode)
		  {
			    var servicecode = servicecode;
			    $("select[id='service_code']").html('');
				var token = '';
				var tid='';
				$.ajax({
					type:"POST",
					url: "../temples/ajax/app_master.php",
					data: {
							servicecode: servicecode,
							tid: tid,
							pg:'get_servicetype',
							tokenp:token,
						 },
					success:function(resp)
					{
						$("select[id='service_code']").html(resp);
						return true;
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
		   }
		   function get_structuretype(structurecode)
		   {
			  var structurecode = structurecode||'0';
			  $("select[id='structure_code']").html('');
				var token = '';
				var tid='';
				$.ajax({
					type:"POST",
					url: "../temples/ajax/app_master.php",
					data: {
							structurecode: structurecode,
							tid: tid,
							pg:'get_structuretype',
							tokenp:token,
						 },
					success:function(resp)
					{
						$("select[id='structure_code']").html(resp);
						return true;
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
					
				});
		   }
		   
		   
		   function get_animaltype(animalcode)
		   {
			   var animalcode = animalcode||'0';
			  $("select[id='animals_type']").html('');
				var token = '';
				var tid='';
				$.ajax({
					type:"POST",
					url: "../temples/ajax/app_master.php",
					data: {
							animalcode: animalcode,
							tid: tid,
							pg:'get_animaltype',
							tokenp:token,
						 },
					success:function(resp)
					{
						$("select[id='animals_type']").html(resp);
						return true;
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
					
				});
		   }

		   function module_enablecheck(module_id)
		   {
			   var module_id = module_id;
				var token = '';
				var tid='';
				$.ajax({
					type:"POST",
					url: "../temples/ajax/app_master.php",
					data: {
							module_id: module_id,
							tid: tid,
							pg:'module_enablecheck',
							tokenp:token,
						 },
					success:function(result)
					{
						// alert(result);
						var data=$.parseJSON(result);
						if(data[0]["count"]==0){
						$('#securitymappingform').hide();
						$('.errmsg').text('Please map the Temple Security Module under this temple.');
						$('.overll-grid').hide();
						$('#modulemap').val('N');
					   }
					   else if(data[0]["count"]==1){
					   $('#securitymappingform').show();
					   $('.errmsg').text('');
					   $('.overll-grid').show();
					   $('#modulemap').val('Y');
					   }
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
					
				});
		   }

	function templesecurity_mapcheck(security_code)
		   {
			   var security_code = security_code;
				var token = '';
				var tid='';
				$.ajax({
					type:"POST",
					url: "../temples/ajax/app_master.php",
					data: {
							security_code: security_code,
							tid: tid,
							pg:'templesecurity_mapcheck',
							tokenp:token,
						 },
					success:function(result)
					{
						// alert(result);
						var data=$.parseJSON(result);
						var count=data[0]["count"];
						if(count==0){
						$('.note').text('Please enable this form in Security Mapping form for this temple.');
						}
						else{
						$('.note').text('');
						}	
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
					
				});
		   }	   
   function pwd_authentication()
	{
		$(".form_overlay,#formloading_img").show();
		var token = '';
		var pwd_authentication=$('#pwd_auth').val();
		if(pwd_authentication=='')
		{
			myalert('please enter the security password');
			$(".form_overlay,#formloading_img").hide();
			return false;
		}
		var pwd_auth=sha256_digest(pwd_authentication);
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				   pwd_auth:pwd_auth,
				   pg:'pwd_authentication',
				   tokenp:token,
			      },
			dataType: "JSON",
			success:function(result){
				if(result.trim()=='success')
				{
					$('#pwd_authentication_close').click();
					var page=localStorage.getItem("page_name");
					var category = getParameterByName('code',page);
					var scategory = getParameterByName('scode',page);
					var mappingid = getParameterByName('uid',page);
					var rpt_id = getParameterByName('rpt_url',page);
					var acategory = getParameterByName('acode',page);
					var pwd_auth = getParameterByName('pwd_auth',page);
					  $.ajax({
						url: page,
						data: {
							  pageid:page,
							  mappingid:mappingid,
							  catcode:category,
							  scatcode:scategory,
							  acatcode:acategory,
							  rpt_url:rpt_id
							  },
						cache: false,
						success: function(html){
							$(".content-wrapper").html('');
							$(".content-wrapper").append(html);
							$(".form_overlay,#formloading_img").hide();
						}
					});
				 }
				 else
				 {
					 $(".content-wrapper").html('');
					 $('#pwd_auth').val('');
					 myalert('login failed !');
					 $(".form_overlay,#formloading_img").hide();
				 }
			    },
			  error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			   }
	    	});
	}
	function otp_authentication()
	{
		$(".form_overlay,#formloading_img").show();
		var token = '';
		var otp_authentication=$('#otp_auth').val();
		if(otp_authentication=='')
		{
			myalert('please enter the OTP password');
			$(".form_overlay,#formloading_img").hide();
			return false;
		}
		var otp_auth=sha256_digest(otp_authentication);
		var enctoken=Math.random().toString().slice(2,11);
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				   otp_auth:otp_auth,
				   pg:'otp_authentication',
				   tokenp:token,
				   enctoken:enctoken,
			      },
			dataType: "JSON",
			success:function(result){ 
				console.clear();
				if(sha256_digest('success'+enctoken).trim()==result.trim())
				{
					$('#otp_authentication_close').click();
					var page=localStorage.getItem("page_name");
					var category = getParameterByName('code',page);
					var scategory = getParameterByName('scode',page);
					var mappingid = getParameterByName('uid',page);
					var rpt_id = getParameterByName('rpt_url',page);
					var acategory = getParameterByName('acode',page);
					var pwd_auth = getParameterByName('pwd_auth',page);
					  $.ajax({
						url: page,
						data: {
							  pageid:page,
							  mappingid:mappingid,
							  catcode:category,
							  scatcode:scategory,
							  acatcode:acategory,
							  rpt_url:rpt_id
							  },
						cache: false,
						success: function(html){
							$(".content-wrapper").html('');
							$(".content-wrapper").append(html);
							$(".form_overlay,#formloading_img").hide();
						}
					});
				 }
				 else
				 {
					 $(".content-wrapper").html('');
					 $('#otp_auth').val('');
					 myalert('Invalid OTP !');
					 $(".form_overlay,#formloading_img").hide();
				 }
				 //console.log(t);
			    },
			  error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			   }
	    	});
	}
	function prop_pwd_authentication()
	{
		$(".form_overlay,#formloading_img").show();
		var token = '';
		var pwd_authentication=$('#pwd_auth').val();
		if(pwd_authentication=='')
		{
			myalert('please enter the security password');
			$(".form_overlay,#formloading_img").hide();
			return false;
		}
		var pwd_auth=sha256_digest(pwd_authentication);
		//var auth_code='';
		
		/*if(pwd_auth.trim()=='6b72586fb2d91915c875d28c84e6ec5b790d312d39479ad6ff06699415583e41')
		{
			 $('#pwd_authentication').modal('hide');
			 $('.land_authentication').show();
		}
		else
		{
			 $('.land_authentication').hide();
			 $('#pwd_auth').val('');
			 myalert('login failed !');
			 $(".form_overlay,#formloading_img").hide();
		}*/
		$("#error").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
		  $.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				   pwd_auth:pwd_auth,
				   pg:'prop_pwd_authentication',
				   tokenp:token,
			      },
			dataType: "JSON",
			success:function(result){
				$("#error").html('');
				if(result.trim()=='success')
				{
					$('#pwd_authentication').modal('hide');
					$('.land_authentication').show();
				 }
				 else
				 {
					 $('.land_authentication').hide();
					 $('#pwd_auth').val('');
					 myalert('login failed !');
					 $(".form_overlay,#formloading_img").hide();
				 }
			    },
			  error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			   }
	    	});
	}

	function otp_auth_publish_propregister(user_id){
		
		
		var pwdauth_flag=(getParameterByName('auth_flag',localStorage.getItem("page_name"))==='undefined')?'':getParameterByName('auth_flag',localStorage.getItem("page_name"));
		  var  otp_files =[{"loginid":user_id,"userserialno":user_id,"loginaction":"otppin","actionmode":"new","templeid":''}];
		if(user_id!=''){
			$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			 $.ajax({
				type:'POST',
				url: '../temples/ajax/ajax_page.php',
				data: {
					  action:'otp_authentication',
					  pwdauth_flag:pwdauth_flag,
					  tokenp:'',
					  form_data:JSON.stringify(otp_files)
					  },
				cache: false,
				dataType:'JSON',
				success: function(result){
					var param = String(result).split('~');
					if(param[0]=='success'){
						if(param[1]=='msg_otpsent'){
							$('.generate_otp').hide();
							$('.enter_otp,.otp_btn').show();
							$('#otp_auth').val('');
							$('.msg').text(email_hashing(param[2]));
							$("#errmsg").html('');
						}else if(param[1]=='msg_otpfailed'){
							myalert('msg_otpfailed');
							$("#errmsg").html(result);
						}
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert('error');
				}
			});
		}
	}
	
	function institution_category(code,sec_code,multiple_option='N'){
	   if(code==''){
		   return false;
	   }
	   $.ajax({
			type:'POST',
			url: '../temples/ajax/app_master.php',
			data: {
				  pg:'institution_category',
				  tokenp:'',
				  code:code,
				  sec_code:sec_code,
				  multiple_option:multiple_option,
				  },
			cache: false,
			success: function(result){

				if(multiple_option=='Y')
				{
					var appendtext='<select data-id="dropdown" name="section_code" id="section_code" class=" form-control data_json lbl_templesection section_code" multiple>'+result+'</select>';
					$('#sectioncode').html(appendtext);
					$('#section_code').multiselect({
					      nonSelectedText: 'Select Section Code ',
					      allSelectedText: 'All',
					      buttonWidth: '100%',
					       includeSelectAllOption: true
					});
				}
				else
				$('#section_code,#religious_subcategory').html(result);
				
			},
			error:function (xhr, ajaxOptions, thrownError){
				alert('error');
			}
		});
   }
   function commissioners_rpt(id,institute_category,case_type=''){
	   $.ajax({
			type:'POST',
			url: '../temples/ajax/app_master.php',
			data: {
				  pg:'commissioners_rpt',
				  tokenp:'',
				  institute_category:institute_category,
				  case_type:case_type
				  },
			cache: false,
			success: function(result){
				$('#'+id).html(result);
			},
			error:function (xhr, ajaxOptions, thrownError){
				alert('error');
			}
		});
   }
   function leavemaster_event(desc)
   {
	   var active_type=capitalize($('input[name=active_type]:checked').val());
	   var modaltitle_desc;
	   $('.modal-dialog').css('width','900px');
	   $.ajax({
			type:'POST',
			url: '../temples/ajax/templeinfo_view_new.php',
			data: {
				  pg:'leavemasterevent_form',
				  tokenp:'',
				  user_details:desc,
				  active_type:$('input[name=active_type]:checked').val(),
				  },
			cache: false,
			success: function(result){		
				$('#edit_img_submit').hide();
				if($('input[name=active_type]:checked').val()=='active')
					modaltitle_desc='Deactivate';
				else
					modaltitle_desc='Activate';
				$('#modelview_header').text('User '+modaltitle_desc);
				$('#dynamic-content').html(result);
				$(document).ready(function(){
					var date_input=$("input[class ^= 'form-control date']"); //our date input has the name "date"
					var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
					var today = new Date();
					date_input.datepicker({
						startDate: 0,
					endDate: today,//lastDate
					format: 'dd/mm/yyyy',
					container: container,
					todayHighlight: true,
					autoclose: true,
					orientation: 'auto top'
					});
				});
			},
			error:function (xhr, ajaxOptions, thrownError){
				alert('error');
			}
		});
   }
   function transfermaster_event(desc)
   {
	   var level_code='';
	  
		if(level_code==1)
		{
		 var transfertype=$('#transfer_type1').val();
	     var transfer_type=capitalize(transfertype);
	    }else{
		 var transfertype=$('input[name=transfer_type]:checked').val();
		 var transfer_type=capitalize(transfertype);
	    }
	   $('.modal-dialog').css('width','900px');
	   if(transfertype!=''){
		   $.ajax({
				type:'POST',
				url: '../temples/ajax/templeinfo_view_new.php',
				data: {
					  pg:'transfermasterevent_form',
					  tokenp:'',
					  user_details:desc,
					  transfer_type:transfertype,
					  },
				cache: false,
				success: function(result){
					$('#edit_img_submit').hide();
					$('#modelview_header').text('Employee Transfer '+transfer_type);
					$('#dynamic-content').html(result);
					$(document).ready(function(){
						var date_input=$("input[class ^= 'form-control date']"); //our date input has the name "date"
						var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
						var today = new Date();
						date_input.datepicker({
							startDate: 0,
						endDate: today,//lastDate
						format: 'dd/mm/yyyy',
						container: container,
						todayHighlight: true,
						autoclose: true,
						orientation: 'auto top'
						});
					});
				},
				error:function (xhr, ajaxOptions, thrownError){
					alert('error');
				}
			});
	   }
   }
   function leavemaster_action(action_code)
   {
	   $('#from_date,#to_date,#remarks').val('');
	   if(action_code=='R')
	   {
		  $('#to_date').removeClass('required').attr('disabled','disabled');
	   }
	   else
   	   {
		   $('#to_date').addClass('required').removeAttr('disabled');
	   }
	   
   }
   function leavemaster_users(active_status,level_code,desig_code) //pooja festival dates event
 	{
		if(level_code=='' || desig_code=='')
		{
			alert('please select the level');
			return false;
		}
		 var level_code='';
		if(level_code==1){
			active_status='out';
		 }
		$('.custom-combobox-input').val('');
	    var tid='';
		var token = '';
		var role_code = '';
		form_data = new FormData();
		form_data.append('pg','leavemaster_users');
		form_data.append('tokenp',token.trim());
		form_data.append('level_code',level_code.trim());
		form_data.append('desig_code',desig_code.trim());
		form_data.append('role_code',role_code.trim());
		form_data.append('active_status',active_status.trim());
			$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			cache: false,
			contentType: false,
			processData: false,
			data:form_data,
		//	dataType:'JSON',
			success:function(result)
			{ 
				$('#userid').html(result);
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		}); 
 	}

   function templesearch(office_code)
   {
	        // alert('ssss');
	       // return false;
		   $('#temple_name').html('<option></option>');
		   var district_code=$('#district_code').val()||0;
		   var taluk_code=$('#taluk_code').val()||0;
		   var village_code=$('#village_code').val()||0;
	       //$('#dataTableReset').click();
		   temple_datas='';
			var token = '';
			form_data = new FormData();
			form_data.append('pg' ,'gettemple');
			form_data.append('tokenp' ,token);
			form_data.append('office_code' ,office_code);
			form_data.append('district_code' ,district_code);
			form_data.append('taluk_code' ,taluk_code);
			form_data.append('village_code' ,village_code);
			$.ajax({
				type: "POST",
				url: "../hrcehome/ajax/homepage_view.php",
				cache: false,
				contentType: false,
				processData: false,
				data:form_data,
				success:function(result)
				{ 
				
				  //decleare as global variable
					temple_datas=result;
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});	
		$('body').on('keyup','.select2-input',function(){
			      //decleare as global variable
			        searchkey = $(this).val();
					get_temple(1);
					});	
	}
	
	 function gettempledata(office_code){
		 if(office_code!=''){
			 var token = '';
			$.ajax({
				type: "POST",
				url: "../hrcehome/ajax/homepage_view.php",
				data: {
					pg:'gettemple_list',
					office_code:office_code,
					tokenp:token,
					  },
				success:function(result){
					//alert(result);
					$("#temple_name").html(result);
					//$('#s2id_temple_name .select2-chosen').text($('#temple_name option:selected').text());						
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		 }
	 }	
				
	function templekey_location(id)
	{
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				//data:dataString,
				data: {
					pg:'templekey_location',
					val:id,
					tokenp:token
				},
				success:function(result){
					$("#location_code").html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
						
	}
	function kings_period(id)
	{
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'kings_period',
					val:id,
					tokenp:token
				},
				success:function(result){
					$("#kings_period").html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
						
	}
function materialtype(id)
   {	
	   var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				//data:dataString,
				data: {
					pg:'materialtype',
					val:id,
					tokenp:token
				},
				success:function(result){
					$("#material_type").html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
	}
	function scripttype(id)
   {	
	   var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				//data:dataString,
				data: {
					pg:'scripttype',
					val:id,
					tokenp:token
				},
				success:function(result){
					$("#script_type").html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
	}
	function sculpturetype(id)
   {	
	   var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				//data:dataString,
				data: {
					pg:'sculpturetype',
					val:id,
					tokenp:token
				},
				success:function(result){
					$("#sculpture_type").html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
	}
	function idol_found(id){
		var token = '';
			$.ajax({
				type: "POST",
				url: "../property/ajax/property_app_master.php",
				data: {
					pg:'slt_idol_found',
					tid:id,
					tokenp:token,
					  },
				success:function(result){
					$("#idol_found").html(result);						
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		
	}
	
	function kings_period(id){
		var token = '';
			$.ajax({
				type: "POST",
				url: "../property/ajax/property_app_master.php",
				data: {
					pg:'slt_kings_period',
					tid:id,
					tokenp:token,
					  },
				success:function(result){
					$("#kings_period,#kings").html(result);						
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		
	}
	function typeof_worship(id){
		var token = '';
			$.ajax({
				type: "POST",
				url: "../property/ajax/property_app_master.php",
				data: {
					pg:'slt_typeof_worship',
					tid:id,
					tokenp:token,
					  },
				success:function(result){
					$("#typeof_worship").html(result);						
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		
	}
	
	function user_level(level_val,current_code_desig,current_code_office,firstoption) {
				$("#slt_office").html('');
				$("#usr_designation").html('');
				$("#user_type").html('');
				$("#user_type").attr('disabled', true);
				$("#usr_designation").attr('disabled', true);
				var token = '';
				if(level_val == '4') { 
					$(".temple_select").css('display','block'); 
					$('#temple').addClass('required');
					$('#slt_office').removeClass('required');
					$(".office_select").css('display','none'); 
				} else { 
					$(".office_select").css('display','block'); 
					$('#temple').removeClass('required');
					$('#slt_office').addClass('required');
					$(".temple_select").css('display','none');
				}
				if(level_val != '')
				{
					if(level_val == '4')
					{
					    $("#slt_office").attr('disabled', true);
						$.ajax({
							type: "POST",
							url: "../temples/ajax/app_master.php",
							data: {
								l_code: level_val,
								c_code: current_code_desig,
								pg:'level_officers',
								tokenp:token
							},
							success:function(level_office){
								$("#slt_office").attr('disabled', false);
								$("#slt_office").html(level_office);
							},
							error:function (xhr, ajaxOptions, thrownError){
								myalert(thrownError);
							}
						});
					}
					$.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							l_code: level_val,
							c_code: current_code_office,
							pg:'level_designations',
							tokenp:token
						},
						success:function(level_office){
							//myalert(level_office);
							$("#usr_designation").attr('disabled', false);
							$("#usr_designation").html(level_office);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});

					$.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							l_code: level_val,
							c_code: current_code_office,
							pg:'level_usertype',
							tokenp:token
						},
						success:function(level_office){
							//myalert(level_office);
							$("#user_type").attr('disabled', false);							
							$("#user_type").html(level_office);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
					
					
				}
				
				else
				{
					$("#usr_designation").html('<option>Select Employee Name</option>');
				}
			}
		function role_level(role_val,level_val) {
			$("#slt_office").html('');				
			$("#slt_office").attr('disabled', true);
			var token = '';
			if(level_val!='')
			{
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						l_code: level_val,
						r_code: role_val,
						pg:'level_officers',
						tokenp:token
					},
					success:function(level_office){
						$("#slt_office").attr('disabled', false);
						if($.trim(level_office) != '') {
							$("#slt_office").html(level_office);
							var officeval = $("#user_type").attr('data-officeval');
							officeval =  (typeof officeval !== 'undefined' && officeval !='') ? officeval : '';
							$("#slt_office").val(officeval);
						}
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
			});
			}
				
		}
			function user_name(level_val,d_code,current_code_desig,current_code_office,firstoption) {
				$("#slt_office").val('');
				var token = '';
				var templeid=$('#templeid').val();
				if(level_val!='')
				{
					
					
					$.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							l_code: level_val,
							c_code: current_code_office,
							desig_code : d_code,
							temple_id:templeid,
							pg:'level_designation_users',
							tokenp:token
						},
						success:function(level_office){
							//myalert(level_office);
								$("#userid").html(level_office);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
				
				else
				{
					$("#usr_designation").html('<option>Select Designation </option>');
				}
			}
		 
	//----------------Basic Details Update Scripts----------------//
     function basicdetails_update(temple_id)
	 {
		 	$('#temple_id').val(temple_id);
			var token = '';
			var level_code='0';
			var office_code='0';
			if(temple_id!='')
			 {
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						temple_id: temple_id,
						pg:'basicdetails_update',
						tokenp:token
					},
					success:function(result){
						data=$.parseJSON(result);
						$('#s2id_temple_name .select2-chosen').text(data[0]['institution_name'].trim());
						
						office_code=data[0]['admin_jurisdiction'].trim();
						level_code=data[0]['juris_levelcode'].trim(); 
						officewise_getdistrict(level_code,office_code,data[0]['district_code'].trim());
						officewise_gettaluk(level_code,office_code,data[0]['district_code'].trim(),data[0]['taluk_code'].trim());
						officewise_getvillage(data[0]['district_code'].trim(),data[0]['taluk_code'].trim(),data[0]['village_code'].trim(),level_code);
						heritage_select(data[0]['heritage']);
						institution_category(data[0]['religious_category'],data[0]['religious_subcategory']);
						maintemplechange_event(data[0]['institution_type'].trim());
						juris_inspector(level_code,office_code,data[0]['inspector_juris']);
						if(data[0]['institution_type'].trim()=='2' && data[0]['subtemplecontrol'].trim()!='')
						{
							$('input[name="radio_subtemplecontrol"][value="' +data[0]['subtemplecontrol'] + '"]').prop('checked', true); 
							basicdetails_institutiontype(data[0]['institution_type'].trim(),data[0]['subtemplecontrol'].trim(),33,data[0]['district_code'].trim(),data[0]['taluk_code'].trim(),data[0]['village_code'].trim(),data[0]['maintemple_id'].trim(),data[0]['admin_jurisdiction'].trim());
							basicdetails_grouptemplelist(data[0]['institution_type'].trim(),data[0]['subtemplecontrol'].trim(),33,data[0]['district_code'].trim(),data[0]['taluk_code'].trim(),data[0]['village_code'].trim(),data[0]['maintemple_id'].trim(),data[0]['grouptemple_id'].trim(),data[0]['admin_jurisdiction'].trim());
						}
						if(data[0]['institution_type'].trim()=='3')
						{
							basicdetails_institutiontype(data[0]['institution_type'].trim(),'','33',data[0]['district_code'].trim(),data[0]['taluk_code'].trim(),data[0]['village_code'].trim(),data[0]['maintemple_id'].trim(),data[0]['admin_jurisdiction'].trim());
						}
						gt_ManagementSubtype(data[0]['management_type'].trim(),data[0]['management_subtype'].trim());
						var fields=['temple_slno','temple_ecode','institution_name','tinstitution_name','religious_category','classification','management_type','administrated_by','templeblock_name','street_name','arealocation','tarealocation','tstreet_name','tarealocation','villagetowncity_type','villagetowncity_name','tvillagetowncity_name','pincode','admin_jurisdiction','district_code','institution_type','institution_type_log','maintemple_id_log','maintemple_id','maintemple_remarks','grouptemple_id','general_remarks','century','email','ttempleblock_name','landlinecode','landlineno'];			
						for (i = 0; i <fields.length; i++) 
						{
							//alert(fields[i]);
							$("#"+fields[i]).val(data[0][fields[i]].trim());
						}
						if(data[0]['temple_ecode'].trim()!='')
						{
							$('#temple_ecode').prop('disabled',true).css('background-color','#EEE');
						}
						else
						{
							$('#temple_ecode').removeAttr('disabled').css('background-color','#FFF');;
						}
						level_code='0';
						if(level_code!=1 )
						{
							$('.bs-example').css({'pointer-events':'none'});
							$('#s2id_temple_name').css({'cursor':'not-allowed'});
							var fields=['temple_id','religious_category','religious_subcategory','administrated_by','arealocation','villagetowncity_name','admin_jurisdiction','institution_type','grouptemple_id','maintemple_id'];
							for (i = 0; i <fields.length; i++) 
							{
								//alert(fields[i]);
								$("#"+fields[i]).prop('disabled',true);
							}
							$('#group_temple_id').select2('disable');
							$('#main_temple_id').select2('disable');
						}
						
						$('input[name="heritage"][value="' +data[0]['heritage'] + '"]').prop('checked', true); 
						$('input[name="onetime_pooja"][value="' +data[0]['onetime_pooja'] + '"]').prop('checked', true);
						
					},
					error:function (xhr, ajaxOptions, thrownError){
						alert(thrownError);
					}
				});
			}
			else
			{
				alert('please select temple name');
			}				
	 }
	 function juris_inspector(level_code,office_code,current_code,id='',allac_flag=''){
		 var token = '';
		$.ajax({
		type: "POST",
		url: "../temples/ajax/app_master.php",
		data: {
			pg:'juris_inspector',
			tokenp:token,
			level_code:level_code,
			office_code:office_code,
			current_code:current_code,
			allac_flag:allac_flag,
			  },
		success:function(result){
			if(id!='')
			$("#"+id).html(result);
			else
			$("#inspector_juris").html(result);						
		},
		error:function (xhr, ajaxOptions, thrownError){
			myalert(thrownError);
		}
		});//ajax end
	 }
	 function officewise_getdistrict(level_code,temple_id,select_val,id='')
	 {
		    juris_inspector(level_code,temple_id);
			var token = '';
			$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				pg:'officewise_getdistrict',
				tokenp:token,
				temple_id:temple_id,
				level_code:level_code,
				select_val:select_val,
				  },
			success:function(result){
				if(id!='')
				$("#"+id).html(result);
				else
				$("#district_code").html(result);						
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
			});//ajax end
	 }
	 function officewise_gettaluk(level_code,temple_id,district_code,taluk_code)
	 {
		 
		 if(temple_id=='')
		 {
			myalert('please select administrative jurisdiction');
			$("#district_code").val('');			
		 }
		 else
		 {
			$('input[name="radio_subtemplecontrol"]').prop('checked', false);
			if(level_code ==1 || level_code ==4){ 
				alert("test");
				$('#institution_type,#main_temple_id,#maintemple_id,#group_temple_id,#grouptemple_id').val('');
			}
			var token = '';
			$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				pg:'officewise_gettaluk',
				tokenp:token,
				district_code:district_code,
				taluk_code:taluk_code,
				temple_id:temple_id,
				level_code:level_code
				  },
			success:function(result){
				$("#taluk_code").html(result);						
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
			});//ajax end
		 }
	 }
	 function officewise_getvillage(district_code,taluk_code,village_code,level_code)
	 {
		$('input[name="radio_subtemplecontrol"]').prop('checked', false); 
		if(level_code ==1 || level_code ==4){ 
			$('#institution_type,#main_temple_id,#maintemple_id,#group_temple_id,#grouptemple_id').val('');			
		}
		var token = '';
		$.ajax({
		type: "POST",
		url: "../temples/ajax/app_master.php",
		data: {
			pg:'officewise_getvillage',
			tokenp:token,
			district_code:district_code,
			taluk_code:taluk_code,
			village_code:village_code
			 },
		success:function(result){
			$("#village_code").html(result);						
		},
		error:function (xhr, ajaxOptions, thrownError){
			myalert(thrownError);
		}
		});//ajax end
	 }
	 
	 function basicdetails_institutiontype(subcatid,control_id,state_code,district_code,taluk_code,village_code,select_val,office_code) 
		{
			if(subcatid=='3' || control_id!='')
			{
			//$('.select2-chosen,#main_temple_id').html('');
				var token = '';
				$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					//data:dataString,
					data: {
						dcode: district_code,
						tcode: taluk_code,
						vcode: village_code,
						scode:'33',
						pg:'basicdetails_maintemplelist',
						select_val:select_val,
						subcatcode:subcatid,
						control_id:control_id,
						tokenp:token,
						office_code:office_code
					},
					success:function(result){
						//alert(result);
						$("#errmsg").html('');
						$("#main_temple_id").html(result);
						 if(select_val!=''){
								 var main_name = $('#main_temple_id option[value='+select_val+']').text();
							    $('#s2id_main_temple_id .select2-chosen').text(main_name);
								 }else{
									$('.maintemple_id #dataTableReset').click();
								 }
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
			}
			
		}
		function basicdetails_grouptemplelist(subcatid,control_id,state_code,district_code,taluk_code,village_code,main_temple_id,select_val,office_code)
		{
				$('#maintemple_id').val(main_temple_id);
				// if(main_temple_id!='' && subcatid=='2' && control_id=='G' )
				if(subcatid=='2' && control_id=='G' )
				{
					var token = '';
					$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
					$.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						//data:dataString,
						data: {
							scode:'33',
							dcode: district_code,
							tcode: taluk_code,
							vcode: village_code,
							subcatcode:subcatid,
							control_id:control_id,
							main_temple_id:main_temple_id,
							select_val:select_val,
							pg:'basicdetails_grouptemplelist',
							tokenp:token,
							office_code:office_code
						},
						success:function(result){
							//alert(result);
							//return false;
							$("#errmsg").html('');
							$("#group_temple_id").html(result);
							if(select_val!='' && result!=''){
								 var group_name = $('#group_temple_id option[value='+select_val+']').text();
								 $('#s2id_group_temple_id .select2-chosen').text(group_name);
								}else if(select_val=='' && result!=''){
									$('.grouptemple_id #dataTableReset').click();
								}
								else{
									$('#s2id_group_temple_id .select2-chosen').text('No Grouptemple Available');
								}
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
	 //---------------- END Basic Details Update Scripts----------------//
	 
	 function slt_templename(templeid,type=''){
		 if(templeid!=''){
			 if(type=='exist')
			 {
			 	$('#temple_name_exist').html('');
			 }
			 else if(type=='transfer')
			 {
			 	$('#temple_name_to').html('');
			 	$('#s2id_temple_name_to .select2-chosen').text('Temple Name');
			 	if(templeid==$('#temple_id').val())
			 	{
			 		myalert('Invalid Temple ID!!');
			 		$('#temple_id_to').val('');
			 		return false;
			 	}				

			 }
			 else if(type=='idoltransfer' || type=='devicetransfer' || type=='sub_temple')
			 {
			 	$('#temple_name_to').html('');
			 }
			 else
			 {
				 $('#temple_name').html('');
			 }
			 var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'slt_templename',
					tid:templeid,
					flag:type,
					tokenp:token,
					  },
				success:function(result){

					if(result=='')
					{
						myalert('Invalid Temple ID !');
						//$('#s2id_temple_name_to .select2-chosen').text('Temple Name');

					}
					else if(result!='"Token Mismatch"')
					{
						if(type=='exist')
			 			{
							$("#temple_name_exist").html(result);
							$('#s2id_temple_name_exist .select2-chosen').text($('#temple_name_exist option:selected').text());
						}
						else if(type=='transfer' || type=='idoltransfer' || type=='devicetransfer' || type=='sub_temple')
			 			{
							$("#temple_name_to").html(result);
							$('#s2id_temple_name_to .select2-chosen').text($('#temple_name_to option:selected').text());
						}
						else
						{
							$("#temple_name").html(result);
							//$("#temple_id").val($('#temple_name').val());
						   $('#s2id_temple_name .select2-chosen').text($('#temple_name option:selected').text());
						}
					}else
					{
						myalert('Do not open the website in multiple tabs');
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		 }
	 }
		 
	function slt_common_controllertype_enable(templeid,column_name,entry_type){
		 if(templeid!='' && column_name!=''){			 
			 var token = '';
			 
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'common_controllertype_enable',
					temple_id:templeid,
					column_name:column_name,					
					tokenp:token,
				},
				success:function(result){	
					$('#current_status').val(result.trim());
					enableStatus(result.trim());
					if(entry_type=='FY')
					{
						applog_master_ajax('','lbl_finyear~wms_financial_years','entry_value',result,'Y');
						if(result>0)
						{
							$('.remarks_enable').hide();  
    						$('#remarks,#tremarks').removeClass('required');
						}
					}
					else			
					$('.enable_status[value='+result.trim()+']').prop('checked',true);	
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		 }
	}

	function check_purpose_used_for_bank(templeid,purpose_id,enable_status){
		 if(templeid!='' && purpose_id!=''){			 
			 var token = '';			 
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'check_purpose_used_for_bank',
					temple_id:templeid,
					purpose_id:purpose_id,					
					tokenp:token,
				},
				success:function(result){
					var current_status = $('#current_status').val();
					if(Number(result) > 0 && enable_status == 'Y' && current_status == 'Y'){
						$('#enable_status_no').prop('disabled',true);
					} else {
						$('#enable_status_no').prop('disabled',false);
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		 }
	}

  	function acwisetemple_inspector(office_code,user_id){
		 if(office_code!=''){
			 var token = '';
			  $("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'acwisetemple_inspector',
					office_code:office_code,
					user_id:user_id,
					tokenp:token,
					  },
					success:function(result){
				 	$("#errmsg").html('');
					$("#temple_name").html(result);
				   	$('#s2id_temple_name .select2-chosen').text($('#temple_name option:selected').text());
					$('#templeuser_templeassign_buttons,.templeinformation').show();
					$('#oactivities_mapping,#activities_mapping').show();
					$('#temple_id').val('');
					$('.templeform_grid_view').click();
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		 }
	 }
	 function inspectoruser(office_code){
		 if(office_code!=''){
			 var token = '';
			 $("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'inspector_user',
					office_code:office_code,
					tokenp:token,
					  },
					success:function(result){
				 $("#errmsg").html('');
					$("#userid").html(result);
					if(result!='')
						acwisetemple_inspector($('#inspector_code').val(),$('#userid').val());
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		 }
	 }
	 function find_templename(templeid,type=''){
		 if(templeid!=''){
			 if(type=='exist')
			 {
			 	$('#temple_name_exist').html('');
			 }
			 else
			 {
				 $('#temple_name').html('');
			 }
			 var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'find_templename',
					tid:templeid,
					flag:type,
					tokenp:token,
					  },
				success:function(result)
				{
					if(result=='')
					{
						myalert('Invalid Temple ID !');
						$('#s2id_temple_name_to .select2-chosen').text('Temple Name');
						$('#temple_id').val('');

					}
					else if(result!='"Token Mismatch"')
					{
						if(type=='exist')
			 			{
							$("#temple_name_exist").html(result);
							$('#s2id_temple_name_exist .select2-chosen').text($('#temple_name_exist option:selected').text());
						}
						else
						{
							$("#temple_name").html(result);
						   $('#s2id_temple_name .select2-chosen').text($('#temple_name option:selected').text());
						}
					}else
					{
						myalert('Do not open the website in multiple tabs');
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		 }
	 }

	 function slt_acfeetypewisetemplename(id,current_id,acid='office_code')
	 {
			if(id!=''){
				 var token = '';
				 $.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							tokenp:token,
							ac_id:id,
							current_id:current_id,
							pg:'acfeetypewisetemplename'
						},
						success:function(result){
							$('#temple_name').html(result);
							if(current_id!='' && ($('#'+acid).val())>0 ){
								// autosearch_valueassign('temple_name',current_id);
								// $('#temple_id').val(current_id);
							}
						},
						error:function (xhr, ajaxOptions, thrownError){
							 
							myalert(thrownError);
						}
				});
			}
	}
	function sltinspector_acwise(id,current_id)
	{
		if(id!=''){
			 var token = '';
			 $.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						tokenp:token,
						ac_id:id,
						current_id:current_id,
						pg:'inspectoracwise'
					},
					success:function(result){
						$('#inspector_code').html(result);
						if(current_id!=''){
						$('#inspector_code').val(current_id);
						}
					},
					error:function (xhr, ajaxOptions, thrownError){
						 
						myalert(thrownError);
					}
			});
		}
	}
	
	function acwise_templeinspector(office_code)
	{
		    var token = '';
			$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			$.ajax({
				type: "POST",
				url: "../temples/ajax/templeinfo_view_new.php",
				//data:dataString,
				data: {
					pg:'acwisetempleinspector',
					office_code:office_code,
					tokenp:token
				},
				success:function(result){
					$("#errmsg").html('');
					$("#templeuser_templeassign").html(result);
					$('#templeuser_templeassign_buttons').show();
					$('#oactivities_mapping,#activities_mapping').show();
					
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
	}
	function slt_acfeetypewisetempledevice(id,current_id)
	 {
			if(id!=''){
				 var token = '';
				 $.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							tokenp:token,
							ac_id:id,
							current_id:current_id,
							pg:'acfeetypewisetempledevice'
						},
						success:function(result){
							$('#temple_name').html(result);
							if(current_id!=''){
							autosearch_valueassign('temple_name',current_id);
							$('#temple_id').val(current_id);
							}
						},
						error:function (xhr, ajaxOptions, thrownError){
							 
							myalert(thrownError);
						}
				});
			}
	}
	 function slt_temple_accountdet(templeid){
		 if(templeid!=''){
			 var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'slt_temple_accountdet',
					tid:templeid,
					tokenp:token,
					  },
				success:function(result){
					$("#temple_name").html(result);
					$('#s2id_temple_name .select2-chosen').text($('#temple_name option:selected').text());						
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		 }
	 }
	 function poetsaint(poet_code,current_code)
	 {
		 if(poet_code!='')
		 {
		 	var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'slt_poetsaint',
					tokenp:token,
					poet_code:poet_code,
					current_code:current_code
					  },
				success:function(result){
					$("#poetsaint_code").html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
			if(poet_code==8)
			{
				$('.mangalasanamothers').show('');
				$('.poetsaint').hide('');
				$('#other_saint,#other_saint').addClass('required');
			}
			else
			{
				$('.mangalasanamothers').hide('');
				$('.poetsaint').show('');
				$('#other_saint,#tother_saint').removeClass('required');
			}
		 }
	 }
	 function other_poetname(id)
	 {
		if(id==70)
		{
			$('.poet_name').show('');
			$('.poet_name').find('input').addClass('required');
		}
		else
		{
			$('.poet_name').hide('');
			$('.poet_name').find('input').removeClass('required');
		}
		
	}
	 function slt_log_count(temple_id){
		 $('#slt_log_count,#slt_flow_count,.grid_view').html('');	
		  var token = '';
		  $("#slt_log_count").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			$.ajax({
				type: "POST",
				url: "../temples/ajax/templeinfo_view_new.php",
				data: {
					pg:'slt_log_count',
					tid:temple_id,
					tokenp:token,
					  },
				success:function(result){
					$("#slt_log_count").html('');
					$('#slt_log_count').html(result);					
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
	 }
	 function slt_flow_count(temple_id,table_name,service_cat){
		  $('#slt_flow_count,#slt_flow_data,.grid_view').html('');	
		  $('#service_cat').val(decodeURI(service_cat));
		  var token = '';
		  $("#slt_flow_count").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			$.ajax({
				type: "POST",
				url: "../temples/ajax/templeinfo_view_new.php",
				data: {
					pg:'slt_flow_count',
					tid:temple_id,
					tablename:table_name,
					service_cat:service_cat,
					tokenp:token,
					  },
				success:function(result){
					$('#slt_flow_count').html(result);					
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
	 }
	 function slt_flow_data(temple_id,table_name,sid){
		  $('#slt_flow_data,.grid_view').html('');	
		  $('#templeid').val(temple_id);$('#table_name').val(table_name); $('#sid').val(sid);
		  var token = '';
		  $("#temple_reports_view").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
		  var pg = 'temple_log_activities';
			form_data =required_validatereportform_json(pg);
			form_data.append('pg',pg);
			$.ajax({
				type: "POST",
				url: "../temples/ajax/templeinfo_view_new.php",
				cache: false,
			    contentType: false,
			    processData: false,
				data: form_data,
				success:function(result){
					$("#temple_reports_view").html('');
					$('#temple_reports_view').html(result);					
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
	 }
	 
/********** log active class setting ****************/
  $('body').on('click','.active_bgcolor tr',function(){
	  //$("tr").removeClass("record_active");$(this).closest("tr").addClass("record_active")
	  $(this).closest("table").find("tr").removeClass("log_active");$(this).addClass("log_active")
	  
  });
   $('body').on('click','.active_bgcolor tr td',function(){
	  //$("tr").removeClass("record_active");$(this).closest("tr").addClass("record_active")
	  $(this).closest("table").find("td").removeClass("log_td_active");$(this).addClass("log_td_active");
	  
  });
/********** log active class setting end****************/

/************* temple pendency report *******************/
function temple_pendency(templeid){
		 if(templeid!=''){
			 var token = '';
			 $("#pendency_data").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			 $(window).scrollTop($('#pendency_data').offset().top+800);
			 $('.grid_view').html('');$('.pdf_btn').hide();
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'temple_pendency',
					temple_id:templeid,
					tokenp:token,
					  },
				success:function(result){
					$("#pendency_data").html('<div class="table-responsive well well-lg" style="width:100%; margin:auto" align="left"><div style="text-align:center;margin-bottom:15px"><span style="font-weight:700;">Entered Data Status</span></div>'+result+'</div>');
					
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		 }
	 }
	function temple_dataverified(templeid,option,level_code,param_val){
	if(option=='view')
	{		
		$('#temple_dataverified_'+templeid).prop('disabled',false);
		window.open('../hrcehome/index_temple.php?tid='+templeid,'_blank');
	}
	else
	{
		if (confirm( (option=='revoke')?'Have you Revoke the temple website?':'Have you verified the temple website?')) 
				{
					var flag = (option=='revoke')?'R':'V';
					 var token = '';
					 $(".errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
					 $.ajax({
						type: "POST",
						url: "../temples/ajax/ajax_page.php",
						data: {
							action:'temple_dataverified',
							temple_id:templeid,
							flag:flag,
							tokenp:token,
							  },
						success:function(result){
							var param=String(result).split('~');
							$(".errmsg").html('');
							if(param[0].trim()=='success')
							{
								// templewisedataentry($('#rpt_office_code').val());
								 myalert( (option=='revoke')?'Data Revoke Successfully':'Data Verified Successfully');
								 if(level_code==1)
									drilldownrpt('temples','templedataentry_report1','.dataentry_templelist',param_val);
								 //$('.dataentry_rpt').html('');
								 $('.temple_report_click').click();
							}
							else
								myalert(result);
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
					});
				}
		}
	 }

/******************* temple pendency report end ************************/
function username_check(user_name)
	{
	 //myalert(user_name);
	var token = '';
	$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data:{
				pg:'username_check',
				tokenp:token,
                user_name:user_name,				
				},
			success:function(result){
				var res=JSON.parse(result);
				if($.trim(res)=='1')
				{
				 myalert('User Id already Exists.');
				 $('#userid').val('');
				} 	 
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
	});
	}

	function view_upload_bank_details(temple_id){
		var token = '';
		if(temple_id!=''){
			$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data:{
						pg:'view_uploaded_bank_details',
						tokenp:token,
						temple_id:temple_id,		
						},
						success:function(result){
						if(result=='no_data')
						{
							$('#verify_bank_details_submit').hide();
							myalert('PDF Not Uploaded');
						}else{
							$('#verify_bank_details_submit').show();
							window.open('../'+result,'new');
						}
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
			});
		}else{
			myalert('Please select temple');
		}
	}
	function longlat_load(data)
	{
	var token = '';
	$.ajax({
			type: "POST",
			url: "ajax/getdata.php",
			data:{
			page:'location_longlat',
			tokenp:token,
			data:data,
			},
			success:function(result){
			//alert(result);
			$('#mapdata').html('');
			$('#mapdata').html(result);
			},
			error:function (xhr, ajaxOptions, thrownError){
			myalert(thrownError);
			}
		 });
	}
	function templeuser_templelist(userid)
	{
		    var token = '';
			$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			$.ajax({
				type: "POST",
				url: "../temples/ajax/templeinfo_view_new.php",
				//data:dataString,
				data: {
					pg:'templeuser_templeassign',
					userid:userid,
					tokenp:token
				},
				success:function(result){
					$("#errmsg").html('');
					$("#templeuser_templeassign").html(result);
					$('#templeuser_templeassign_buttons').show();
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
	}
	function ipwise_individual(service_code,service_subcode,ipaddress)
	    {
			//alert(service_code+'=='+service_subcode+'=='+ipaddress); return false;
		  var token = '';
		  $("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			$.ajax({
				type: "POST",
				url: "../temples/ajax/templeinfo_view_new.php",
				data: {
					pg:'slt_ipwise_individual',
					service_code:service_code,
					service_subcode:service_subcode,
					tokenp:token,
					ipaddress:ipaddress,
					  },
				success:function(result){
					
					$(".grid_view1,.grid_view2").html('');
					$("#errmsg").html('');
					//$('#slt_templelist').html('');
					$('.grid_view1').html(result);					
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
			$(window).scrollTop(600);
		}
		function ipwise_transaction(service_code,service_subcode,ipaddress)
	    {
			//alert(service_code+'=='+service_subcode+'=='+ipaddress); return false;
		  var token = '';
		  $("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			$.ajax({
				type: "POST",
				url: "../temples/ajax/templeinfo_view_new.php",
				data: {
					pg:'slt_ipwise_transaction',
					service_code:service_code,
					service_subcode:service_subcode,
					tokenp:token,
					ipaddress:ipaddress,
					  },
				success:function(result){
					
					$(".grid_view2").html('');
					$("#errmsg").html('');
					//$('#slt_templelist').html('');
					$('.grid_view2').html(result);					
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
			$(window).scrollTop(600);
		}
		function servicetype() {
				//alert('asas');
				$("#menu_screen").val('');
				var menutype='service';
				var service_code=$("#service_type").val().trim();
				var tid='';
				var token = '';
				if(tid=='')
				{
					myalert('invalid temple');
					return false;
				}
				else
				{
					$("form#demoform").css('display','none');
					$('#service_catdiv').css('display','none');
					$("#service_subcatdiv").css('display','none');
					if(service_code == "")
					{
						myalert("Please select anyone..");
						return false;
						
					}
					if(service_code == 'S')
					{
						   $("#service_catdiv").css('display','block');
							$("#menu_screen").css('display','none');
							var token = '';
							jQuery.ajax({
									type: "POST",
									url: "../temples/ajax/app_master.php",
									data: {
										servicetype:service_code,
										pg:'mapping_screen_service',
										tokenp:token
									},
									//dataType: "JSON",
									success:function(result){
											$("#category_service_code").html(result);
									},
									error:function (xhr, ajaxOptions, thrownError){
										myalert(thrownError);
									}
								});
						
					}else if(service_code == 'A')
					{
						   $("#service_subcatdiv").css('display','block');
							$("#menu_screen").css('display','none');
							var token = '';
							jQuery.ajax({
									type: "POST",
									url: "../temples/ajax/app_master.php",
									data: {
										servicetype:service_code,
										pg:'mapping_screen_service',
										tokenp:token
									},
									//dataType: "JSON",
									success:function(result){
											$("#scategory_service_code").html(result);
									},
									error:function (xhr, ajaxOptions, thrownError){
										myalert(thrownError);
									}
								});
						
					}else{
						
						
						var token = '';
							jQuery.ajax({
								type: "POST",
								url: "ajax/mapping_screen.php",
								data: {
									menutype:menutype,
									pg:'mapping_screen',
									tokenp:token,
									service_code:service_code
								},
								//dataType: "JSON",
								success:function(result){
									   $("form#demoform").css('display','block');
									   $("#menu_screen").css('display','block');
									   $("#menu_screen").html(result);
								},
								error:function (xhr, ajaxOptions, thrownError){
									myalert(thrownError);
								}
							});
					}
				}
			}
			function land_units(id,extent_value)
			{
				 $('#extent_values').html('');
				 var no_of_units = $('#extent_unitcode').find('option:selected').attr('id') || $('#extent_unitcode').find('option[value='+id+']').attr('id');
				
				 var unit_desc=$('#extent_unitcode').find('option:selected').text();
				 var unit_desc_param=String(unit_desc).split('-');
				 var select_id='extent_unitcode';
				 var test='<div class="row">';
				 for(i=0;i<no_of_units;i++)
				 {
					
				  var maxlen = (i == 0 || i == 2) ? 5 : (i == 1 ? 2 : '');
				  var isnumber = (i == 2) ? 'return isNumberdot(event)' :  'return isNumber(event)';
				  var extraClass = (i == 2) ? 'point_numeric sqmtpoint_numeric' : 'numeric';
				  var dataunit = (i == 2) ? ' 2~2' : '';
					 ext_val = (extent_value!='')?extent_value[i]['value'+(i+1)]: '';
					 
					  test+='<div class="col-lg-4" style="padding:0px"><label>'+unit_desc_param[i]+'</label><input onkeypress="'+isnumber+'" class="form-control required ' + extraClass + '" name='+select_id + (i + 1)+' id='+select_id + (i + 1)+' type=text value="'+ext_val+'" maxlength='+maxlen+' data-unit="'+dataunit+'" placeholder='+unit_desc_param[i]+'></div>';

			
				}
				 test+='</div>';
				 $('#extent_values').append(test);
			} 
		// function land_units(id,extent_value)
		// {
		// 	 $('#extent_values').html('');
		// 	 var no_of_units = $('#extent_unitcode').find('option:selected').attr('id') || $('#extent_unitcode').find('option[value='+id+']').attr('id');
		// 	 var unit_desc=$('#extent_unitcode').find('option:selected').text();
		// 	 //$('#lbl_extentvalues').html($('#lbl_extentvalues').text()+' ('+unit_desc+') <font color="#F00"> *</font>');
		// 	 var unit_desc_param=String(unit_desc).split('-');
		// 	 var select_id='extent_unitcode';
		// 	 var test='';
		// 	 for(i=0;i<no_of_units;i++)
		// 	 {
		// 		 ext_val = extent_value['value'+(i+1)] || '';
		// 		 if(i==0)
		// 		 {
		// 		 	test+='<div class="col-lg-4" style="padding:0px"><label>'+unit_desc_param[i]+'</label><input onkeypress="return isNumber(event)" class="form-control numeric required" name='+select_id+(i+1)+' id='+select_id+(i+1)+' type=text value="'+ext_val+'" placeholder='+unit_desc_param[i]+' maxlength="5"></div>';
		// 		 }else if(i==1)
		// 		 {
		// 			 test+='<div class="col-lg-4" style="padding:0px"><label>'+unit_desc_param[i]+'</label><input onkeypress="return isNumberdot(event)" class="form-control numeric required" name='+select_id+(i+1)+' id='+select_id+(i+1)+' type=text value="'+ext_val+'" data-currentval="" data-landtype="" onKeyUp=resettallystatus(this.value,$(this).data("currentval"),$(this).data("landtype")) placeholder='+unit_desc_param[i]+' maxlength="2"></div>';
		// 		 }
		// 		 else if(i==2)
		// 		 {
		// 			  test+='<div class="col-lg-4" style="padding:0px"><label>'+unit_desc_param[i]+'</label><input onkeypress="return isNumberdot(event)" data-unit="2~2" class="form-control point_numeric sqmtpoint_numeric  required" name='+select_id+(i+1)+' id='+select_id+(i+1)+' type=text value="'+ext_val+'" placeholder='+unit_desc_param[i]+' maxlength="5"></div>';
		// 		 }
		// 	 }
		// 	 $('#extent_values').append(test);
		// } 
			function king_name(id)
			{
				if(id==999)
				{
					$('.kings_period').show();
					$('#kings_name,#tkings_name').addClass('required');
				}else
				{
					$('.kings_period').hide();
					$('#kings_name,#tkings_name').removeClass('required');
				}
			}
			function alertmsg_enabled(value)
			{
				
				 if(value=='Y')
				 {
					 $('.noof_person,#alertmsgdetails').show('');
					 $('.photo_image,#alertmsgdetails').show('');
				 }
				 else
				 {
				 	 $('#alarm_alertmsgdetails tbody').html('');
					 $('.noof_person,#alertmsgdetails').hide('').val('');
					 $('#noof_person').val('');
					  $('#alarm_alertmsgdetails tbody').html('');
					 $('.photo_image,#alertmsgdetails').hide('').val('');
					 $('#photo_image').val('');
				 }
		   }
		   function templesearch_report()
			{
				$('#temple_searchdetails').hide('');
				$("#result .search_row").html('')||'';  
				post_param=[];
				post_paramlid=[];
				var label_text='';
				var get_postparams = $('form#temple_search').find('input[type=text],textarea,select').not("[disabled]");
			/* ======== get_postparams function ========= */
			var empty_field_check=0;//empty field check	
				get_postparams.each(function(){
					if($(this).attr("type")=='text' && $(this).val()!='' && $(this).attr("id")!='captchatxt')
					{
						
						if($(this).attr("name").includes('-'))
						{
							//alert(get_postparams);
							var text=String($(this).attr("name")).split('-');
							var ctext=text[1];
						}
						else
						{
							var text=$(this).attr("name");
							var ctext=text;
						}
						label_text+=capitalize(ctext.replace('_',' '))+' : '+$(this).val()+', ';
						//alert(label_text);
					}
					else if($(this).attr("type")=='dropdown' && $(this).val()!='')
					{
						//alert('zd');
						if($(this).attr("name").includes('-'))
						{
							var text=String($(this).attr("name")).split('-');
							var ctext=text[1];
						}
						else
						{
							var text=$(this).attr("name");
							var ctext=text;
						}
						label_text+=capitalize(ctext.replace('_',' '))+' : '+$("#"+$(this).attr('id')+" option:selected").text()+', ';
						//alert($("#"+$(this).attr('id')+" option:selected").text());
					}
					
					var param_id=$(this).attr("id");
					if(param_id)
					{
					//var param_dataid=$(this).data("id");
					var pval=$('#'+param_id).val();
					if(pval=='')
					datas='';
					else
					 datas=pval;
					
					//form_data.append(param_id ,datas);
					post_param.push($.trim(param_id+'~'+$(this).data("id")));
					}
					//empty field check	//
					
				    if($(this).attr("name")!=undefined){
					if($('#'+$(this).attr("name")).val()!='' && $('#'+$(this).attr("name")).val()!=null){
						 empty_field_check=1;
					}
				  }
				  //empty field check	end//
				});
				if(empty_field_check!=1){
					myalert('please select any one !');
					return false;
				}
				$('#txtcaption').text(label_text);
			    $('.grid_view,.grid_view1').html('');
			    //var pg = $(this).closest('form').attr('id');
				var pg='temple_search';
				form_data =required_validatereportform_json(pg);
				form_data.append('pg','templesearch_json');
				$("#load").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					cache: false,
					contentType: false,
					processData: false,
					async:false,
					data:form_data,
					success:function(result)
					{  
						$("#load").html('');
						$('#temple_searchdetails').show('');
						var param=String(result).split('~~');
						//alert(param[0].trim());
						if(param[0].trim()=='success')
						{
							page1=param[1];
							if('TN'=='EN')
							{
								head_field = ['temple_id','temple_name','district_name','contact_info'];//search field
								field_align = ['center','left','left','left']; //field align
							}
							else
							{
								head_field = ['temple_id','temple_name','district_name','contact_info']; //search field tamil
								field_align = ['center','left','left','left']; //field align
							}
								dropdown_search_field='district_name';
								nosearch_field=[];
								document_field=[];
								search_type='temple_list';
								firstPagination(1);
								$('.templesearch_pdf').show();
								$('.templesearch_excel').show();
						}
						else
						{
							myalert(param[1]);
							$("#result tbody").html('<tr><td colspan="7" align="center">No matching records found</td></tr>');
						}
							  
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});		
	       }


		function fromto_time(count,data,placeholder)
		{
			if(data!='')
			{
				$('.time_append').html('');
				var obj = JSON.parse(data); var data2=$.parseJSON(data);
				var ini_count = 0; 
			}
			else
			{
				var ini_count = count;
				count = count+1;
			}
				//count = Object.keys(obj[0]).length;
				//alert(obj.length);
				//count=data2.length;
			for (i = ini_count; i <count; i++)
			{
				if(data!='')
				{
					var from_dt=obj[i]['from_time'];
					var to_dt=obj[i]['to_time'];
				}
				else
				{
					 var from_dt='';
					 var to_dt='';	
				}

				$('.time_append').append('<div class="row appenddata"><div class="col-lg-6" id="ft'+i+'" style="padding: 0px;"><div class="input-group clockpicker" data-placement="left" data-align="top" data-autoclose="true"><input type="time"  class="form-control ft" name="closing_fromtime[]"  id="closing_fromtime'+(i+1)+'" placeholder="HH:MM" onkeypress="return isNumberColon(event)"  maxlength="5" value="'+from_dt+'" ><span class="input-group-addon" title="Time"> <span class="fa fa-clock-o"></span></span></div></div><div class="col-lg-6" style="padding-left: 30px;padding-right: 0px;" id="tt'+i+'" ><div class="input-group clockpicker"  data-placement="left" data-align="top" data-autoclose="true"><input type="time" class="form-control lbl_time " name="closing_totime[]" id="closing_totime'+(i+1)+'" placeholder="HH:MM" onkeypress="return isNumberColon(event)" maxlength="5" value="'+to_dt+'" onchange=time_check('+(i+1)+')><span class="input-group-addon" title="Time" style="min-width:32px"><span class="fa fa-clock-o"></span></span> </div></div></div>');
				jQuery('.clockpicker').clockpicker();
			}
			$('.btn_removetime').show();
			if(count==10)
			{
				$('.btn_addtime').hide();
			}
			else
			{
				$('.btn_addtime').show();
			}
		}
		/*else
		{
		var ini_count = count;
		count = count+1;
		if(count!='')
		{
		for (i = ini_count; i <count; i++)
		{
			$('.time_append').append('<div class="col-lg-5" id="ft'+i+'" style="padding: 0px;"><div class="input-group clockpicker"  data-placement="left" data-align="top" data-autoclose="true"><input type="time"  class="form-control ft" name="closing_fromtime[]" id="closing_fromtime'+(i+1)+'" placeholder="HH:MM" onkeypress="return isNumberColon(event)"  maxlength="5" ><span class="input-group-addon" title="Time"> <span class="fa fa-clock-o"></span></span></div></div><div class="col-lg-5" id="tt'+i+'" style="padding: 0px;"><div class="input-group clockpicker"  data-placement="left" data-align="top" data-autoclose="true"><input type="time" class="form-control lbl_time" name="closing_totime[]" id="closing_totime'+(i+1)+'" placeholder="HH:MM" onkeypress="return isNumberColon(event)" maxlength="5" ><span class="input-group-addon" title="Time"><span class="fa fa-clock-o"></span> </span></div></div>');
			jQuery('.clockpicker').clockpicker();
		}
		$('.btn_removetime').show();
		if(count==10)
		{
			$('.btn_addtime').hide();
		}
		else
		{
			$('.btn_addtime').show();
		}
	  }
	} 
} */
function pradhana_moolavar(type,current_code)
		{
			if(type!='')
			{
			 var token = '';
			  $("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
				$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data: {
						pg:'moolavar_type',
						moolavar_type:type,
						current_code:current_code,
						tokenp:token,
						  },
					success:function(result){
						
						$('#moolavar_type,#moolavar_type_code').html(result);
						
						 if(type==1)
						 {
						   $('#moolavar').show();
						   $('#ambal').hide();
						   $('#moolavar_ambalname,#moolavar_ambaltname,#ambal_idoltype,#ambal_origin,#ambal_popularname,#tambal_popularname,#ambalvimana_type,#ambalvimanatype_desc,#tambalvimanatype_desc').val('');
						 }
						 else if(type==2)
						 {
						   $('#moolavar').hide();
						   $('#ambal').show();
						   
						   $('#moolavar_type,#moolavar_subtype,#moolavar_name,#moolavar_tname,#idol_type,#origin,#popular_name,#tpopular_name,#vimana_type,#vimanatype_desc,#tvimanatype_desc').val('');
						 }
						 else if(type==3)
						 {
						 $('#moolavar,#ambal').show();
						 }	
										
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
		 	}
		}
		function aagamamavail(type)
		{
		 if(type=='Y')
		 {
		  $('.aagamam_type').show('');
		 }
		 else
		 {
		  $('.aagamam_type').hide('');
		  $('#aagamam_type,#aagamam').val('');
		 }
		}
		function templeorder_update(templeid)
		{
		  var token = '';
			$.ajax({
					type: "POST",
					url: "../temples/ajax/app_master.php",
					data:{
					pg:'templeorder_update',
					templeid:templeid,
					tokenp:token,
					},
					success:function(result)
					{
					  //alert(result);
					}
			      });
		}
		
		function convertland_units_new(unit_value1='',unit_value2='',unique_id='')
		{			
			if($('#extent_unitcode').val()!=1)
			{				
				unit_value1=(unit_value1=='')?$('#extent_unitcode1').val():unit_value1;
				unit_value2=(unit_value2=='')?$('#extent_unitcode2').val():unit_value2;
				$.ajax({
					type: "POST",
					url: "../property/ajax/property_app_master.php",
					data: {
						unit_type:$('#extent_unitcode').val(),
						pg:'propunit_conversion',
						tokenp: '',
						unit_value1:unit_value1,
						unit_value2:unit_value2
					},
					success:function(result){
					alert(result);
						var extent_param=String(result).split('~');
						$('.hectares'+unique_id).val(extent_param[0]);
						$('.ares'+unique_id).val(extent_param[1]);
						$('.sqmt'+unique_id).val(extent_param[2]);
						//unitcalc()			
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});		
			}	
		}
		function contenttype(data)
		{
			$('input[name=url_type]').prop('checked',false);
		    $('input[name=url_type]').removeClass('required');
		    $('.urltype').hide();
			if(data=='D')
			{
				
				$('#contenttype_url,.telecast').hide();
				$('#telecast_type').removeClass('required');
				$('#url').removeClass('required');
				$('#closing_fromtime,#closing_totime').removeClass('required');
				$('input[name=isit_liveurl][value=N]').prop('checked',true);
					// $("#telecast_type option:selected").prop("selected", false);
				if($('#actionmode').val()=='new')
      			{	
					$('#document').show();
					$("#telecast_type").prop("selectedIndex", 0);
					$('#contenttype_url,.functiondatetime').hide();
					$('#document_image').addClass('required');
					$('#url,#function_date,#from_time,#to_time').removeClass('required');
					$('#url,#function_date,#from_time,#to_time').val('');
					$('input[name=content_type][value=D]').prop('checked',true);
				 	$('input[name=isit_liveurl][value=N]').prop('checked',true);
				}
				else
				{
			        $('#contenttype_url,#document').hide('');
			        $('#document_image,#url,#function_date,#from_time,#to_time').removeClass('required');
				}
			}
			else if(data=='U')
			{

				$('#contenttype_url,.telecast').show();
				$('#document').hide();
				$('#url,#function_date,#from_time,#to_time').addClass('required');
				$('input[name=isit_liveurl][value=N]').prop('checked',true);
				$('#document_image').removeClass('required');
				$('#telecast_type').addClass('required');
				$('#closing_fromtime,#closing_totime').addClass('required');
				$('.urltype').show()
     			$('input[name=url_type]').addClass('required');
			}
			else if(data=='M')
			{
				$('#url').removeClass('required');
				$('#telecast_type').removeClass('required');
				$('#closing_fromtime,#closing_totime').removeClass('required');
				$('input[name=isit_liveurl][value=N]').prop('checked',true);
				$('#contenttype_url,#document,.telecast').hide();
				$('#document_image,#url,#function_date,#from_time,#to_time').removeClass('required');
				$('#document_image,#url,#function_date,#from_time,#to_time').val('');
				
			}
		}
	function public_master_ajax(data, label, append_id, current_val='',multiselect='N',firstoption='Y',pos_flag='N',delete_flag='Y',empty_option='N',all='N')
	{
		var labledata = String(label).split('~');
		var token = '';
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				tokenp:token,
				data:data,
				label:label,
				current_val:current_val,
				multiselect:multiselect,
				firstoption:firstoption,
				pos_flag:pos_flag,
				delete_flag:delete_flag,
				empty_option:empty_option,
				all:all,
				pg:'public_master_ajax'
			},
			success:function(result)
			{
				//alert(result);
				if(multiselect=='N')
				$('#'+append_id).html(result);
				else
				{
					var appendtext='<select name="'+append_id+'" data-id="dropdown" id="'+append_id+'" class="form-control '+labledata[0]+' required" multiple>'+result+'</select>';
					$('.'+append_id).html(appendtext);
					$('#'+append_id).multiselect({
						nonSelectedText: 'Select'
					});
				}
				if(multiselect=='Y')
				{
					if (current_val!='')	
					{								
						var data1=current_val;		
						var count=1;
					 	$.each(JSON.parse(data1), function(i, item) 
					 	{
					 		$('#'+append_id+' + div .multiselect-container input[value="'+item.append_id+'"]').prop('checked',false).click();
					 		count++;
						});	
					}
					else
					{
						var token = '';
						$.ajax({
						type: "POST",
						url: "../temples/ajax/app_master.php",
						data: {
							tokenp:token,
							data:data,
							searchcase:labledata[1],
							pg:'get_multiselectvalue'
						},
						success:function(result){
							$('.multiselect-container').find(result).click();
						},
						error:function (xhr, ajaxOptions, thrownError){
							myalert(thrownError);
						}
						});
				    }
				}	
			},
			error:function (xhr, ajaxOptions, thrownError)
			{
			  myalert(thrownError);
			}
		});
	}	
	function pending_bankdtlrpt(bank_code,servicecode='',doc_sid='',deptflag='T',rejectreason_sid='',account_sid='',doc_type='')
	{
		if($('#account_no').val()=='' && rejectreason_sid=='')
		{
			myalert('please select the payment gateway !')
			return false;
		}
		if(bank_code=='' && doc_sid=='')
		{
				alert('Please select the Bank Name!');
				return false;
		}
		if(doc_type=='missing')
			var actionmode='pending_bankdtlrpt_missing';
		else
			var actionmode='pending_bankdtlrpt';
		var json_data=[];
		var bank_data=[];
		item={};
		item['temple_id']='';
		item['actionmode']=actionmode;
		item['service_code']=servicecode;
		item['service_subcode']=$('#service_subcode').val();
		item['service_desc']=$('#service_code option:selected').text();
		item['deptflag']=deptflag;
		item['doc_sid']=doc_sid;
		item['rejectreason_sid']=rejectreason_sid;
		item['account_sid']=account_sid;
		item['loginid']='';
		item['langtype']='TN';

		var bankparam=String(bank_code).split(',');
		var bankname_text='';
		var bankcode_text='';
		
		for(i=0;i<bankparam.length;i++)
		{
			item1={};
			if(i==0)
			{
				bankname_text=$('#payment_gateway option[value='+bankparam[i]+']').text();
				bankcode_text=bankparam[i];
				
				item1['bank_code']=bankparam[i];
				item1['bank_name']=$('#payment_gateway option[value='+bankparam[i]+']').text();
			}
			else
			{
				bankname_text+='~'+$('#payment_gateway option[value='+bankparam[i]+']').text();
				bankcode_text+='~'+bankparam[i];
				item1['bank_code']=bankparam[i];
				item1['bank_name']=$('#payment_gateway option[value='+bankparam[i]+']').text();
			}
			bank_data.push(item1);
		} 
		item['bank_json']=bank_data;
		item['bank_code']=bankcode_text;
		item['bank_name']=bankname_text;
		json_data.push(item);
		var templeid=$('#templeid').val();
		var account_no = $('#account_no').val();
		var loginid='';

		var moduleid = '';var modulename ='';
	    if (servicecode == '21') {
	    	moduleid = '25'; modulename= 'Temple e-Services'; 
	    } 
	    else if (servicecode == '15') {
	        moduleid = '12'; modulename= 'Bank Information';
	    }
	    else if (servicecode == '19') {
	        moduleid = '7'; modulename= 'DCB Information';
	    }

		 if(doc_type=='missing')
		 	var page='pending_bankdtlrpt_missingdoc';   
		 else if(rejectreason_sid!='' && Number(rejectreason_sid)>0)
		 	var page='pending_bankdtlrpt_reupload';
		 else
		 	var page='pending_bankdtlrpt';

	var form = '<form name="makeesign" target="_new" id="makeesign" action="../resources/library/esign/index.php" method="post">' +
    '<input type="hidden" name="pg" value="'+page+'">' +
    '<input type="hidden" name="deptflag" value="' + deptflag + '">' +
    '<input type="hidden" name="filter_data" value="' + encodeURI(JSON.stringify(json_data)) + '">' +
    '<input type="hidden" name="modulename" id="modulename" value="' + modulename + '">' +
    '<input type="hidden" name="templeid" id="templeid" value="' + templeid + '">' +
    '<input type="hidden" name="account_no" id="account_no" value="' + account_no + '">' +
    '<input type="hidden" name="moduleid" id="moduleid" value="' + moduleid + '">' +
    '<input type=hidden name=login_id id=login_id value="'+loginid+'">'+
    '<input type="hidden" name="servicecode" id="servicecode" value="'+servicecode+'">' +
    '<input type="submit" value="Submit">' +
	'</form>';
    $('.esignreq').html(form);  
    document.makeesign.submit();
	}

	function get_festivalform(id,flag)
	{
		var token = '';
		var eo_flag='';
		var flow_code = id.split('~');
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data:{
			pg:'festivalform',
			tid:id,
			tokenp:token,
			},
			dataType:'JSON',
			success:function(result)
			{
			   data=$.parseJSON(result);
			   if(flag=='prev')
			   {
					festivalsdateEvent(data[0]['festival_from_date'],data[0]['festival_to_date'],data[0]['from_tamil_month'],data[0]['to_tamil_month']);
				var fields=['festivals_id','festival_details','festival_from_date','festival_to_date','radio_splfestival','from_tamil_date','from_tamil_month','from_tamil_year','to_tamil_date','to_tamil_month','to_tamil_year','nakshatra_details','thithi_type','thithi'];
				$('input[name="radio_splfestival"][value="' +data[0]['radio_splfestival'] + '"]').prop('checked', true);
					if(eo_flag!='Y')
					{
						$('#dynamic-content select,#dynamic-content input').prop('disabled',true);
				    }
				    $("#dynamic-content #actionmode").val('edit');
					$("#dynamic-content #festivals_submit").text('Update');
					$('#savelist').attr('id','').parent().show();
					$('form').append('<input type="hidden" value="'+flow_code[2]+'" name="savelist_value" id="savelist_value"><div id="error"></div>');
			   }
			   else
			   {
			   	  var fields=['festivals_id','festival_details','festival_from_date','festival_to_date'];
			   	 
			   }
				for (i = 0; i <fields.length; i++) 
				{
					$("#"+fields[i]).val(data[0][fields[i]].trim());
				}
				$('#dynamic-content .back_btn,#dynamic-content .temple_form_grid_view,#dynamic-content [type=reset]').prop('disabled',true);
			}
		  });
	}
	function festival_trackedit(id,level)
	{
		var eo_flag='';
		if(eo_flag=='Y' && level=='3~Y')
		{
	        $('#dynamic-content').load('../temples/temple_festivaldetail.php?festivalparam='+id+'&track_level='+level+' form');
	        
        }
        else
        {
        	$('#dynamic-content').load('../temples/temple_festivaldetail.php?festivalparam='+id+'&track_level='+level+' #activity_modelview_block');
        }
            get_festivalform(id+'~'+level,'next');
	        track_festivaldetails(id,'','track_edit');

	}
	function festival_trackprev(id,level)
	{
		var eo_flag='';
		if(eo_flag=='Y' && level=='3~Y')
		{
	        $('#dynamic-content').load('../temples/temple_festival.php?activity_desc=Tracking-'+level+'&tid='+id+' form');
	        
        }
        else
        {
        	$('#dynamic-content').load('../temples/temple_festival.php?activity_desc=Tracking-'+level+'&tid='+id+' #activity_modelview_block');
        }
            get_festivalform(id+'~'+level,'prev');
	}
	function list_juristictionofficer(level_code)
	{
	var token = '';
		$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data:{
					pg:'list_juristictionofficer',
					tokenp:token,
					level_code:level_code,				
					},
				success:function(result){
					$('#location').html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
		});
	}
	function get_bankdocmissing_temples(office_code)
	{
	var token = '';
		$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data:{
					pg:'get_bankdocmissing_temples',
					tokenp:token,
					office_code:office_code,				
					},
				success:function(result){
					$('#temple_name').html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
		});
	}
	function get_missing_templebankdetails(templeid)
	{
	var token = '';
	$('#bank_missingfile_section').html('');
	$("#errmsg1").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
		$.ajax({
				type: "POST",
				url: "../temples/ajax/templeinfo_view_new.php",
				data:{
					pg:'get_missing_templebankdetails',
					tokenp:token,
					temple_id:templeid,				
					},
				success:function(result){
					$('#errmsg1').html('');
					$('#bank_missingfile_section').html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
		});
	}
	function getyoutube_videoid(url)
	{
        var youtubeRegex = /^(https?\:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/(watch\?v=|embed\/|v\/|shorts\/|@|channel\/|live\/|.+$)/;
        var youtube_url=youtubeRegex.test(url);
        if(youtube_url){
		$.ajax({
			type: "POST",
			url: "../webservice/youtubevideo_update.php",
			data:{
				pg:'get_videoid',
				url:url,
				tokenp:token,
			},
			success:function(result){
				$('#videoid').val(result);
				if(result!=''){					
				$('input[name=url_type][value="Y"]').prop('checked',true);
				$('input[name=url_type]').prop('disabled',true);
				}
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
        }
	}
	function userlevel_change(level_code,location_id='')
	{
		// alert(level_code);
		// alert(location_id);
		// return false;
		var token = '';
		$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data:{
					pg:'userlevel_change',
					tokenp:token,
					level_code:level_code,
					location_id:location_id			
					},
				success:function(result){
					if(level_code==1 || level_code==2 || level_code==3 || level_code==5 )
					{
					location.href='../temples/templeview.php';
					}
					else if(level_code==4)
					{
					bodyeventallocation('../temples/temple_reports_view.php?pg=totempleeo&code=104&scode=6&rcode=1&acode=19&pwd_auth=N&avail_status=A&flowtype_sid=&activity_sid=355&form_type=X&admin_flag=A&activity_desc=Temple EO Access by Admin');
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
		});
	}
	
	function templedash_grid(temple_id,districtname,talukname,villagename,page)
	{

		$('#temple_list').css('display','none');
		$('#loading').html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
		if(page.trim()!='templedash_grid')
		$("html,body").animate({scrollTop: $(document).height()}, 800);
		
		form_data = new FormData();
		form_data.append('dname' ,districtname);
		form_data.append('tname' ,talukname);
		form_data.append('vname' ,villagename);
		form_data.append('temple_id' ,temple_id);
		form_data.append('pg' ,page);
		form_data.append('tokenp' ,'');
		$.ajax({
			type: "POST",
			url: "../hrcehome/ajax/homepage_view.php",
			cache: false,
			contentType: false,
			processData: false,
			data:form_data,
			//dataType:'JSON',
			success:function(result)
			{ 
			//alert(result);
			$('#temple_list').css('display','block');
			$('#loading').html('');
			param=String(result).split('~~');
				if(param[0].trim()!='')
				{
					page1=param[0].trim();
					if(page == 'templedash_grid' && temple_id!='')
					{
						head_field = ['temple_id','temple_name','address','temple_subcategory_name', 'controlled_temple_name']; //search field
						dropdown_search_field=['temple_subcategory_name'];
					}
					else if(temple_id!='')
					{
						head_field = ['temple_id','temple_name','address','temple_subcategory_name']; //search field
						dropdown_search_field=['temple_subcategory_name'];
					}
					else
					{
						head_field = ['temple_id','temple_name','district_name']; //search field
						dropdown_search_field=['district_name'];
					}
					if(page == 'templedash_grid'){
						search_type=page;
					} else {
						search_type= '';
					}
					service_data='';
					nosearch_field=[];
					document_field=[];
					catcode='';
					firstPagination(1);
				}
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function templedash_grid_es(temple_id,districtname,talukname,villagename,page)
	{
		
		$('#temple_list_es').css('display','none');
		$('#loading').html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
		if(page.trim()!='templedash_grid_es')
		$("html,body").animate({scrollTop: $(document).height()}, 800);
		
		form_data = new FormData();
		form_data.append('dname' ,districtname);
		form_data.append('tname' ,talukname);
		form_data.append('vname' ,villagename);
		form_data.append('temple_id' ,temple_id);
		form_data.append('pg' ,page);
		form_data.append('tokenp' ,'');
		$.ajax({
			type: "POST",
			url: "../hrcehome/ajax/homepage_view.php",
			cache: false,
			contentType: false,
			processData: false,
			data:form_data,
			//dataType:'JSON',
			success:function(result)
			{ 
				// console.log(result);
			//alert(result);
			$('#temple_list_es').css('display','block');
			$('#loading').html('');
			param=String(result).split('~~');
				if(param[0].trim()!='')
				{
					page1=param[0].trim();
					// console.log(page1);
					if(temple_id!='')
					{
						head_field = ['temple_id','temple_name','address','temple_subcategory_name']; //search field
						dropdown_search_field=['temple_subcategory_name'];
					}
					else
					{
						head_field = ['temple_id','temple_name','district_name']; //search field
						dropdown_search_field=['district_name'];

					}
					search_type= '';
					service_data='';
					nosearch_field=[];
					document_field=[];
					catcode='';
					firstPagination(1);
				}
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	//otherkingsperiod()
	function officerswise_temples(code,subcode='',flag='')
	{
		//alert("Test1");
		if(code!=''){		
		$("#temple_name").html('');
		var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'officerswise_temples',
					tokenp:token,
					office_code:code,
					subcode:subcode,
					flag:flag,
				},
				success:function(result){
					$("#temple_name").html(result);						
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
	}
	function officerswise_withoutsubtemples(code,subcode='')
	{
		//alert("Test1");
		if(code!=''){		
		$("#temple_name").html('');
		var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'officerswise_withoutsubtemples',
					tokenp:token,
					office_code:code,
				},
				success:function(result){
					$("#temple_name").html(result);						
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
	}
	function get_templedetails(temple_id,append_id)
	{
		//alert("Test1");
		if(temple_id!=''){		
		$("#temple_name").html('');
		var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'get_templedetails',
					tokenp:token,
					temple_id:temple_id,
				},
				success:function(result){
					var data=$.parseJSON(result);
					if(result!=0)
						$('#'+append_id).val(data[0]['temple_name']);
						if(data[0]['okp_flag']=='Y')
							$('#fdtransdesc').prop('readonly',true);
						else{
							$('#fdtransdesc').prop('readonly',false);
							$('#fdtransdesc').val('');
						}
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
	}
	function kindunitlist(unit_code='',index='',flag='',current_val='')
	{
		if(unit_code!='') 
		{
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'kindunitlist',
					tokenp:token,
					unit_code:unit_code,
					current_val:current_val,
				},
				success:function(result)
				{
					document.getElementsByClassName('lbl_unittype ')[index].innerHTML =result;
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
	}
	function subunit_list(unit_code='',index='',flag='',current_val='')
	{
		if(unit_code!='') 
		{
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'subunit_list',
					tokenp:token,
					unit_code:unit_code,
					flag:flag,
					current_val:current_val,
				},
				success:function(result){
					if(flag=='land')
					{
					$("#unit_type").html(result);
					}
					else
					{
						document.getElementsByClassName('lbl_subunittype')[index].innerHTML =result;
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
	}
	function tktsubunit_list(unit_code='',index='',flag='',current_val='',count='')
	{
		var kind_type = $('select[name="kind_type[]"]');
		var kind_subtype = $('select[name="kind_subtype[]"]');
		if(flag=='kind')
		{
			var kind_type=$("#kind_type"+count).val();
			var kind_subtype=$("#kind_subtype"+count).val();
		}
		else
		{
			var kind_type=$(kind_type[index]).val();
			var kind_subtype=$(kind_subtype[index]).val();
		}
		if(unit_code!='') 
		{
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'tktsubunit_list',
					tokenp:token,
					unit_code:unit_code,
					kind_type:kind_type,
					kind_subtype:kind_subtype,
					flag:flag,
					current_val:current_val,
				},
				success:function(result){
					if(flag=='land')
					{
					$("#unit_type").html(result);
					}
					else if(flag=='kind')
					{
						$("#subunit_type"+count).html(result);
					}
					else
					{
						document.getElementsByClassName('lbl_subunittype')[index].innerHTML =result;
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
	}
	
	function unit_list(unit_type='',index='',flag='',current_val='',free_service='Y')
	{
		if(unit_type!='') 
		{
			$('#subunit_type').val('');
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'unit_list',
					tokenp:token,
					unit_type:unit_type,
					flag:flag,
					current_val:current_val,
				},
				success:function(result){
					if(free_service=='Y')
						document.getElementsByClassName('lbl_unittype')[index].innerHTML =result;
					else
						document.getElementsByClassName('lbl_kindsubtype')[index].innerHTML =result;
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
	}
	function templewise_officer(temple_id)
	{
		if(temple_id!='')
		{
			$("#temple_name").html('');
			 var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'templewise_officer',
					tokenp:token,
					temple_id:temple_id,
				},
				success:function(result){
					$("#officer_name").html(result);						
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
	}
	function get_subtemples(templeid,type='')
	{
		if(templeid!='')
		{
			$('.filter_list,.grid_view2').html('');
			if(type!='exist')
			{
				$('.grid_view1').html('');
			}
		 	var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/templeinfo_view_new.php",
				data: {
					pg:'get_subtemples',
					tokenp:token,
					temple_id:templeid,
					type:type,
				},
				success:function(result){

					//alert(type);
					$('.deactive_btn').show('');
					if(type=='exist')
					{
						$('.grid_view2').html(result);
						
						$('#prop_urban_exist').val($('#no_prop1').val());
						$('#prop_rural_exist').val($('#no_prop2').val());
						$('#land_type_exist').val($('#landtype').val());
					}
					else
					{
						$(".grid_view1").html(result);
						$('#prop_urban').val($('#no_prop1').val());
						$('#prop_rural').val($('#no_prop2').val());
						$('#land_type').val($('#landtype').val());
						$('.order_reason').show('');
						/*if($('#templestatus').val()=='C' || $('#templestatus').val()=='D')
						{
							$('.order_reason').hide('');
							$('.deactive_btn').hide('');
							$('#temple_status').val('A');
							$('.deactive_btn').prop('disabled',false);
							$(".grid_view1").html('');
							$('.hide_act').hide();
						}*/
						if($('#templestatus').val()!='A')
						{
							$('.order_reason').hide('');
							$('#reason_id').removeClass('required');
							$('.order').css('display','none');
				             $('#govt_orderno').removeClass('required');
							$('.hide_act').show();
							$('.deactive_btn').text('Activate');
							$('#temple_status').val('A');
							$('.deactive_btn').prop('disabled',false);
							$(".grid_view1").html('');
							//$('.hide_act').hide();
						}
						else
						{
							$('.hide_act').show();
							govtorderno('govt_orderno',$('#govt_orderno_for').val(),'','',templeid);
							$('.deactive_btn').text('Deactivate');
							$('#temple_status').val('D');
							if($('#allow').val()=='Y')
							{
								$('.deactive_btn').prop('disabled',false);
								if(($('#no_prop1').val()>0) || ($('#no_prop2').val()>0))
								{
									$('.deactive_btn').prop('disabled',true);
									$('.land_note').show('');
								}
								else
								{
									$('.deactive_btn').prop('disabled',false);
									$('.land_note').hide('');
								}
								$('.grid_view1').html('');
							}
							else
							{
								$('.deactive_btn').prop('disabled',true);devoteeregistrationform_save()
							}
						}
					}
					
					if(Number($('#prop_urban').val())+Number($('#prop_urban').val())>0)
					{
						$('.landavailable').hide('');
						alert ("Deactivation not allowed");
					}
					else
					{
						$('.landavailable').show('');
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
    }
	function officerwise_district(office_code,current_val)
	{
		//alert(office_code);
		if(office_code!=''){
			var token = '';
			jQuery.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					office_code:office_code,
					current_val:current_val,
					pg:'officerwise_district',
					tokenp:token
				},
				success:function(result){
					//myalert(result);
					$('#district_code').html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
	}
	function officerwise_taluk(dist_code,current_val,office_code='')
	{
		if(dist_code!=''){
			var token = '';
			jQuery.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					distcode:dist_code,
					current_val:current_val,
					office_code:office_code,
					pg:'officerwise_taluk',
					tokenp:token
				},
				success:function(result){
					//myalert(result);
					$('#taluk_code').html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
	}
	function drilldownrpt(module_name,pg,result_append,json_data,tableid='')
	{ 
		if(pg!='' && result_append!='' && json_data!='' && module_name!='')
		{  
			var token = '';
			if(module_name=='temples')
			{
				page_url = '../temples/ajax/templeinfo_view_new.php';
			}
			else if(module_name=='eservices')
			{
				page_url = '../eservices/ajax/epayinfo_view_new.php';
			}
			else if(module_name=='lands')
			{
				page_url = '../lands/ajax/landinfo_view_new.php';
			}
			else if(module_name=='dcbs')
			{
				page_url = '../dcbs/ajax/dcbinfo_view_new.php';
			}
			else if(module_name=='department')
			{
				page_url = '../department/ajax/deptinfo_view_new.php';
			}
			else if(module_name=='audit')
			{
				page_url = '../audit/ajax/auditinfo_view_new.php';
			}
			else if(module_name=='property')
			{
				page_url = '../property/ajax/propertyinfo_view_new.php';
			}
			else if(module_name=='welfare')
			{
				page_url = '../welfare/ajax/welfareinfo_view_new.php';
			}
			else if(module_name=='ticketing')
			{
				page_url = '../ticketing/ajax/ticketing_infoview.php';
			}  
			else if(module_name=='trustee')
			{
				page_url = '../trustee/ajax/trusteeinfo_view_new.php';
			}  
			else if(module_name=='institute')
			{
				page_url = '../institute/ajax/instituteinfo_view_new.php';
			}  
			else if(module_name=='counts')
			{
				page_url = '../courtcases/ajax/courtinfo_view.php';
			}
			else if(module_name=='renovate')
			{
				page_url = '../renovate/ajax/renovateinfo_view_new.php';
			}  
			else if(module_name=='hundi')
			{
				page_url = '../hundi/ajax/hundi_infoview.php';
			}
			else if(module_name=='budget')
			{
				page_url = '../budget/ajax/budgetinfo_view_new.php';
			} 
			else if(module_name=='magazine')
			{
				page_url = '../magazine/ajax/magazineinfo_view.php';
			} 
			$(result_append).html('');
			if(tableid>0 && tableid!='')
			{
				for (var i =tableid; i <= 10; i++) {
					$('.grid_view'+i).html('');
				}
			}
			form_data = new FormData();
			form_data.append('pg',pg);
			form_data.append('report_type','drilldown_report');
			form_data.append('form_data',encodeURIComponent(json_data));
            form_data.append('tokenp',token);
            form_data.append('table_id',tableid);
			$(result_append).html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			$.ajax({
				type: "POST",
				url: page_url,
				contentType: false,
				processData: false,
				data: form_data,
				success:function(result){
					// alert(result_append);
					$(result_append).html(result);
					$(window).scrollTop(($(result_append).offset().top)+500);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}
    }
	function govtorderno(selector,order_for,current_val='',type='',temple_id='',actmode='new')
	{
		if(order_for!='' && selector!='')
		{
			$('.'+selector).html('');
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'govt_orderno',
					order_for:order_for,
					selector:selector,
					current_val:current_val,
					type:type,
					tokenp:token,
					temple_id:temple_id,
					actmode:actmode
					  },
					success:function(result){
					if(selector!='')
					{
						$('.'+selector).html(result);
					}
					if(current_val!='' && type!='multi-select')
					{
					    autosearch_valueassign(selector,current_val,'Invalid Order No.',order_for);
					}
					else
					{
						if(selector=='auction_orderid' || selector=='approvalauction_orderid')
						{
							$('#auction_orderid').removeClass('required');
						}
					}				
				},
					error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});	
		}
	}
	function filtered_aclist(office_code)
	{
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'filtered_aclist',
					tokenp:token,
					office_code:office_code
					  },
				success:function(result){
					$('#ac_code').html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
	}
				
	function institutename(type_code)
	{
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					pg:'temple_institutename',
					tokenp:token,
					type_code:type_code
					  },
				success:function(result){
					$('#institution_code').html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
	}
function get_pageview(activity_desc,page,param='')
	{
		   //$('.modal-dialog').css('width','900px !important');
		   $.ajax({
				type: "post",
				url: page+'?'+param,
				data:{
					activity_desc:activity_desc,
					flag:'pageview'
					},
				success:function(result)
				{
					 $('#dynamic-content').html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
    }
	function slt_parliment(pcode,current_val)
	{
		$("#assembly").val('');
		var token = '';
		$("#errmsg").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
		if(pcode!='')
		{
			jQuery.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				//data:dataString,
				data: {
					pcode: pcode,
					pg:'parliment_code',
					tokenp:token,
					current_val:current_val
				},
				success:function(result){
					$("#errmsg").html('');
				if(result.trim!='')
				{    
					$("#assembly").html(result);
				}
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
		}	
	}
	function templebankdetails_uploadmails()
	{
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				//data:dataString,
				cache:false,
				async: false,
				data: {
					pg:'templebankdetails_uploadmails',
					tokenp:token,
				},
				success:function(result){
					 result_data = result;
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});
	}
	function get_uploadedsignbankdoc(temple_id,gateway_id)
	{
		if(temple_id!='')
		{
		   var token = '';
			
			form_data = new FormData();
			form_data.append('pg','uploadedsignbankdoc');
			form_data.append('temple_id',temple_id);
			form_data.append('gateway_id',gateway_id);
			form_data.append('tokenp',token.trim());
			$("#eservice").html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			$.ajax({
				url:'../temples/ajax/templeinfo_view_new.php',
				type:'POST',
				cache: false,
				contentType: false,
				processData: false,
				data:form_data,
				success:function(result)
				{
					$(".grid_view").html(result);
				},
				error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
				}
			});
		}
	}
	  $(function(){  
   
		   if($('span').hasClass('reload_btn'))
		   {
		   var text='&emsp;<a onClick=document.getElementById("captchademo").play() class="captchaLink" >&#9655; Play</a><a onClick=document.getElementById("captchademo").pause() class="captchaLink" >&#9015;&#9015; Pause</a><div style="clear: both;"></div><audio id="captchademo" src="../resources/library/audio/string_audio.php?aud=1755260765"><source src="../resources/library/audio/string_audio.php?aud=1755260765" type="audio/mpeg" />Your browser does not support the audio element.</audio></div>';
		   $('.reload_btn').after(text);
		   }
	 });
   function get_tmusertemple(userid)
	{
		if(userid.substring(0, 3).toLowerCase()=='tm0' && userid.length==8)
		{
			$('.templename_sec').show('');
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					tokenp:token,
					pg:'get_tmusertemple',
					tid:userid.substring(3, userid.length),
				},
				success:function(result)
				{
					if(result.trim()=='invalid_templeid')
					{
						result ='Invalid user or Sub-Temple or Group Temple';
						$('#userid').val('');
					}
					$('#temple_name').val(result);
				},
				error:function (xhr, ajaxOptions, thrownError)
				{
				  myalert(thrownError);
				}
			});
		}
		else
		{
			$('.templename_sec').hide('');
			$('#temple_name').val('');
		}
	}
function modulemapping_view()
{
	$('#grid_view').html('');
	var token = '';
	$('#grid_view').html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
	$.ajax({
		type: "POST",
		url: "../temples/ajax/templeinfo_view_new.php",
		data: {
			tokenp:token,
			pg:'modulemapping_view'
		},
		success:function(result)
		{
			$('.grid_view').html(result);
		},
		error:function (xhr, ajaxOptions, thrownError)
		{
		  myalert(thrownError);
		}
	});
}
function get_templejurisofficer(temple_id)
	{
		if(temple_id!='')
		{
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					tokenp:token,
					pg:'get_templejurisofficer',
					temple_id:temple_id,
				},
				success:function(result)
				{
					$('#officer_name').html(result);
				},
				error:function (xhr, ajaxOptions, thrownError)
				{
				  myalert(thrownError);
				}
			});
		}
	}
	function calculate_cumulative()
	{
		 calculatepropSum('totalprop','tot_prop_cumulative');
		 calculatepropSum('totalextent1','cumulative_values1');
		 calculatepropSum('totalextent2','cumulative_values2');
		 calculatepropSum('totalextent3','cumulative_values3');
		 var tot_hect=$('#cumulative_values1').val()|| 0;
		 var tot_are=$('#cumulative_values2').val()|| 0;
		 var tot_sqmt=$('#cumulative_values3').val()|| 0;
		$('#cumulative_values3').val((Number(tot_sqmt)%100).toFixed(2));
		tot_are=Number((Number((tot_sqmt)/100).toFixed(0)))+Number(tot_are);
		$('#cumulative_values2').val((Number(tot_are)%100));
		tot_hect=(tot_are>100)?Number((Number((tot_are)/100).toFixed(0)))+Number(tot_hect):tot_hect;
		$('#cumulative_values1').val(Number(tot_hect));
		$('#extent_cumulative,#cumulative_values1,#cumulative_values2,#cumulative_values3').prop('disabled',true);
	}
	function calculatepropSum(id,value) 
	{
		var $input = $(this);
		var sum = 0;
		$("."+id).each(function() {
			sum += parseFloat(this.value) || 0;
		});
		if(id=='totalextent2' || id=='totalextent3')
		{
			$("#"+value).val(sum.toFixed(2));
		}
		else
		{
			$("#"+value).val(sum.toFixed(0));
		}
	}
	 function templemaster_ajax(append_id,mstname,head_field='',firstoption='',fall='',current_val='',otherparam='')
	{
		var token = '';
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				tokenp:token,
				mstname:mstname,
				head_field:head_field,
				firstoption:firstoption,
				fall:fall,
				label:label,
				current_val:current_val,
				otherparam:otherparam,
				append_id:append_id,
				pg:'templemaster_ajax'
			},
			success:function(result)
			{
				$('#'+append_id).html(result);
			},
			error:function (xhr, ajaxOptions, thrownError)
			{
			  myalert(thrownError);
			}
		});
	}
	function get_individualcoltmp(temple_id)
	{
		if(temple_id!='')
		{
			$('#individual_temple_id,#individual_temple_name').val('');
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					tokenp:token,
					temple_id:temple_id,
					pg:'get_individualcoltmp'
				},
				success:function(result)
				{
					$('#individual_temple_name').html(result);
				},
				error:function (xhr, ajaxOptions, thrownError)
				{
				  myalert(thrownError);
				}
			});
		}
	}

	function get_quantalval(unit_type,unit_value,consumable_code='')
	{
		if(unit_type!='' && unit_value!='')
		{
			var token = '';
			$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					tokenp:token,
					unit_type:unit_type,
					unit_value:unit_value,
					pg:'get_quantalval'
				},
				success:function(result)
				{
					var param = result.split('~');
					if(param[0]=='success')
					{
						$('#quantal_qty').val(param[1]);

						get_grainarreardemand(param[1],consumable_code,unit_type);
					}
				},
				error:function (xhr, ajaxOptions, thrownError)
				{
				  myalert(thrownError);
				}
			});
		}
	}

	function get_grainarreardemand(quantity,consumable_code='',unit_type)
	{
		//alert();
		if(consumable_code!='')
		{
		var token = '';
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				pg:'get_grainarreardemand',
				quantity:quantity,
				consumable_code:consumable_code,
				unit_type:unit_type,
				tokenp:token,
				  },
			success:function(result)
			{
				$('#grainarrear_amount').val(result);	
			},
			error:function (xhr, ajaxOptions, thrownError)
			{
				myalert(thrownError);
			}
		});
	}
	}
	function slt_temple_activities(templeid,serviceid,subserviceid,id,current_val=''){
		
		var token = '';
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				pg:'get_temple_activities',
				templeid:templeid,
				serviceid:serviceid,
				subserviceid:subserviceid,
				id:id,
				current_val:current_val,
				tokenp:token,
				  },
			success:function(result)
			{
			    if(result !='')
				{ 
				    $("#"+id).html(result);
				}else{
					$('#'+id+' option:not(:first)').remove();
				}

				if(id=='slt_activities' && current_val!='')
					trackdate(serviceid,'dashboard','',current_val);
			
			},
			error:function (xhr, ajaxOptions, thrownError)
			{
				myalert(thrownError);
			}
		});
	}

	function countryevent(country_code)
	{
		var session_country_code='IND';
		$('#sel_state,#slt_district,#mobile_no').val('');
		$('#pin_zipcode').removeClass('required');
		if(country_code==session_country_code)
		{
			$('#sel_state,#slt_district').removeAttr('disabled');
			$('#pin_zipcode').addClass('required');
			$('#lbl_pin_zipcode').html($('#lbl_pin_zipcode').text()+'<font color="#FF0000">*</font>');
			$("#mobile_no").attr('maxlength','10');
			
		}
		else
		{
			$('#sel_state,#slt_district').removeClass('required').prop('disabled',true);
			$('#pin_zipcode').removeClass('required');
			$('#lbl_pin_zipcode').html($('#lbl_pin_zipcode').text().replace('*',''));
			$("#mobile_no").attr('maxlength','15');


		}
	}
	function templeindividbankdetails(transid,temple_id)
	{	
	  var token='';
      $('.errmsg').html('<center><img src="../resources/library/images/load.gif"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
      form_data = new FormData();
	  form_data.append('pg','templeindividbankdetails');
	  form_data.append('transid',transid);
	  form_data.append('tokenp',token.trim());
	  form_data.append('temple_id',temple_id);
	  $.ajax({
          type: "POST",
          url: "../temples/ajax/app_master.php",
          cache: false,
          contentType: false,
          processData: false,
          data:form_data,
          success:function(results)
          {
          	data=$.parseJSON(results);
          	$('.bankdetails').show('');
          	$('#account_type').val(data[0]['account_type']);
          	$('#account_mode').val(data[0]['account_mode']);
          	$('#sid').val(data[0]['sid']);
			$('input[name=default_account][value='+data[0]['default_account']+']').prop('checked',true);
			$("#account_purpose").multiselect('clearSelection');
			$('#account_purpose').multiselect('refresh');
			accountmode(data[0]['account_purpose'],data[0]['change_flag']);
			epay_master_ajax(data[0]['account_mode']+'~account_mode','lbl_accountpurpose~accountpurpose','account_purpose',data[0]['account_purpose'],'Y','N');
			itexemptioncheck(data[0]['flag_80g'],data[0]['change_flag']);
			if(data[0]['flag_80g']=='Y')
			{
				$('input[name=itexem][value='+data[0]['flag_80g']+']').prop('checked',true);
				var fields=['letter_no','section80g','account_status','validity80g_upto','excemptionpercent','section12a','validity12a_upto','account_purpose','pan_number'];
				for (i = 0; i <fields.length; i++)
				{
					$("#"+fields[i]).val(data[0][fields[i]]);
				}
			}
			$('#actionmode').val('individualedit');
          },
          error:function (xhr, ajaxOptions, thrownError){
              myalert(thrownError);
          }
      });
	}
	function externalpage(url_link)
	{   
	     var entry_msg='நீங்கள் வெளிப்புற இணையதளத்திற்கு திருப்பி விடப்படுகிறீர்கள். வெளிப்புற இணையதள உள்ளடக்கம் மற்றும் தனியுரிமைக் கொள்கைகளுக்கு HRCE, தமிழ்நாடு அரசு பொறுப்பேற்க முடியாது என்பதை நினைவில் கொள்ளவும்';
		 if (confirm(entry_msg+' ?')) 
		 window.open(url_link,'_blank');
	}
	function accountmode(type_id,annthana_account='Y')
    {
    	var accountpurpose=$('#account_purpose').val();
    	var pos_flag=$('#bank_name option:selected').data('posflag');
    	var array=String(accountpurpose).split(",");
    	if($.inArray("3", array)>= 0 && pos_flag=='N')
    	{
		 	$('input[type=checkbox][value=5]').closest('.multiselect-option').css('display','block');
    	}
    	else if($.inArray("5", array)>= 0)
    	{
		 	$('input[type=checkbox][value=5]').closest('.multiselect-option').css('display','block');
    	}
    	else if($.inArray("2", array)>= 0)
    	{
		 	$('input[type=checkbox][value=2]').closest('.multiselect-option').css('display','block');
    	}
    	else if($.inArray("3", array)>= 0 && $.inArray("5", array)==-1 && array.length>1 && pos_flag=='N')
    	{
		 	myalert('Other purpose is not applicable with Annadhanam account');
    	}
    	else if(pos_flag=='N')
    	{
    		$('input[type=checkbox][value=5]').prop('checked',false);
		 	$('input[type=checkbox][value=5]').closest('.multiselect-option').css('display','none');
    	}
    	if($.inArray("3", array)>= 0)
    	{
    		$('#eightyg_form').show('');
    	}
    	else
    	{
        	$('#eightyg_form').hide('');
    	}
    }
    function itexemptioncheck(flag='N',annthana_account='Y')
	{	
		if(flag=='N')
		{
			$('#pan_number').removeClass('required');
			$('.exemption80').hide('');
			$('#itexem').prop('checked',false);
			$('#letter_no,#section80g,#validity80g_upto,#excemptionpercent,#section12a,#validity12a_upto').val('').removeClass('required');
		}
		else
		{
            $('#pan_number').addClass('required');
			$('#eightyg_form').show('');
			$('.exemption80').show('');
			$('#itexem').prop('checked',true);
			$('#letter_no,#section80g,#excemptionpercent,#section12a').addClass('required');
		}
	}
	function bankentered_temples(bankstatus_code)
 	{
	    var token = '';
	    $("#temple_name").html('');
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				bankstatus_code:bankstatus_code,
				pg:'bankentered_temples',
				tokenp:token,
			},
			//dataType: "JSON",
			success:function(result){
				$('#temple_id').val('');
				$('.select2-chosen').text('Select Temple Name');
			  	$("#temple_name").html(result);	
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function activities_multiuserlist(level_code) //type-temple,others
	{
		$('#user_id').html('');
		$('#service_activities').html('');		 
	    var token = '';
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				level_code:level_code,
				pg:'activities_multiuserlist',
				tokenp:token,
			},
			//dataType: "JSON",
			success:function(result){
           		$("#emp_div").html(result);
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function service_multiactivities(user_id,level_code='',module_id='') //type-temple,others
	{
	    var token = '';
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				user_id:user_id,
				level_code:level_code,
				module_id:module_id,
				pg:'service_multiactivities',
				tokenp:token,
			},
			//dataType: "JSON",
			success:function(result){
				   $("#service_activities").html(result);
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function posaccount_verification(to_templeid,from_templeid,device_id) //type-temple,others
	{
	    var token = '';
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				to_templeid:to_templeid,
				from_templeid:from_templeid,
				device_id:device_id,
				pg:'posaccount_verification',
				tokenp:token,
			},
			success:function(result){
				$('#confirm').val('N');
				var param=String(result).split('~');
				if(param[0]=='success')
				{
					$(".deviceinfo").show('');
					$("#deviceinfo").css('color','#85476D');
					myalert('<center> <b>POS Account Mapped.<br> Account Holder Name [Account No.] :<br> <font style="font-size:16px;color:#85476D">'+param[2]+'</font></b></center>');
		   			$("#deviceinfo").html('<center> <b>POS Account Mapped. Account Holder Name [Account No.] : <font style="font-size:16px">'+param[2]+'</font></b></center>');
		   			$("#account_sid").val(param[1]);
		   			$("#account_no").val(param[3]);
		   			$('#confirm').val('Y');
		   			$('.submit_sec').show('');
				}
				else if(param[0]=='notmapped')
				{
					$('.submit_sec').hide('');
					$(".deviceinfo").show('');
					$("#deviceinfo").css('color','red');
					$("#deviceinfo").html('<center><b>Note : </b>POS Service Not Enabled for this Temple (Control Temple e-Services Form)</center>');
					$("#account_sid").val('');
					$("#account_no").val('');
				}
				else
				{
					$(".deviceinfo").show('');
		   			$('.submit_sec').show('');
		   			$("#deviceinfo").css('color','red');
					$("#deviceinfo").html('<center><b>Note : </b>Account number is not mapped. only can use POS Cash</center>');
					$("#account_sid").val('');
					$("#account_no").val('');
				}
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function postal_certification_enable(temple_id)
	{
		var token = '';
			$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				tokenp:token,
				temple_id:temple_id,
				pg:'postal_certification_enable'
			},
			success:function(result)
			{
				data=$.parseJSON(result);
				if(data[0]['postaltarget']=='Y')
				{
					$('#postal_certificationform').show('');
				}
				else{
					$('#postal_certificationform').hide('');
					$('#messagetag').show();		
				}
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function account_collectioninfo(temple_id,account_sid,feetypemap_sid)
	{
		var token = '';
		var accountdetails=$('#button_'+feetypemap_sid).data('id');
			$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				tokenp:token,
				templeid:temple_id,
				accountsid:account_sid,
				accountdetails:accountdetails,
				pg:'accountcollectioninfo'
			},
			success:function(result){
			   $(".grid_view1").html(result);
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function authenticationreq(redir_url='')
	{
		var mkpayment='<form name="makepayment" id="makepayment" action="../temples/ajax/redir.php" method="post">\
					<input type=hidden name=redir_url id=redir_url value="'+redir_url+'">';
		$('#authenticationreq').html(mkpayment);
		document.makepayment.submit();
	}
	function oldreceiptevent(flag,mandatory_flag='Y')
	{
	        if(flag=='Y')
	        {
	        		var token = '';
					$.ajax({
					type: "POST",
					url: "../budget/ajax/budget_app_master.php",
					data: {
						tokenp:token,
						pg:'oldreceiptevent'
					},
					success:function(result){
						 $("#collection_date").val('').datepicker('remove');
					   if(Number(result.trim())>0)
					   {
					   		//myalert('old receipts not allowed, because of budget summitted for the selected fasli !');
					   		var startdate_new='2024/03/01';
					   }
					   else
					   {
					   		var startdate_new='2020/07/01';
					   }

				   		if(mandatory_flag=='Y')
			        		$('#mreceipt_no').addClass('required');
			        	else
			        		$('#mreceipt_no').removeClass('required');


			        	$('#collection_date').addClass('required');
			        	
			            var monthyear = new Date(startdate_new);
			        	$('#collection_date,#mreceipt_no').prop('disabled',false);
			            var today = new Date();
						var pastdate=new Date(new Date().getTime() - 24*60*60*1000);

			            var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
			            var today = new Date();

			            $("#collection_date").val('').datepicker('remove');
			            //alert(end_date);
			            $("#collection_date").datepicker({
			            startDate:monthyear,
			            endDate: pastdate,
			            format: 'dd/mm/yyyy',
			            container: container,
			            //todayHighlight: true,
			            autoclose: true,
			            });
					},
					error:function (xhr, ajaxOptions, thrownError){
						myalert(thrownError);
					}
				});
	        	
	        }
	        else
	        {
	        	
				$('#collection_date,#mreceipt_no').val('');
	        	$('#collection_date,#mreceipt_no').prop('disabled',true);
	        	$('#collection_date,#mreceipt_no').removeClass('required');
	            var startdate = new Date();
	            var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
	            var today = new Date();

	            $("#collection_date").val('').datepicker('remove');
	            //alert(end_date);
	            $("#collection_date").datepicker({
	            startDate:startdate,
	            endDate: today,
	            format: 'dd/mm/yyyy',
	            container: container,
	            todayHighlight: true,
	            autoclose: true,
	            });
	        }
	}
	function hrce_urlcheck(hrceurl,append='')
	{
		var token = '';
			$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				tokenp:token,
				hrceurl:hrceurl,
				pg:'hrce_urlcheck'
			},
			success:function(result){
			   if(result.trim()!='E')
			   {
				   	myalert('Invalid URL');
				   	$('#url_text').css('border', 'solid 1px #ff944d');
					$('#url_text').css('background-color', '#ffe0cc');
					$('#hrce_gallery_submit').prop('disabled',true);
			   }
			   else
			   {
			   		$('#url_text').css('border', '1px solid rgb(204, 204, 204)');
					$('#url_text').css('background-color', 'rgb(255, 255, 255)');
					$('#hrce_gallery_submit').prop('disabled',false);
			   }
			   
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function get_magazinelist(year_desc,id)
	{
		var token = '';
		 $('#getmagazinelist').html('<center><img src="../resources/library/images/load.gif" style="margin-top:170px;"><br><span style="font-family:arial;font-size:11px;">Loading...</span></center>');
			$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {
				tokenp:token,
				id:id,
				year_desc:year_desc,
				pg:'get_magazinelist'
			},
			success:function(result){
				$('#getmagazinelist').html(result);
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	function get_multiselectvalue(data,searchcase)
	{
		
	}
	function esigncheckduplicateorderno(ordercolm,temple_id,formname,case_type='',deletion_type='')
	{
		var order_no=$('#'+ordercolm).val();
		var token = '';
		$.ajax({
			type: "POST",
			url: "../temples/ajax/app_master.php",
			data: {				
				govorder_no:order_no,
				temple_id:temple_id,
				pg:'checkduplicateorderno',
				tokenp:token
			},
			success:function(result){
				if(result>0)
				{
					$('#order_no').val('');
					alert('Order No already exist!');return false;
				}
				else
				{
					approval_esign(formname,case_type,deletion_type);	
				}
			},
			error:function (xhr, ajaxOptions, thrownError){
			myalert(thrownError);
			}
		});
	}
	function request_based_temple(val){
     if(val =='Y'){
          $('#maintempleadded_dateblock').show();
          $('#possession_date').addClass('required'); 
          govtorderno('govt_orderno',$('#govt_orderno_for').val(),'','','','new');
          $('#govt_orderno').addClass('required');
      }
    if(val =='N'){
        $('#maintempleadded_dateblock').hide();
        $('#possession_date').removeClass('required');   
        $('#govt_orderno').removeClass('required');
        $('#govt_orderno').select();
        $('#possessionyear_sid').val(''); 
        $('#possession_date').val(''); 
      }
  }

  function get_templ_information(temple_id){
	var token = '';
	$.ajax({
			type: "POST",
			url: "../budget/ajax/budget_app_master.php",
			data:{
				pg:'get_temple_information',
				tokenp:token,
				temple_id:temple_id,
			},
			success:function(result){
				var data= $.parseJSON(result);
				$('.temple_subcategory_code').val(data[0]['temple_subcategory_code']);
				var temple_categorycode=data[0]['temple_category_code'];
				var temple_subcategorycode=data[0]['temple_subcategory_code'];
				var possessiondate_avail =data[0]['possessiondate_avail']; 
				var trust_temple=data[0]['trust_temple'];
				var budget_avail=data[0]['budget_avail'];
				var faslicount=data[0]['faslicount'];

				if((temple_categorycode==5 || temple_categorycode==6) ){				
					if(trust_temple=='Y'){

						$('input[name=budget_avail][value='+data[0]['budget_avail']+']').prop('checked',true).click();
						if(data[0]['steptaken_forincome']!= null)
						$('input[name=incomestep][value='+data[0]['steptaken_forincome']+']').prop('checked',true).click();
						$('#initiate_date').val(data[0]['initiated_date']);
						$('#reason').val(data[0]['noincome_reason']);$('#treason').val(data[0]['tnoincome_reason']);

					}
				}

				$('input[name=possessiondate_avail][value='+possessiondate_avail+']').prop("checked", true);
				request_based(possessiondate_avail);
				possession_date_change(data[0]['possession_date']);
				if(possessiondate_avail=='Y'){			
					$('#possessionyear_sid').val(data[0]['possessionyear_sid']);
					$('#posession_data_already_save').val(data[0]['possession_date']);
					$('#possession_date').val(data[0]['possession_date']);
					$('#possessionorder_sid').val(data[0]['possessionorder_sid']);
				}
				if(faslicount>0){
					$('input[name=budget_avail],input[name=incomestep],input[name=possessiondate_avail]').prop('disabled',true);
					$('#possessionyear_sid,#possessionorder_sid,#possession_date').prop('disabled',true);
				}
				else{
					$('input[name=budget_avail],input[name=incomestep],input[name=possessiondate_avail]').prop('disabled',false);
					$('#possessionyear_sid,#possessionorder_sid,#possession_date').prop('disabled',false);
				}

				if(data[0]['possessionorder_sid'] > 0){
					$('#possession_date').val(data[0]['possession_date']);
				    govtorderno('govt_orderno',$('#govt_orderno_for').val(),data[0]['possessionorder_sid'],'',$('#temple_id').val(),'edit');
		            // $('.govt_orderno').css('pointer-events', 'none').prop('disabled',true);
				}
				 else
				 {
				 	if(data[0]['possessionorder_sid']!=null && data[0]['possessionorder_sid']!='null' && data[0]['possessionorder_sid']!='')
				 	{
					    govtorderno('govt_orderno',$('#govt_orderno_for').val(),data[0]['possessionorder_sid'],'',$('#temple_id').val(),'new');
					    $('.govt_orderno').css('pointer-events', 'auto ').prop('disabled',false);
					}
				 }
				    
            		setTimeout(function() {
						let optionCount = $('#govt_orderno option').filter(function() {
               			return $(this).val() > 0; }).length;
						if(optionCount>0)
							$('.add_possession_doc_btn').hide('');
						else
							$('.add_possession_doc_btn').show('');
						
            		}, 500);
				
			},
			error:function (xhr, ajaxOptions, thrownError){
			myalert(thrownError);
		}
	});
}

function possession_date_change(possession_date)
{
	var selectedValue = document.querySelector('input[name="possessiondate_avail"]:checked');
    if(selectedValue.value == 'Y') {
		if(possession_date!='')
		{
			var token = '';
			$.ajax({
				type: "POST",
				url: "../budget/ajax/budget_app_master.php",
				data:{
					pg:'possession_date_change',
					tokenp:token,
					possession_date:possession_date,
				},
				success:function(result){
					var data=$.parseJSON(result);
					 $('#possessionyear_desc').val((data[0]['year_desc'].trim()));
					 $('#possessionyear_sid').val((data[0]['sid'].trim()));
 					$("#templebudget_openingbalance_submit_blk").show();
					 if(data[0]['year_desc'] == '1429'){
					 	$('#budgetopeningbal').show();
					 	$(".possessiondocpart").show();
					 	$("#templebudget_openingbalance_submit_blk").show();
					 	$('div#budgetopeningbal .requiredPrev').addClass('required');
					 	$('.fasliyear_input').removeClass('hide');

					 }else{
					 		
					 		// $('#budgetopeningbal').hide();
					 		if($('#posession_data_already_save').val() != ''){
					 			if($('#faslicount').val() == 0){
									$('#templebudget_openingbalance_submit_blk').show();
					 			}else{
					 				$('#templebudget_openingbalance_submit_blk').hide();
					 			}
					 			
					 		}else{
					 			$('#templebudget_openingbalance_submit_blk').show();
					 		}
						 	$(".possessiondocpart").show();
						 	// $('div#budgetopeningbal .required').addClass('requiredPrev');
						 	// $('div#budgetopeningbal input').removeClass('required');
						 	$('#fasliyear_id').removeClass('required');
						 	$('.fasliyear_input').removeClass('hide');
					 }
				},
				error:function (xhr, ajaxOptions, thrownError){
					myalert(thrownError);
				}
			});	
		}
	}else{
		$('#govt_orderno').removeClass('required');
	}
}
function get_templebasic_change(temple_id,basicinfochg_sid=''){
	var token = '';
	$.ajax({
			type: "POST",
			url: "../temples/ajax/templeinfo_view_new.php",
			data: {				
				temple_id:temple_id,
				basicinfochg_sid:basicinfochg_sid,
				pg:'get_templebasic_change',
				tokenp:token
			},
			success:function(result){
				$('#dynamic-content').html(result);
				$('#view-modal').modal('show');
				$('.modal-title').html('Temple Basic Details Changes view');
			},
			error:function (xhr, ajaxOptions, thrownError){
			myalert(thrownError);
			}
		});
}
function expenditureacc_action()
{
	// alert('dfgdg');
	paymenttype=$('input[name="paymenttype"]:checked').val();
	if(paymenttype==8 && paymenttype!='undefined')
	{
		// $('input[name=paymenttype][value=8]').click();
		expenditure_bankaccount($('#form_type').val());
	}
	else
	{
		$('.expenditurepart').hide();
		$('.expenditure_part').html('');
	}
	// expenditure_bankaccount();
}
function expenditure_bankaccount(form_type)
{
	var account_json = [];
	// alert($(hoa_id[i]).find('option:selected').data('account_sid'));
	// if(form_type=='receipt_entry')
	// {
	// 	var hoa_id = $('select[name="hoa_id[]"]');
	// 	var total_amount = $('input[name="total_amount[]"]');
	// 	for(var i = 0; i < hoa_id.length; i++){
	// 	var item={};
	// 	item['total_amount'] = $(total_amount[i]).val();
	// 	item['account_sid'] = $(hoa_id[i]).find('option:selected').data('account_sid'); 
	// // alert($(hoa_id[i]).find('option:selected').data('account_sid'));

	//     account_json.push(item);
	// 	}
	// }
	// else if(form_type=='dcb_collection')
	// {
	// 	var item={};
	// 	item['total_amount'] = $('#totalcum_amount').val();
	// 	item['account_sid'] = $('#account_no').val(); 
	//     account_json.push(item);
	// }
	// else if(form_type=='dcbdonation')
	// {
	// 	var item={};
	// 	item['total_amount'] = $('#total_amount').val();
	// 	item['account_sid'] = $('#account_no').val(); 
	//     account_json.push(item);
	//     if($('#total_amount').val()=='' || $('#account_no').val()=='')
	//     	return false;
	// }
	
	var token = '';
	$.ajax({
		type: "POST",
		url: "../eservices/ajax/epay_app_master.php",
		data:{
			pg:'expenditurebankaccount',//expenditure_bankaccount
			// account_json:JSON.stringify(account_json),
			tokenp:token
		},
		success:function(result){
			if(result.trim()!=0 && result.trim()!='N')
			{
				$('.expenditure_part').html(result);
				$('#btn_submit').prop('disabled',false);
				$('.expenditurepart').show();
			}
			else if(result.trim()!='N')
			{
				$('.expenditure_part').html('');
				$('#btn_submit').prop('disabled',true);
				myalert('Non-identified Income Amount in Bank not Found for this account !!');
				return;
			}
		},
		error:function (xhr, ajaxOptions, thrownError){
			myalert(thrownError);
		}
	});
}
function get_unreconcilamount(account_no)
{
	if(account_no>0)
	{
		var token = '';
		$.ajax({
			type: "POST",
			url: "../eservices/ajax/epay_app_master.php",
			data:{
				pg:'get_unreconcilamount',//expenditure_bankaccount
				account_no:account_no,
				tokenp:token
			},
			success:function(result){
				if(result!=0)
				{
					exp_data=$.parseJSON(result);
					var formId = $('form').attr('id');
					// alert(formId);
					var available_amount=Number(exp_data[0]['unreconcil_amount']);
					$('#exp_available_amount').val(available_amount);
					if(formId=='receiptsform')
					{
						var utilized_amount=Number($('#grand_total').val());
					}
					else if(formId=='bookingform' || formId=='darshanbookingform' || formId=='donationcollectionform' || formId=='dcbdonationlistform' || formId=='elambidderregisform')
					{
						var utilized_amount=Number($('#total_amount').val());
					}
					else if(formId=='dcbcollectionlistform')
					{
						var utilized_amount=Number($('#totalcum_amount').val());
					}
					
					var remaining_amount=available_amount-utilized_amount;
					if(available_amount<utilized_amount)
					{
						$('.exp_clear').val('');
						$('#s2id_exp_account_no .select2-chosen').text('கணக்கு எண்');
						myalert('Non-identified Income Amount in Bank not Found for this account !!');
						return;
					}
					$('#exp_utilized_amount').val(Number(utilized_amount));
					$('#exp_remaining_amount').val(Number(remaining_amount));
				}
				else
				{
					$('.expenditure_part').html('');
					$('#btn_submit').prop('disabled',true);
					myalert('Non-identified Income Amount in Bank not Found for this account !!');
					return;
				}
			},
			error:function (xhr, ajaxOptions, thrownError){
				myalert(thrownError);
			}
		});
	}
	else
	{
		$('.exp_clear').val('');
	}
	
}
// function kepupvalidation(field){
//     // $('#'+field+'_keypressval').val('Y');
// }
function kepupvalidation_check(){
	var count=0;
	$('.keypressval').each(function(){
		var data = $(this).attr('id');
		var val = data.split("_keypressval");		
		if(this.value=='N')
		{			
			count=count+1;
			$('#'+val[0]).val('');
		} 
	});
	if(count>0)
	{
		return count;
	}
	else
	{
		return 0;	
	}
}
function check_aadharvalidate_withotp(aathar,id,cases) {
	$('#aadhaar_no'+id).prop('disabled',true);
    if(aathar.length==12 && id!='')
    {
    	var token = '';
    	var userotp=base64_encode($('#aadhar_otp'+id).val());
    	var aadhaar_no=base64_encode($('#aadhaar_no'+id).val());
    	if(cases=='verify' && ($('#aadhar_otp'+id).val()=='' || $('#aadhar_otp'+id).val().length<6))
    	{
    		if($('#aadhar_otp'+id).val()=='')
				myalert('please Enter OTP');
			else
				myalert('Invalid OTP');
    	}
    	else
    	{
    		loader('Y');
		  	$.ajax({
				type: "POST",
				url: "../temples/ajax/app_master.php",
				data: {
					tokenp:token,
					userotp:userotp,
					Latitude:base64_encode($('#Latitude').val()),
					mobile_no:$('#mobile_no').val(),
					Longitude:base64_encode($('#Longitude').val()),
					trans_sid:base64_encode($('#trans_sid'+id).val()),
					aadhaar_no:aadhaar_no,
					data_hidden:$('#kyc_data_hidden'+id).val(),
					case:base64_encode(cases),
					pg:'get_aadharotp',
				},
				success:function(result){
					loader('N');
					if(result!='')
					{
						if(cases=='getotp')
						{
							var result_json=$.parseJSON(result.trim());
							if(result_json[0].response_status.trim()=='S')
							{
								$('#aadhar_otp'+id).focus();
								alert(result_json[0].response_desc);
								$('.aadhar_otptextsec'+id).show('');
			        			$('#otpgeneratebtn'+id).hide('');
			        			$('#otpverifybtn'+id).show('');
			        			$('#kyc_data_hidden'+id).val(base64_encode(result.trim()));
			        			$('#trans_sid'+id).val(result_json[0].trans_sid.trim());
			        			$('#timershow'+id).show('');
								var timer_seconds=$('#timer_seconds'+id).val();
								timer(timer_seconds,id);
								$('.resendotpkyc'+id).hide('');
								setTimeout(() => window.scrollTo({top: document.body.scrollHeight, behavior: 'smooth' }), 300);
							}
							else if(result_json[0].response_status.trim()=='D')
							{
								myalert(result_json[0].response_desc);
						        $('#aadhaar_no'+id).prop('disabled',false);
						        $('#aadhaar_no'+id).val('');
						        $('#otpgeneratebtn'+id).show('');
			        			$('#otpverifybtn'+id).hide('');
			        			$('#kyc_data_hidden'+id).val('');
			        			$('#aadhar_otpsec'+id).hide('');
							}
							else
						    {
						    	myalert(result_json[0].response_desc);
						        $('#aadhaar_no'+id).prop('disabled',false);
						        $('#otpgeneratebtn'+id).show('');
			        			$('#otpverifybtn'+id).hide('');
			        			$('#kyc_data_hidden'+id).val('');
						    }
						}
						else if(cases=='verify')
						{
							var result_json=$.parseJSON(result.trim());
							if(result_json[0].response_status.trim()=='S')
							{
								//myalert(result_json[0].response_desc);
								$('#otpverifybtn'+id).hide('');
								$('.aadhar_otptextsec'+id).hide('');
								$('#kyc_data_hidden'+id).val(base64_encode(result.trim()));
								var autofetch=$('#autofetch').val();
								if(autofetch=='Y')
								{
									$('#applicant_name'+id).val(result_json[0].name.trim());
									if(result_json[0].gender=='M')
									{
										$('#gender'+id).val(2);
									}
									else if(result_json[0].gender.trim()=='F')
									{
										$('#gender'+id).val(1);
									}
									else
									{
										$('#gender'+id).val(3);
									}
									$('#dob'+id).val(result_json[0].dob.trim());
									
								}
								$('.userdata'+id).show('');
						    	$('#otpverifyedbtn'+id).show('');
						    	$('.moreinfo'+id).show('');
						    	$('#aadhaar_no'+id).css('border','1px solid #008000 !important');
						    	$('#resendotpkyc'+id).removeClass('resendotpkyc'+id);
						    	$('#resendotpkyc'+id).hide('');
						    	$('.aadhar_otpsec'+id).hide('');
						    	$('.verifyaadhar_otpsec'+id).show('');
						    	if(base64_encode($('#applicant_name1').val())!='' || autofetch=='N')
						    	{
						    		$('#devoteeregistration_submit').attr('disabled',false);
						    	}
						    	else
						    	{
						    		$('#devoteeregistration_submit').attr('disabled',true);
						    	}
							}
							else
						    {
						    	myalert(result_json[0].response_desc.trim());
						    	// $('#kyc_data_hidden'+id).val('');
						    	$('.userdata'+id).hide('');
						    	$('#otpverifybtn'+id).show('');
						    	$('#otpverifyedbtn'+id).hide('');
						    	$('.moreinfo'+id).hide('');
						    	$('#aadhaar_no'+id).css('border','1px solid #ced4da !important');
						    	$('#resendotpkyc'+id).addClass('resendotpkyc'+id);
						    	// $('#resendotpkyc'+id).show('');
						    	$('.verifyaadhar_otpsec'+id).hide('');
						    	$('.aadhar_otpsec'+id).show('');
						    	$('#aadhar_otp'+id).val('');
						    	if(base64_encode($('#applicant_name1').val())!='')
						    	{
						    		$('#devoteeregistration_submit').attr('disabled',false);
						    	}
						    	else
						    	{
						    		$('#devoteeregistration_submit').attr('disabled',true);
						    	}

						    }

						}
						else if(cases=='verified')
						{
							var result_json=$.parseJSON(result.trim());
							if(result_json[0].response_status.trim()=='S')
							{
								myalert(result_json[0].response_desc);
								$('#otpverifybtntext'+id).text('VERIFIED');
								$('.aadhar_otptextsec'+id).hide('');
								$('#kyc_data_hidden'+id).val(base64_encode(result.trim()));
								$('#applicant_name'+id).val(result_json[0].name.trim());
								if(result_json[0].gender=='M')
								{
									$('#gender'+id).val(2);
								}
								else if(result_json[0].gender.trim()=='F')
								{
									$('#gender'+id).val(1);
								}
								else
								{
									$('#gender'+id).val(3);
								}
								$('#dob'+id).val(result_json[0].dob.trim());
								$('#trans_sid'+id).val(result_json[0].trans_sid.trim());
								$('.userdata'+id).show('');
								$('.moreinfo'+id).show('');
								$('#aadhaar_no'+id).css('border','1px solid #008000 !important');
								$('#resendotpkyc'+id).removeClass('resendotpkyc'+id);
								$('#resendotpkyc'+id).hide('');
							}
							else
						    {
						    	myalert(result_json[0].error_desc.trim());
						    	$('#kyc_data_hidden'+id).val('');
						    	$('.userdata'+id).hide('');
						    	$('#otpverifybtn'+id).show('');
						    	$('#otpverifyedbtn'+id).hide('');
						    	$('.moreinfo'+id).hide('');
						    	$('#aadhaar_no'+id).css('border','1px solid #ced4da !important');
						    	$('#resendotpkyc'+id).addClass('resendotpkyc'+id);
						    	$('#resendotpkyc'+id).show('');
						    }
						}
					}
					else
					{
						myalert('Please try again');
					}
				},
				error:function (xhr, ajaxOptions, thrownError){
					 
					myalert(thrownError);
				}
			});
	  	}
    }
    else
    {
    	myalert('Please Enter Aadhaar No.');
        $('#aadhaar_no'+id).prop('disabled',false);
        $('#otpgeneratebtn'+id).show('');
		$('#otpverifybtn'+id).hide('');
    }
}
</script>
		  <style>
           .close 
		    {
                color: #fff;
                float: right;
                font-size: 25px;
                font-weight: 700;
                line-height: 1;
                opacity: 0.5;
                text-shadow: 0 1px 0 #000;
            }
			/*** tracking process ****/
		   #activity_modelview_block .dataTables_wrapper input,#activity_modelview_block label,
		   #activity_modelview_block button,#activity_modelview_block img,#activity_modelview_block td,
		   #activity_modelview_block .newtab-search-text,#activity_modelview_block .keyboard-textarea
			{
			  pointer-events:none;
		    }
			#tanks_security{
				display:none;
			}
			#activity_modelview_block th{
				padding:5px;
			}
			#sec_feat{
				visibility:visible !important;
			}
			.myImageForm{
				pointer-events:auto !important;
			}
			/*** tracking process end ****/
			#modal-loader {
			   width: 100%;
			   height: 100%;
			   top: 0;
			   left: 0;
			   position: fixed;
			   display: block;
			   opacity: 0.7;
			   background-color: #fff;
			   z-index: 99;
			   text-align: center;
			   float:center;
			}
			#view-modal .modal{
				top: 55px !important;
			}
        </style>
<div id="view-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog"> 
        <div class="modal-content">  
            <div class="modal-header primary_bgcolor"> 
               <span id="modelview_header" class="modal-title" style="font-size:15px; color:#fff; text-align:center;width:100%">Details</span> 
               <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>
            </div> 
            <div class="modal-body"  style="height:75%; overflow:auto;line-height: 25px;">                            
               <div id="modal-loader" style="display: none;">
               <img id="loader" src="../resources/library/images/load.gif" class="myImageForm" />
               </div>
               <div id="dynamic-content" style="text-align:justify"></div> 
            </div> 

            <div class="modal-footer" id="common_footer">
                <div class="form-group " style="padding:0px; margin-top:8px;">
                    <div class="row" align="left">
                        
                        <div class="col-lg-6"><button type="button" class="btn btn-primary btn-block primary_btn" id="modelviewconfirm_save" data-dismiss="modal"  style="background:#006600; border:#006600 1px solid; display:none">Save</button></div>
                        <div class="col-lg-6"><button type="button" class="btn btn-primary btn-block modelview_close primary_btn" data-dismiss="modal" style="margin-right: 70px;">மறைக்க</button> </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="display:none;" id="track_footer">
            	<div class="form-group col-lg-12" style="padding:0px; margin-top:8px;">
                <div class="row" align="left">
                    <div class="col-lg-12">
                    <label id="lbl_action">Action</label>                    
                    <select class="form-control notclear" id="slt_mdl_track_action">
                    </select>
                    </div>
                </div>
                   <!-- <div class="col-lg-12" id="data_publish">
                    <label id="lbl_action">Publish :</label> 
                    <label class="radio-inline"><input type="radio" name="publish" value="Y">Yes</label>
                    <label class="radio-inline"><input type="radio" name="publish" value="N" checked>No</label>
                    </div>-->
                </div>
            
                <div class="form-group col-lg-12" style="padding:0px; margin-top:8px;" id="viewer_remakrs_block">
                <div class="row" align="left">
                    <div class="col-lg-12">
                    <label id="lbl_reason">Reason</label>
                    <textarea class="form-control sm14" id="viewer_remarks_msg" disabled></textarea>
                    </div>
                </div>
                </div>
                
                <div class="form-group col-lg-12" style="padding:0px; margin-top:8px;">
                <div class="row" align="left">                                 
                    <div class="col-lg-6">
                    <button type="button" class="btn btn-primary btn-block primary_btn" id="viewer_remarks_save" data-dismiss="modal" disabled style="background:#006600; border:#006600 1px solid;">Save</button>
                    </div>

                    <div class="col-lg-6">
                    <button type="button" class="btn btn-primary btn-block modelview_close" id="viewer_remarks_close primary_btn" data-dismiss="modal">மறைக்க</button>
                    </div>
                </div>
                </div>
            </div>
        </div> 
    </div>
</div>
<!-- track mode view -->
<!-- track mode view end -->
<!--- onepage model view  --->    
<div id="view-onepage-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog" style="width:100%;"> 
        <div class="modal-content" style="width: 90%;max-width: 100%;">  
         <!--   <div class="modal-header" style="background-color:#337AB7"> 
               <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button> 
               <span class="modal-title" style="font-size:15px; color:#fff; text-align:center" >
               <i class=""></i><b><p id="modelview_header">Detials</p></b>               
               </span> 
            </div> -->
            <div class="modal-body"  style="height:83%; overflow:auto;padding:0px">                            
               <!--<div id="modal-loader" style="display: none; text-align: center;">
               <img src="../resources/library/images/load.gif" />
               </div>-->
               <div id="dynamic-onepage-content"></div> 
            </div> 

            <div class="modal-footer" id="common_footer">
             <div class="col-lg-12 row">
            	<div class="col-lg-11 col-md-10"></div>
                <div class="col-lg-1 col-md-2"><button type="button" class="btn btn-primary btn-block modelview_close1 primary_btn" data-dismiss="modal">மறைக்க</button> </div>
                </div>
            </div>

          
            </div>
                            
        </div> 
    </div>
    <!--- onepage model view end --->  

    
    
        <link href="../css/jquery.bxslider.css" rel="stylesheet" />
    <link rel="stylesheet" href="../css/sprite_image.css">
    <script type="text/javascript" src="../resources/library/js/jquery.bxslider.js"></script>
    <script src="../js/lazy.js"></script>
    <script type="text/javascript" language="javascript">
		$(document).ready(function(){
		language = 'TN';
			$('#subchildtable').DataTable({
			 retrieve: true,
			 stateSave: false,
			 language: {
			  searchPlaceholder: "Search...",
			  search:""
			 }
			});
		});
	</script>
    <script type="text/javascript" language="javascript">
    $(document).ready(function(){
        
        $('.bxslider').bxSlider({
            mode: 'horizontal',
            auto: true,
              autoControls: true,
              stopAutoOnClick: true,
              useCSS:false,
        });
        var message_max = $('#feedbackmessage').attr('maxlength');
        $('#message_count').html('0 / ' + message_max );
        $('#feedbackmessage').keyup(function() {
        var message_length = $('#feedbackmessage').val().length;
        var message_remaining = message_max - message_length;
        $('#message_count').html(message_length + ' / ' + message_max);
        });
         localStorage.removeItem('active');
    });
    </script>
<style>
	 .navbar-nav li a {
	 font-size:12px;
	}
	.pgh_text {
		line-height: 1.7em;
		font-family: "arial", Times, serif;
		font-size: 14px;
		font-weight:bold;
		text-align: justify;
		text-justify: inter-word;




	}
	.temple_text {
		font-size:14px;
	}
	.table_text {
		font-size:13px;
	}
	  #dynamic-content {
	 height:400px;
	}
</style>
<script type="text/javascript">
		$(document).ready(function(){
			var service_loop = ($('.additional_service_list li').length<3)?false:true;
			var whatsnew_loop = ($('.whats_new_list li').length<5)?false:true;
			var pressrelease_loop=($('.press_release_list li').length<5)?false:true;
			$('.additional_service_list').bxSlider({
						mode: 'vertical',
						speed:500,
						auto: true,
						pager:false,
						minSlides:7,
						moveSlides:1,
						wrapperClass:'bx',
						autoHover:true,
						infiniteLoop:service_loop,
						
					});
			$('.whats_new_list').bxSlider({
						mode: 'vertical',
						speed:500,
						auto: true,
						controls:false,
						pager:false,
						minSlides:7,
						moveSlides:1,
						wrapperClass:'bx',
						autoHover:true,
						infiniteLoop:whatsnew_loop,
			});
			$('.conditions_list').bxSlider({
					mode: 'vertical',
					speed:500,
					auto: true,
					pager:false,
					minSlides:7,
					moveSlides:1,
					wrapperClass:'bx',
					autoHover:true,
					infiniteLoop:pressrelease_loop,
		});
		$('.events_list').bxSlider({
						mode: 'vertical',
						speed:500,
						auto: true,
						pager:false,
						minSlides:7,
						moveSlides:1,
						wrapperClass:'bx',
						autoHover:true,
						infiniteLoop:whatsnew_loop,
			});
			$('.tenders_list').bxSlider({
						mode: 'vertical',
						speed:500,
						auto: true,
						controls:false,
						pager:false,
						minSlides:7,
						moveSlides:1,
						wrapperClass:'bx',
						autoHover:true,
						infiniteLoop:whatsnew_loop,
			});
		$('.service_content li.active').click();
		if($('#flash_title li').length>1)
			{ 
			  $('#flash_title').bxSlider({
                mode: 'horizontal',
                ticker:true,
                tickerHover: true,
				slideWidth:'auto',
                speed:slide_speed() //3S
               });
			}else if($('#flash_title li').length>0)
			{
				$('#flash_title').bxSlider({
                mode: 'horizontal',
                ticker:true,
                tickerHover: true,
                speed:40000 //3S
               });
			}		
				
	});
	temple_dashboard_count('31962');
</script>
</head><body>
    		<nav class="templemenu navbar navbar-expand-lg primary_bgcolor" style="padding:0px">
                <span></span><!-- button align for display flex-->
    			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar"><span class="navbar-toggler-icon"></span></button>
                <div id="navbar" class="navbar-collapse collapse" >
                    <ul class="nav navbar-nav mr-auto">
                                        
                     <li class="nav-item" data-menu="1"><a class="nav-link" href="../hrcehome/index_temple.php?tid=31962"><span class="fa fa-home" style="padding-right:5px;"></span>முகப்பு<span class='caret' style="border-top: 0 solid;"></span></a></li>
					<li data-menu='2' class='nav-item dropdown'>
                           <a href='#' class='dropdown-toggle nav-link' data-toggle='dropdown' role='button' aria-haspopup='true' aria-expanded='false'><span class='fa fa-history' style='padding-right:5px;'></span>வரலாறு<span class='caret'></span></a>
                           <ul class='dropdown-menu secondary_bgcolor' id='vertical_menu'>								<li data-menu="2" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வரலாறு=>தல வரலாறு');">
                                <a class='nav-link' href='../hrcehome/history.php?tid=31962'>தல வரலாறு</a></li>								<li data-menu="2" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வரலாறு=>கல்வெட்டுகள்');">
                                <a class='nav-link' href='../hrcehome/inscription.php?tid=31962'>கல்வெட்டுகள்</a></li>								<li data-menu="2" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வரலாறு=>கட்டமைப்புகள்');">
                                <a class='nav-link' href='../hrcehome/structure.php?tid=31962'>கட்டமைப்புகள்</a></li>								<li data-menu="2" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வரலாறு=>கோபுரங்கள்');">
                                <a class='nav-link' href='../hrcehome/towers.php?tid=31962'>கோபுரங்கள்</a></li>								<li data-menu="2" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வரலாறு=>மண்டபங்கள் & சிற்பங்கள்');">
                                <a class='nav-link' href='../hrcehome/sculpture.php?tid=31962'>மண்டபங்கள் & சிற்பங்கள்</a></li>								<li data-menu="2" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வரலாறு=>சிலைகள் & தெய்வங்கள் ');">
                                <a class='nav-link' href='../hrcehome/shrines.php?tid=31962'>சிலைகள் & தெய்வங்கள் </a></li>								<li data-menu="2" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வரலாறு=>சுவரோவியங்கள்');">
                                <a class='nav-link' href='../hrcehome/temple_murals.php?tid=31962'>சுவரோவியங்கள்</a></li>								<li data-menu="2" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வரலாறு=>கும்பாபிஷேகம்');">
                                <a class='nav-link' href='../hrcehome/consecrated.php?tid=31962'>கும்பாபிஷேகம்</a></li>								<li data-menu="2" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வரலாறு=>பிராணிகள்');">
                                <a class='nav-link' href='../hrcehome/animals.php?tid=31962'>பிராணிகள்</a></li>								<li data-menu="2" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வரலாறு=>திருக்குளம்');">
                                <a class='nav-link' href='../hrcehome/tanks.php?tid=31962'>திருக்குளம்</a></li>								<li data-menu="2" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வரலாறு=>சிறப்புகள்');">
                                <a class='nav-link' href='../hrcehome/speciality.php?tid=31962'>சிறப்புகள்</a></li>								<li data-menu="2" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வரலாறு=>குறிப்பு புத்தகம்');">
                                <a class='nav-link' href='../hrcehome/referencebooks.php?tid=31962'>குறிப்பு புத்தகம்</a></li></ul></li><li data-menu='3' class='nav-item dropdown'>
                           <a href='#' class='dropdown-toggle nav-link' data-toggle='dropdown' role='button' aria-haspopup='true' aria-expanded='false'><span class='fa fa-list-ul' style='padding-right:5px;'></span>வசதிகள்<span class='caret'></span></a>
                           <ul class='dropdown-menu secondary_bgcolor' id='vertical_menu'>								<li data-menu="3" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','வசதிகள்=>கோயில் வசதிகள்');">
                                <a class='nav-link' href='../hrcehome/facility.php?tid=31962'>கோயில் வசதிகள்</a></li></ul></li><li data-menu='4' class='nav-item dropdown'>
                           <a href='#' class='dropdown-toggle nav-link' data-toggle='dropdown' role='button' aria-haspopup='true' aria-expanded='false'><span class='fa fa-cogs' style='padding-right:5px;'></span>சேவைகள்<span class='caret'></span></a>
                           <ul class='dropdown-menu secondary_bgcolor' id='vertical_menu'>								<li data-menu="4" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','சேவைகள்=>அன்னதானம்');">
                                <a class='nav-link' href='../hrcehome/services.php?tid=31962&action=2'>அன்னதானம்</a></li>								<li data-menu="4" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','சேவைகள்=>நிறுவனங்கள்');">
                                <a class='nav-link' href='../hrcehome/institutions.php?tid=31962'>நிறுவனங்கள்</a></li>								<li data-menu="4" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','சேவைகள்=>ஒப்பந்தப்புள்ளி');">
                                <a class='nav-link' href='../hrcehome/hrce_tenders.php?tid=31962'>ஒப்பந்தப்புள்ளி</a></li></ul></li><li data-menu='5' class='nav-item dropdown'>
                           <a href='#' class='dropdown-toggle nav-link' data-toggle='dropdown' role='button' aria-haspopup='true' aria-expanded='false'><span class='fa fa-user' style='padding-right:5px;'></span>நிர்வாகம்<span class='caret'></span></a>
                           <ul class='dropdown-menu secondary_bgcolor' id='vertical_menu'>								<li data-menu="5" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','நிர்வாகம்=>நிர்வாக அலுவலர்');">
                                <a class='nav-link' href='../hrcehome/index_temple.php?tid=31962&action=temple_eo'>நிர்வாக அலுவலர்</a></li>								<li data-menu="5" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','நிர்வாகம்=>அறங்காவலர்');">
                                <a class='nav-link' href='../hrcehome/trustee.php?tid=31962'>அறங்காவலர்</a></li></ul></li><li data-menu='6' class='nav-item dropdown'>
                           <a href='#' class='dropdown-toggle nav-link' data-toggle='dropdown' role='button' aria-haspopup='true' aria-expanded='false'><span class='fa fa-map' style='padding-right:5px;'></span>இருப்பிடம்<span class='caret'></span></a>
                           <ul class='dropdown-menu secondary_bgcolor' id='vertical_menu'>								<li data-menu="6" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','இருப்பிடம்=>அருகிலுள்ள இடங்கள்');">
                                <a class='nav-link' href='../hrcehome/location.php?tid=31962'>அருகிலுள்ள இடங்கள்</a></li>								<li data-menu="6" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','இருப்பிடம்=>பேருந்துத் தடம்');">
                                <a class='nav-link' href='../hrcehome/transport.php?tid=31962'>பேருந்துத் தடம்</a></li></ul></li><li data-menu='7' class='nav-item dropdown'>
                           <a href='#' class='dropdown-toggle nav-link' data-toggle='dropdown' role='button' aria-haspopup='true' aria-expanded='false'><span class='fa fa-picture-o' style='padding-right:5px;'></span>புகைப்படங்கள்<span class='caret'></span></a>
                           <ul class='dropdown-menu secondary_bgcolor' id='vertical_menu'>								<li data-menu="7" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','புகைப்படங்கள்=>புகைப்பட தொகுப்பு');">
                                <a class='nav-link' href='../hrcehome/gallery.php?tid=31962'>புகைப்பட தொகுப்பு</a></li>								<li data-menu="7" class='dropdown-submenu primary_hover_color nav-item' onclick="localStorage.setItem('menu_head','புகைப்படங்கள்=>காணொளி தொகுப்பு');">
                                <a class='nav-link' href='../hrcehome/videogallery.php?tid=31962'>காணொளி தொகுப்பு</a></li></ul></li>        					<li class="nav-item" data-menu="8" onclick="localStorage.setItem('menu_head','தொடர்புக்கு');"><a class="nav-link" href="../hrcehome/index_temple.php?tid=31962&action=contact_us"><span class="fa fa-envelope" style="padding-right:5px;"></span>தொடர்புக்கு</a></li>
                                                   <li class="nav-item" data-menu="9" onclick="localStorage.setItem('menu_head','நுழைவு');"><a class="nav-link" href="../temples/login.php?tid=31962"><span class="fa fa-key" style="padding-right:5px;"></span>நுழைவு</a></li>                            <!-- <li> <a href="../eservices/epayment_view.php?tid=&action=epayment_verification" target="_blank">-</a><li>-->
                        </ul>
                         						<ul class="nav navbar-nav navbar-right" style="margin-right: 10px">
                            <li class="nav-item" data-menu=""><button data-toggle="modal" data-target="#view-modal" onclick="modelView_ajax('hrcefaq','31962','FAQs for Darshan Booking')" title="அடிக்கடி கேட்கப்படும் கேள்விகள்" class="btn btn-sm btn_faq primary_btn" style="padding: 4px 10px;font-size: 14px;background: #0777bb;color:#fff;border: 1px solid #fdfbfb;"><label id="lbl_faq" style="cursor: pointer;">FAQ </label> <i class="fa fa-question" aria-hidden="true"></i></button>
                            </li>
                        </ul>

                        &emsp;
                    <!--<div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 pull-right">
                           <div class="input-group add-on menu_input_group" style="padding:0px;">
              <input id="search" type="text" class="form-control search" placeholder="Search" autocomplete="off" style="border-radius:5px 0px 0px 5px !important" />
              <div class="input-group-btn" style="text-align:left">
                <button class="btn btn-default" type="button" style="padding: 7px 11px; display:inline-block; background-color: #e9ecef;border: 1px solid #ced4da;"><i class="fa fa-search" area-hidden="true"></i></button>
              </div>
           </div>
                    </div>-->
                    </div>
            </nav>  
  <div class="menu_head" style="color:blue; padding-left:146px"></div>
<script type="text/javascript" language="javascript">
 $(function(){
	/***** menu active class *****/
	 $('body').on('click','#navbar .nav li',function(){
		   localStorage.setItem('active',$(this).data('menu'));
		});
	
	var hmunu_code= (localStorage.getItem('active')!=null)?localStorage.getItem('active'):1;
	$('#navbar .nav li.active').removeClass('active');
	$('#navbar .nav > li[data-menu="'+hmunu_code+'"]').addClass('active');
	/***** menu active class end *****/
});	
</script><!-- Image Slider -->
<div class="bx-sliser">
  <ul class="bxslider" style="margin:0px auto">
    <li><img class='img-responsive' style='width:100%' data-id='../resources/docs/templeinfo/banner_image/31962/2152/image_1.jpg' src='../resources/docs/templeinfo/banner_image/31962/2152/image_1.jpg' alt=MURALS/></li><li><img class='img-responsive' style='width:100%' data-id='../resources/docs/templeinfo/banner_image/31962/115/image_1.jpg' src='../resources/docs/templeinfo/banner_image/31962/115/image_1.jpg' alt=Temple Towers view/></li><li><img class='img-responsive' style='width:100%' data-id='../resources/docs/templeinfo/banner_image/31962/124/image_1.jpg' src='../resources/docs/templeinfo/banner_image/31962/124/image_1.jpg' alt=TEMPLE TOWERS/></li><li><img class='img-responsive' style='width:100%' data-id='../resources/docs/templeinfo/banner_image/31962/129/image_1.jpg' src='../resources/docs/templeinfo/banner_image/31962/129/image_1.jpg' alt=CHITHIRAI FESTIVAL-CHARIOT FESTIVAL/></li>  </ul>
</div>
<!--End Image Slider -->
<!--<div class="flash_section">
  <ul class="bx-flash">
    <li style="color:#F63"><a href="../hrcehome/eservices_search.php?activity=eservices&tid=&catcode=6"><span id="lbl_onlinedarshanticketbk">Online Darshan Ticket Booking for Temples</span><img height="40px" width="70px" src="../resources/library/images/newicon.gif"></a></li>
    <li style="color:#F63"><a href="../eservices/epayment_verificationform.php">
      <label id="lbl_paymentverification" style="cursor:pointer">e-Ticket Print / e-Payment Verification</label>
      <img height="40px" width="70px" src="../resources/library/images/newicon.gif"></a></li>
  </ul>
</div>-->
<div id="bodyclass_section">
  <div class="row" style="margin-left:0px; margin-right:0px" id="homedashboard">
    <div class="col-lg-1 col-md-hidden col-sm-hidden col-hidden"> </div>
    <div class="col-lg-2 col-md-4 col-sm-4 col-6 spn_poojas" style="margin-top:10px;">
      <div class="small-box" style="background-color:rgb(132, 166, 23);cursor:pointer" onClick="window.open('/hrcehome/index_temple.php?tid=31962&action=pooja_info','_self')">
        <div class="inner center_txt" style="padding-bottom:24px">
          <div class="institute round_icon" style="position:absolute"></div>
          <h3><!--<p id="pooja_count" style="line-height: 10px;margin: 0px;"></p>--></h3>
          <h3><span id="spn_poojas">Poojas</span></h3>
        </div>
      </div>
    </div>
    <div class="col-lg-2 col-md-4 col-sm-4 col-6" style="margin-top:10px;">
      <div class="small-box" style="background-color:#AB7C44;cursor:pointer" onClick="window.open('festivals.php?tid=31962&action=festivals_info','_self')">
        <div class="inner center_txt" style="padding-bottom:24px">
          <div class="festival round_icon" style="position:absolute"></div>
          <h3><span id="lbl_festivals">Festivals</span></h3>
        </div>
      </div>
    </div>
    <div class="col-lg-2 col-md-4 col-sm-4 col-6" style="margin-top:10px;"> 
      <div class="small-box" style="background-color:#429BDB;cursor:pointer"  onClick="window.open('../hrcehome/eservices_search.php?activity=eservices&tid=31962&catcode=21&group_id=4','_self')">
        <div class="inner center_txt" style="padding-bottom:24px">
          <div class="eservice round_icon" style="position:absolute"></div>
          <h3><span id="lbl_templebookingservices">e-Services</span></h3>
        </div>
      </div> 
   	</div>
   	<!-- onClick="window.open('../hrcehome/eservices_search.php?activity=eservices&tid=31962','_self') -->
   	 <div class="col-lg-2 col-md-4 col-sm-6 col-6" style="margin-top:10px;"> 
        <div class="small-box" style="background-color:#D68B26;cursor:pointer" onClick="window.open('../hrcehome/eservices_search.php?activity=eservices&tid=31962&catcode=21&group_id=0','_self')">
            <div class="inner center_txt" style="padding-bottom:24px">
            <div class="edonate round_icon" style="position:absolute"></div>
            <h3><span id="lbl_donation">Donation</span></h3>
            </div>    
        </div>
    </div>
    <div class="col-lg-2 col-md-4 col-sm-4 col-6 spn_eservices" style="margin-top:10px; ">
      <div class="small-box" style="background-color:#AB6490;cursor:pointer" onClick="window.open('../resources/docs/virtualtour/31962/index.html','_self')">
        <div class="inner center_txt" style="padding-bottom:24px">
          <div class="virtualtour_div round_icon" style="position:absolute"> </div>
          <h3><!--<p id="donation_amount" style="line-height: 10px;margin: 0px;"></p>--></h3>
          <h3><span id="lbl_virtualtour">360 Degree View</span></h3>
        </div>
      </div>
    </div>
    <div class="col-lg-1 col-md-hidden col-sm-hidden col-hidden"> </div>
  </div>
  <div class="bottom-space row" style="background-color:#fff;">
  	<div class="col-lg-1 d-none d-lg-block d-xl-block"><span style="background-color:#495188;position:fixed;padding: 10px 10px 5px 10px;top:1;z-index:1"><div id="qrcodeTable" class="hidden"></span></div></div>
  	<div class="col-lg-10">
    <div class="row" style="margin-left:0px; margin-right:0px;">
      <div class="col-lg-12">
        <div class="flash_sec" align="center" style="margin-bottom: 5px;">
          <ul id="flash_title" class="tricker_slider">
                      </ul>
        </div>
      </div>
          </div>
    <div class="bottom-space mb-3">
      <div class="row" style="margin-left:0px; margin-right:0px">
        <div class="col-lg-2">
          <a href="https://hrce.tn.gov.in/ticketing/service_collectionindex.php?tid=31962&scode=21&sscode=1&target_type=1&paycategory=6" class="btn-gradient block hpageside_button" style="background:#fb5900"><span>விரைவு நன்கொடை (QR)</span></a><a href="https://hrce.tn.gov.in/welfare/poosariwelfarehome.php" class="btn-gradient block hpageside_button" style="background:#18aaaf"><span>பூசாரி நல வாரியம்</span></a><a href="https://hrce.tn.gov.in/hrcehome/hrce_scrollevents.php?tid=31962" class="btn-gradient block hpageside_button" style="background:#0e526e"><span>திருக்கோயில் நேரலை</span></a><a href="https://hrce.tn.gov.in/hrcehome/hrce_magazine.php" class="btn-gradient block hpageside_button" style="background:#ab6490"><span>திங்களிதழ்</span></a>        </div>
        <div class="col-md-8 center-position">
          <div class="region region-content-middle">
            <section id="block-block-11" class="block block-block clearfix">
              <div class="row" style="margin-left:0px; margin-right:0px">
                <div class="col-md-12 center-position" style="padding: 15px;">
                  <div class="content-section" style="text-align: justify;text-justify: inter-word;min-height: 100px;">
                    <h2 class="span_subhead"><b><span id="spn_abouttemple" style="font-family:'arial', Times, serif;"> About Temple</span></b></h2>
                    <p>
                      <p><span>பொதுவில் மீனாட்சி அம்மன் திருக்கோயில் என அழைக்கப்படும் அருள்மிகு மீனாட்சி சுந்தரேசுவரர் திருக்கோயிலானது, கோயில் நகரமாம் மதுரையில் வைகை ஆற்றின் தென் கரையில் அமைந்துள்ளது. இத்திருக்கோயிலின் மூலவர்கள் பார்வதியின் அம்சமான அருள்மிகு மீனாட்சி மற்றும் சிவனின் அம்சமான அருள்மிகு சுந்தரேசுவரர் ஆவர்.  இத்திருக்கோயில் ஆனது காலத்தொண்மை வாய்ந்ததும், சங்க இலக்கியங்களில் குறிப்பிடப்பட்டுள்ளதுமான மதுரை மாநகரத்தின் மையப்பகுதியில் அமைந்துள்ளது.  இத்திருக்கோயிலின் தெய்வங்கள் ஆறாம் நூற்றாண்டின் இலக்கியங்களில் புகழப்பட்டுள்ளனர். மீட்டுருவாக்கம் செய்யப்பட்டுள்ள இத்திருக்கோயில் வளாகமானது சராசரியாக 45 முதல் 50 மீட்டர்கள் உயரம் கொண்ட 14 கோபுரங்களால் சூழப்பட்டுள்ளது. இதில் தெற்கு கோபுரமே 51.9 மீட்டர்கள் (170 அடிகள்) உயரத்துடன் மிக உயர்ந்த கோபுரமாகத் திகழ்கிறது. இத்திருக்கோயில் வளாகமானது சிற்பங்கள் நிறைந்த தூண்களைக்...</span>
		                      <button onClick=modelView_ajax("hpage_abouttemple_model",52,"கோயில்_விவரம்") data-toggle="modal" data-target="#view-modal" class="btn btn-sm btn-info primary_btn" style="padding: 2px 7px;">காண்க</label></button></p>                    </p>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
        <div class="col-lg-2">
          <a href="https://hrce.tn.gov.in/hrcehome/land_search.php?activity=land_search" class="btn-gradient block hpageside_button" style="background:#18aaaf"><span>திருக்கோவில் நிலங்கள்</span></a><a href="https://hrce.tn.gov.in/eservices/online_edonation.php?tid=31962&catcode=16" class="btn-gradient block hpageside_button" style="background:#8366B4"><span>நன்கொடையாளர் பதிவு</span></a><a href="https://hrce.tn.gov.in/hrcehome/landretrieval_search.php" class="btn-gradient block hpageside_button" style="background:#0e526e"><span>திருக்கோயில் நிலம் மீட்பு விவரம்</span></a>      </div>
      </div>
    </div>
    <!-- temple additional_sec -->
    <div class="temple_sec additional_sec">
      <div class="additional_service">
        <div class="service_content">
          <h4 class="span_subhead" style="margin-top: 5px;"><span id="lbl_additional_service">Additional Service</span></h4>
          <ul class="additional_service_list" style="padding:0px;list-style: none;">
                        <li onClick="window.location='../hrcehome/dashboarddetails.php?tid=31962'" title="அறிக்கை பலகை"> <span class="additional_service_icon" style="background-image: url('../resources/library/images/dashboard-icon.png')"></span> <span class="additional_service_text">அறிக்கை பலகை</span> </li>
                        <li onClick="window.location='../hrcehome/hrce_actrules.php?action=15?tid=31962'" title="ஆறாம் திருமுறை"> <span class="additional_service_icon" style="background-image: url('../resources/library/images/temple-info-icon.png')"></span> <span class="additional_service_text">ஆறாம் திருமுறை</span> </li>
                        <li onClick="window.location='../hrcehome/externallinks.php?tid=31962'" title="இணைப்புகள்"> <span class="additional_service_icon" style="background-image: url('../resources/library/images/links.png')"></span> <span class="additional_service_text">இணைப்புகள்</span> </li>
                        <li onClick="window.location='../hrcehome/hrce_invitations.php?tid=31962'" title="அழைப்புகள்"> <span class="additional_service_icon" style="background-image: url('../images/invitation.png')"></span> <span class="additional_service_text">அழைப்புகள்</span> </li>
                      </ul>
        </div>
					<a class="btn btn-info btn_more primary_btn" href="../hrcehome/temple_more_info.php?tid=31962" style="margin-top: 25px;">
					        <label id="lbl_readmore">More...</label>
					        </a>
					 </div>
      <!-- additional_sec end-->
      <div class="press_release" style="padding-top:18px"><!-- press_release sec-->
        <div class="service_content"> 
          <!-- tab-->
          <ul class="nav nav-tabs">
                                  </ul>
          <div class="tab-content">
                      				<div id="tenders_tab" class="tab-pane fade show 
            				" style="padding:0px 15px" data-url="/hrcehome/index_temple.php?tid=31962&action=tenders">
              			<ul class="tenders_list" style="padding:0px;list-style: none;">
                	              			</ul>
            					</div>
            				          <!-- tab end--> 
        </div>
        </div>
              </div>
    </div>
    </div>
    <div class="col-lg-1"></div>
  </div>
    <!--temple additional_sec end-->
   <div class="primary_bgcolor" id="gov_site_module" style="margin-left:0px; margin-right:0px; margin-bottom: -10px; background:#0074D0;padding: 10px;">
            <div class="row gnt-portal primary_bgcolor">
                <div class="col-lg-1 col-md-1 col-sm-1 hidden-xs"></div>	
                <div class="col-lg-2 col-md-2 col-sm-2 img-responsive" align="center" style="cursor: pointer;" onClick="window.open('http://www.tn.gov.in/','new_window');" title="Tamilnadu Government Portal" >
                <img class="lazy-img lazyload"  data-awake="false" data-img-src="../resources/library/images/tngov.jpg">
                </div>
                <div class="col-lg-2 col-md-2 col-sm-2 img-responsive" align="center" style="cursor: pointer;" onClick="window.open('https://india.gov.in/','new_window')" title="Indian Government Portal" >
                <img class="lazy-img lazyload"  data-awake="false" data-img-src="../resources/library/images/indiagov.jpg">
                </div> 
                <div class="col-lg-2 col-md-2 col-sm-2 img-responsive" align="center" style="cursor: pointer;" onClick="window.open('https://mygov.in/','new_window');" title="My Government Portal" >
                <img class="lazy-img lazyload"  data-awake="false" data-img-src="../resources/library/images/mygov.jpg">
                </div>
                <div class="col-lg-2 col-md-2 col-sm-2 img-responsive" align="center" style="cursor: pointer;" onClick="window.open('http://www.digitalindia.gov.in/','new_window');" title="Digital India Portal" >
                <img class="lazy-img lazyload"  data-awake="false" data-img-src="../resources/library/images/digitalgov.jpg">
                </div>
                <div class="col-lg-2 col-md-2 col-sm-2 img-responsive" align="center" style="cursor: pointer;" onClick="window.open('https://tn.data.gov.in/','new_window');" title="Open Government Data(OGD) Platform India" > 
                <img class="lazy-img lazyload"  data-awake="false" data-img-src="../resources/library/images/datagov.jpg">
                </div>
                <div class="col-lg-1 col-md-1 col-sm-1 hidden-xs"></div>
            </div>     
        </div>

    <!-- feed back section -->
    <div class="col-lg-4 col-md-4 col-sm-4 col-10" id="feedback_section" style="border:1px solid #CCC; padding:25px;margin-bottom: 15px;"> <span class="fa fa-times feedback_simple" style="position: absolute;right: 10px;top: 10px;cursor:pointer;border: 1px solid #ccc;padding: 4px 5px;border-radius: 50%;"></span> 
    	
      <!-- <a href="javascript:void(0)" id="feedback_simple" class="feedback_simple feedback_img" style="bottom: 26%;">
      <span class="span_subhead" id="spn_feedback">feedback</span>
  </a>-->
      <section id="block-system-main" class="block block-system clearfix">
        <form id="feedbackform" class="user-info-from-cookie contact-form" action="javascript:void(0)" method="post" autocomplete="off">
          <div>
            <div style="padding:3% 0%;"><span  id="spn_feedback" style="font-size:17px">Feedback</span></div>
            <div class="form-item form-item-name form-type-textfield form-group">
              <label class="control-label" id="lbl_name">Your name</label>
              <font color="#F00"> *</font>
              <input class="form-control form-text required" type="text" id="name" name="name" maxlength="50" placeholder="Your name"/>
            </div>
            <div class="form-item form-item-mail form-type-textfield form-group">
              <label class="control-label" id="lbl_email">Your e-mail address</label>
              <font color="#F00"> *</font>
              <input class="form-control form-text required" type="text" id="email" data-id="email" name="email" maxlength="100" placeholder="Your e-mail address"/>
            </div>
            <div class="form-item form-item-subject form-type-textfield form-group">
              <label class="control-label" id="lbl_subject">Subject</label>
              <input class="form-control form-text" type="text" id="subject" name="subject"  maxlength="150" placeholder="Subject"/>
            </div>
            <div class="form-item form-item-message form-type-textarea form-group">
              <label class="control-label" id="lbl_message">Message</label>
              <font color="#F00"> *</font>
              <div class="form-textarea-wrapper resizable">
                <textarea class="form-control form-textarea required textarea_count" id="feedbackmessage" name="feedbackmessage" maxlength="500" placeholder="Message" rows="5"></textarea>
                <span class="pull-right label label-default textarea_countdisplay" id="message_count" style="line-height: 1 !important; color:#FFF !important"></span> </div>
            </div>
            <div class="captcha">
              <p> <img id="captcha" src='../includes/captcha.php' draggable="false" style="border: 1px solid #ccc;border-radius:4px;display:inline-block;"> <span class="reload_btn" onClick="captcha_reload();$(this).hide()"> <i class="fa fa-refresh primary_color" aria-hidden="true" style="font-size: 30px;cursor:pointer;display:inline-block;vertical-align:middle"></i></span></p>
              <!--<img src="../resources/library/images/reload4.png" id="btnrefresh" onclick="Captcha();"  align="absmiddle" style="cursor:pointer" height="24"/>-->
              <div class="form-item form-item-captcha-response form-type-textfield form-group">
                <label class="control-label" for="edit-captcha-response">What code is in the image? <font color="#F00"> *</font></label>
                <input data-id="captcha" class="form-control form-text cut_copy_paste required" type="text" id="captchatxt" name="captchatxt"  maxlength="5"  placeholder="Captcha"/>
                <div class="help-block">Enter the characters shown in the image.</div>
              </div>
            </div>
            <input type="hidden" name="actionmode" id="actionmode" value="new">
            <input type="hidden" name="feedback_id" id="feedback_id" />
            <input class='notclear' type="hidden" name="templeid" id="templeid" value="31962"/>
            <input class='notclear' type="hidden" name="loginid" id="loginid" value="5" />
            <input class='notclear' type="hidden" id="tokenid" name="tokenid" value=""/>
            <div class="form-actions form-wrapper form-group" id="edit-actions">
              <button type="submit" id="edit-submit" name="op" value="Send message" class="btn btn-primary form-submit primary_btn" onclick="feedbackform_save()">
              <label id="lbl_sendfeedback">Send Feedback</label>
              </button>
            </div>
          </div>
        </form>
      </section>
    </div>
    <script type="text/javascript">
		// $('#qrcodeTable').qrcode({
		//    text:"https://hrce.tn.gov.in/hrcehome/index_temple.php?tid="
		// }); 
</script>
   
  
    <div class="col-lg-12 footer" style="min-height:51px; ">
        <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:left;margin-top:9px;">
                <div class="visitor_count">
                    <label id="lbl_noofvisitors" class="span_content">Visitors Count</label>
                    <span class="count">26883094</span>
                </div>

                <a href="../hrcehome/index_temple.php?tid=31962" style="color:#FFF; "><label id="lbl_home" style="cursor:pointer" class="span_content">Home</label></a> |
                <a href="../temples/login.php" style="color:#FFF; "><label id="lbl_login" style="cursor:pointer" class="span_content">Department Login</label></a> |

                <a href="../hrcehome/temple_sitemap.php?tid=31962" style="color:#FFF; cursor:pointer"><label id="lbl_sitemap" style="cursor:pointer" class="span_content">Sitemap</label></a> | 
                <a href="../hrcehome/hrce_portalpolicy.php?searchcase=termsofuse" style="color:#FFF; cursor:pointer"><label id="lbl_portalpolicy" style="cursor:pointer" class="span_content">	Portal Policies</label></a> |
                <a href="javascript:void(0)" class="feedback_simple" style="color:#FFF; cursor:pointer">
                    <label id="spn_feedback">feedback</label>
                </a> |
                <a id="addClass" style="color:#fff"><span class="fa fa-comment"></span> <label id="lbl_openchart" style="cursor:pointer" onclick="$('#qnimate').show('');" >Open in chat</label> </a>

            </div>	
            <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:right; margin-top:10px;" >
                <span id="lbl_contentfornic1" class="span_content" style="line-height: 25px;">Designed, Developed and Hosted by</span> 
                <a href="http://www.tn.nic.in/" target="_blank" rel="noopener noreferrer" style="color:#FFF;"><span id="lbl_contentfornic2" class="span_content">Temple Admin</span>, </a>
                <span id="lbl_contentfornic3" class="span_content">Dindigul.</span>
                <br />
                <span id="lbl_contentforhrce" class="span_content">Contents Owned and Maintained by Temple Admin</span>, <span id="spn_government" class="span_content"> Temple Admin</span>
            </div> 
        </div>
    </div>
    <span id="back-to-top" class="btn btn-primary btn-lg back-to-top primary_btn" role="button" title="Click to return on the top page" data-toggle="tooltip" data-placement="left" style="min-width:unset"><span class="fa fa-chevron-up"></span></span>
    <a href="javascript:void(0)" class="feedback_simple sidebarfeedback" style="color:#FFF; cursor:pointer;margin-top:">
    <label id="spn_feedback" style="font-size:13px;font-weight:400;">feedback</label></a><div class="col-lg-4 col-md-4 col-sm-4 col-xs-10" id="feedback_section1" style="border:1px solid #CCC; padding:25px;margin-bottom: 15px;">
    <span class="fa fa-times feedback_simple1" style="position: absolute;right: 10px;top: 10px;cursor:pointer;border: 1px solid #ccc;padding: 4px 5px;border-radius: 50%;"></span><a href="javascript:void(0)" id="feedback_simple1" class="feedback_simple1 feedback_img" onclick="Captcha()">
    <label id="spn_templetiming">Temple Timing</label></a>
    <section id="block-system-main" class="block block-system clearfix">
        <div style="padding:3% 0%;"><span  id="lbl_templeopentime" style="font-size:17px">Temple Opening & Closing Timings</span></div>
                <div class="table-responsive well well-lg" style="margin:auto;margin-bottom:15px" >
            <table  border="0" bordercolor="#999" class=" table hoverTable table-bordered primary_table_color" id="subtable">
                <thead style="background-color:#337ab7; color:#FFF;">
                    <tr style="color:#FFF;"  >
                        <th  width="100%;" style="text-align:center" ><label id="lbl_templeopentime">Opening Time</label></th>
                    </tr>
                </thead>
                <tbody>
                    <tr bgcolor="#d7e6f4" align="center"><td style="border-left: 1px solid #ccc;border-right: 1px solid #ccc;">05:00 AM IST - 12:30 PM IST</td></tr><tr align="center" bgcolor="#d7e6f4"><td style="border-left: 1px solid #ccc;border-right: 1px solid #ccc;">04:00 PM IST - 10:00 PM IST</td></tr></tbody><thead align="center"><tr style="color:#FFF;">
                            <th align="center" width="100%" style="text-align:center" ><label id="lbl_colsetime">Closing Time</label></th>
                            </tr></thead><tbody><tr bgcolor="#d7e6f4"><td style="border-left: 1px solid #ccc;border-right: 1px solid #ccc;" align="center">12:30 PM IST - 04:00 PM IST</td></tr><tr bgcolor="#d7e6f4"><td colspan="2" align="center">கோவில் காலை 5 மணிக்கு திறக்கப்பட்டு மதியம் 12.30 மணி வரை திறந்திருக்கும். மாலை 4.00 மணி வரை கோவில் மூடப்பட்டிருக்கும்.மாலை 4.00 மணிக்கு கோவில் தரிசனத்திற்காக திறக்கப்படும்.திருவிழாவின் போது தினசரி பூஜை நேரங்கள் மாறலாம்.</td></tr>                </tbody>
            </table>
        </div>
    </section>
</div>
    
<script type="text/javascript" language="javascript">
    $(function(){
        $(document).on('click','.feedback_simple',function(){
            $('#feedback_section2').removeClass('feedback_open');
            $('#feedback_section1').removeClass('feedback_open');
            $('#feedback_section').toggleClass('feedback_open');
        });
        $(document).on('click','.feedback_simple1',function(){
             $('#feedback_section2').removeClass('feedback_open');
            $('#feedback_section').removeClass('feedback_open');
            $('#feedback_section1').toggleClass('feedback_open');
        });
         $(document).on('click','.feedback_simple2',function(){
            $('#feedback_section').removeClass('feedback_open');
             $('#feedback_section1').removeClass('feedback_open');
            $('#feedback_section2').toggleClass('feedback_open');
        });
        function toggle_visibility() {
            var e = document.getElementById('feedback-main');
            if(e.style.display == 'block')
                e.style.display = 'none';
            else
                e.style.display = 'block';
        }
    });	
</script>

<script src="../masters/js/master_validate.js"></script>
<style>
    .feedback {
        position: fixed;
        right: 98%;
        bottom: 250px;
        height: 100px;
        width: 100%;
        background-color: #55E;
        color: #FFF;
    }
    .feedback:hover {
        width: 100%;
    }
    .sidebarfeedback{
        cursor: pointer;
        height: 35px;
        width: 120px;
        transform: rotate(-90deg);
        -webkit-transform: rotate(-90deg);
        display: block;
        text-decoration: none !important;
        z-index: 999;
        position: fixed;
        left: -43px; 
        bottom: 250px;
        border: 2px solid #999;
        background-color: #495188;
        text-align: center;
        color: #fff;
        font-weight: bold;
        padding: 5px 0px;
/*    right: -46px;*/
font-size: 15px;
padding-top:5px;
}

</style>
      
</body>
</html>
